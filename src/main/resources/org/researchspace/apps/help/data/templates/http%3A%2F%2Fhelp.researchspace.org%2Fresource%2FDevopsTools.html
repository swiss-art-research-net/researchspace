[[#if includedTemplate]]
  <h3>Using the logs API</h3>
[[else]]
  <div class="page__grid-container help-page-container">
    <div class='page__content-container'>
      <h1>Using the logs API</h1>
[[/if]]
  [[!--  <h3>Devops Tools</h3>
    
    <p>This page provides documentation, snippets and tooling for typical devops use-cases.</p>
  --]]  
    
    
    <p>The following CURL commands demonstrate the usage of the logs API for log profile management, as well as for retrieval of log files.</p>
    
    <p>Note: the configuration is not permanent and will be reset after restarting the service</p>
    
    <pre>
    <code>
# HTTP POST request to set the log profile (e.g. to log4j2-debug)
curl -i -u admin:admin -d "logprofile=log4j2-debug" -X POST http://localhost:10214/rest/admin/logs/profile

# HTTP GET request to retrieve the currently applied log profile
curl -i -u admin:admin -X GET http://localhost:10214/rest/admin/logs/profile

# HTTP GET request to retrieve the current log level for a given logger
curl -i -u admin:admin -X GET http://localhost:10214/rest/admin/logs/loggerlevel?logger=org.researchspace.rest.endpoint

# HTTP POST request to set the log level for a given logger
curl -i -u admin:admin -d "logger=org.researchspace.rest.endpoint&level=TRACE" -X POST http://localhost:10214/rest/admin/logs/loggerlevel

# HTTP POST request to reset the logging profile
curl -i -u admin:admin -X POST http://localhost:10214/rest/admin/logs/profile/reset
    </code>
    </pre>

[[#if includedTemplate]]
[[else]]
  </div>
</div>
[[/if]]
