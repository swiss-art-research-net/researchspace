[[#if includedTemplate]]
[[else]]
  <div class="page__grid-container help-page-container">
    <div class='page__content-container'>
[[/if]]
  <h2>Utility components</h2>

  <div>
      The ResearchSpace platform exposes some additional 3rd party react components for different purposes.
      These components are prefixed with <code>mp-*</code>.
  </div>

  <hr class="divider">

  <h3 id="rs-doc_thumbnail">Resource thumbnail</h3>
  <p>The [[> Help:CodeHighlightPartial codeContent="<mp-resource-thumbnail>"]] component queries and displays a thumbnail 
    image for a specified resource. The component uses the global ThumbnailService, 
    which can be configured using the UI configuration preferredThumbnails property 
    (see <semantic-link title="Documentation" uri="Help:BasicSystemConfiguration" 
    class="text-link-action" target="_blank">system configuration</semantic-link>).</p>

  <h4>Example: Fallback Image</h4>
  <div>The <code>noImageUri</code> property defines an image that the component will display if the resource does not have any thumbnail.</div>
  <mp-code-example show-code-by-default=true>
  <![CDATA[
<mp-resource-thumbnail  iri='http://example.com/person/alice' 
                        no-image-uri='/images/help/thenounproject/noun_1113333.svg' 
                        style="max-width: 100px;"  />
  ]]>
  </mp-code-example>

  <h4>Example: Fallback Component</h4>
  <div>The [[> Help:CodeHighlightPartial codeContent="<mp-resource-thumbnail-fallback>"]] component has the same purpose as the 
    <code>noImageUri</code> property, but it defines a fallback HTML-element.
  <div>
  <mp-code-example>
  <![CDATA[
<mp-resource-thumbnail iri='http://example.com/person/alice'>
  <mp-resource-thumbnail-fallback>
    <span>Image not found!</span>
  </mp-resource-thumbnail-fallback>
</mp-resource-thumbnail>
    ]]>
  </mp-code-example>
  </div>

  <hr class="divider">

  <h3 id="rs-doc_label">Resource label</h3>
  <p>The [[> Help:CodeHighlightPartial codeContent="<mp-label>"]]
    component displays the label of the specified resource. It uses the global label resolution, 
    which can be configured using the UI configuration property <code>preferredLabels</code>
    (see <semantic-link iri='http://help.researchspace.org/resource/BasicSystemConfiguration' 
    class="text-link-action" target="_blank">system configuration</semantic-link>).</p>
  <h4>Example</h4>
  <div>
  <mp-code-example>
  <![CDATA[
<mp-label iri="http://example.com/person/alice" style="font-size: 1.3em;"></mp-label>
    ]]>
  </mp-code-example>
  </div>

  <hr class="divider">

  <h3 id="rs-doc_highlight">Highlight</h3>
  <p>The <mp-highlight> visually highlights all occurrences of a term in a given text.</p>
    <h4>Example</h4>
    <div>
    <mp-code-example>
      <mp-highlight highlight="Florence">Florence is a city in Tuscany.</mp-highlight>
    </mp-code-example>
    </div>

  <hr class="divider">

  <h3 id="rs-doc_anchorLink">Anchor link</h3>
  <div>The [[> Help:CodeHighlightPartial codeContent="<mp-anchor>"]] component scrolls the page to the target element with smooth animation.</div>

  <h4>Example: Default</h4>
  <div>
  <mp-code-block mode='text/html'>
  <![CDATA[
<mp-anchor to='#target1'>anchor link</mp-anchor>
<div id='target1'>target element</div>
    ]]>
  </mp-code-block>
  </div>

  <h4>Example: Custom offset and duration</h4>
  <div>
  <mp-code-block mode='text/html'>
  <![CDATA[
<mp-anchor to='#target2' animate='{"offset": -104, "duration": 100}'>anchor link</mp-anchor>
<div id='target2'>target element</div>
    ]]>
  </mp-code-block>
  </div>

  <hr class="divider">

  <h3 id="rs-doc_textTruncate">Text truncate</h3>
  <div> To automatically truncate long text snippets.</div>
      
  <h4>Example: Static Truncate</h4>
  <p>By default truncates to the size of the outer element, whereas the truncate element (e.g. ellipsis) can be defined:</p>
  <div>
  <mp-code-example>
  <![CDATA[
<div style="width:200px;">
  <mp-text-truncate truncate="...">
    Lorem ipsum dolor sit amet, consectetur adipiscing elit.
    Morbi vel mauris sollicitudin, i vel mauris sollicitudin, tristique mauris quis, tempor risus.
    Maecenas id turpis eget nibh aliquet venenatis.
  </mp-text-truncate>
</div>
    ]]>
  </mp-code-example>
  </div>

  <h4>Example: Truncate with option to expand or collapse</h4>
  <div> Another example is to define the maximum number of lines and to define elements, which allow the user to dynamically expand or collapse the (truncated) text.</div>
  <div>
  <mp-code-example>
  <![CDATA[
<mp-text-truncate lines=3 expand='<span>...<a>read more</a></span>' collapse='<span>(<a>show less</a>)</span>'>
  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi vel mauris sollicitudin, tristique mauris quis, tempor risus. Maecenas id turpis eget nibh aliquet venenatis. Duis in feugiat sapien, quis placerat enim. Pellentesque ac auctor risus. Sed placerat iaculis turpis in tristique. Proin dolor ex, malesuada nec purus a, viverra efficitur ex. Donec at augue ac urna fermentum cursus. Suspendisse quis feugiat nunc. Morbi ultrices, tellus vitae hendrerit dignissim, nisi leo efficitur ipsum, non varius sapien felis quis nunc. In eu risus aliquam, pellentesque purus in, imperdiet libero. Suspendisse sollicitudin ex a interdum interdum. Aenean nulla odio, pharetra et ligula quis, venenatis finibus mi. Quisque sit amet nisl nec lorem laoreet facilisis sed sed augue. Pellentesque varius consectetur gravida.
</mp-text-truncate>
    ]]>
  </mp-code-example>
  </div>

  <hr class="divider">

  <h3 id="rs-doc_copyClipboard">Copy to clipboard</h3>
  <div>The [[> Help:CodeHighlightPartial codeContent="<mp-copy-to-clipboard>"]] component copies text to clipboard.</div>
      
  <h4>Example: Default</h4>
  <div>
  <mp-code-example>
  <mp-copy-to-clipboard text='text'>
    <button class='btn btn-default'><i class='fa fa-copy'></i></button>
  </mp-copy-to-clipboard>
  </mp-code-example>
  </div>

  <h4>Example: Custom notification message</h4>
  <div>
  <mp-code-example>
  <mp-copy-to-clipboard text='text' message='Custom message'>
    <button class='btn btn-default'><i class='fa fa-copy'></i></button>
  </mp-copy-to-clipboard>
  </mp-code-example>
  </div>

  <hr class="divider">

  <h3 id="rs-doc_modal">Modal dialog / Overlay</h3>
  <div>The [[> Help:CodeHighlightPartial codeContent="<mp-overlay-dialog>"]] to open some content in a modal dialog or overlay. 
    A dialog is just a variant of on overlay. By default the attribute <code>type</code> is set to <code>type=modal</code>. 
    Setting it to <code>type=lightbox</code> will create an lightbox overlay instead of modal dialog. 
    Arbitrary elements can be wrapped into [[> Help:CodeHighlightPartial codeContent="<mp-overlay-dialog-trigger>"]]
    element to open (trigger) the dialog/overlay showing any elements specified within 
    [[> Help:CodeHighlightPartial codeContent="<mp-overlay-dialog-content>"]] element.</div>
      
  <h4>Example: Modal with Link as Trigger</h4>
  <div>
  <mp-code-example>
  <![CDATA[
<mp-overlay-dialog title="My Dialog">
  <mp-overlay-dialog-trigger><a class="text-link-action">Show in Dialog</a></mp-overlay-dialog-trigger>
  <mp-overlay-dialog-content>
    Content of the Dialog
  </mp-overlay-dialog-content>
</mp-overlay-dialog>
    ]]>
  </mp-code-example>
  </div>

  <h4>Example: Large Modal with Button as Trigger</h4>
  <div>
  <mp-code-example>
  <![CDATA[
<mp-overlay-dialog title="My Dialog" type="modal" bs-size="large">
  <mp-overlay-dialog-trigger><button class="btn btn-default">Show in Dialog</button></mp-overlay-dialog-trigger>
  <mp-overlay-dialog-content>
  Content of the Dialog
  </mp-overlay-dialog-content>
</mp-overlay-dialog>
    ]]>
  </mp-code-example>
  </div>

  <h4>Example: Overlay with Button as Trigger</h4>
  <div>
  <mp-code-example>
  <![CDATA[
<mp-overlay-dialog title="My Dialog" type="lightbox">
  <mp-overlay-dialog-trigger><button class="btn btn-default">Show in Overlay</button></mp-overlay-dialog-trigger>
  <mp-overlay-dialog-content>
    Content of the Overlay
  </mp-overlay-dialog-content>
</mp-overlay-dialog>
    ]]>
  </mp-code-example>
  </div>

  <hr class="divider">

  <h3 id="rs-doc_pageLoader">Page loader</h3>
  <div>The [[> Help:CodeHighlightPartial codeContent="<mp-page-loader>"]] component behaves similar to a 
    server-side page include with the difference that the loading and rendering is 
    done asynchronously on client side. The requested page is compiled in backend 
    with the context of the current resource (same as an include).
  </div>
      
  <h4>Example: Loading a page asynchronously in a modal dialog</h4>
  <div>
  <mp-code-example>
  <![CDATA[
<mp-overlay-dialog title="Semantic table page content" type="modal" bs-size="large">
  <mp-overlay-dialog-trigger><a class="text-link-action">Show Semantic-table guide in Dialog</a></mp-overlay-dialog-trigger>
  <mp-overlay-dialog-content>
    <style>
      .overlay-modal__body .page-breadcrumb { display: none; }
    </style>
    <div><mp-page-loader iri="http://help.researchspace.org/resource/SemanticTable"></mp-page-loader></div>
  </mp-overlay-dialog-content>
</mp-overlay-dialog>
    ]]>
  </mp-code-example>
  </div>

  <hr class="divider">

  <h3 id="rs-doc_sparqldownload">SPARQL result download</h3>
  <div>Offers results of SPARQL queries as download in different serialization format.</div>

  <h4>Configuration</h4>
  <mp-documentation type="SparqlDownloadProps"></mp-documentation>
  <br>
  <h4>Example: Download tuple result as CSV</h4>
  <div>... using a link.</div>
  <div>
  <mp-code-example>
  <![CDATA[
    <mp-sparql-download
      query="SELECT * WHERE {?a ?b ?c} LIMIT 10"
      header="text/csv"
      filename="mytupleresult.csv"
    >
      <a href="#" class="text-link-action">Download CSV</a>
    </mp-sparql-download>
    ]]>
  </mp-code-example>
  </div>

  <h4>Example: Download graph result as JSON-LD</h4>
  <div>... using a button.</div>
  <div>
  <mp-code-example>
  <![CDATA[
<mp-sparql-download
  query="CONSTRUCT {?a ?b ?c} WHERE {?a ?b ?c} LIMIT 10"
  header="application/ld+json"
  filename="mygraphresult.json">
  <button class="btn btn-default">Download JSON-LD</button>
</mp-sparql-download>
    ]]>
  </mp-code-example>
  </div>

  <hr class="divider">

  <h3 id="rs-doc_hasPermission">Has permission</h3>
  <div>The [[> Help:CodeHighlightPartial codeContent="<mp-has-permission>"]] component displays child component if user has the required permission, otherwise displays nothing.</div>    
  <div>  
    <mp-code-example>
      <mp-has-permission permission='sparql:update'>
        <div>This will be rendered if the currently logged-in user has the permission "sparql:update"</div>
      </mp-has-permission>
    </mp-code-example>
  </div>  

  <hr class="divider">

  <h3 id="rs-doc_flipPanel">Flip panel</h3>
  <div>Panel with two sides that can be flipped to <code>front</code> or <code>back</code> side.</div>
  <div>Additional values can be passed with <code>front-variables</code> ande <code>back-variables</code></div>
  <div>Trigger <code>TwoSidePanel.ShowBack</code> to show the back template and <code>TwoSidePanel.ShowFront</code> 
    to switch to the front one. It is possible to send additional values with event payload and they will be 
    available inside the template. Values that are send with event override the default template variables defined on the component.</div>
  <div>By default the template is fully re-rendered when panel is flipped, but it can be disabled with <code>refresh-on-change="false"</code> attribute.</div>
  <div>

  <h4>Configuration</h4>
  <mp-documentation type="TwoSidePanelProps"></mp-documentation>
  <mp-code-example>
    <two-side-panel id='first-flip-panel' 
                    front-variables='{"A": "A Value"}'
                    back-variables='{"B": "B Value"}'
    >
      <template id='front'>
        <p>Front Side. Variable A: {{A}}</p>
        <mp-event-trigger id='first-flip-panel-front' 
                          type='TwoSidePanel.ShowBack' 
                          targets='["first-flip-panel"]'
                          >
          <button class="btn btn-default">Show Back</button>
        </mp-event-trigger>
        <mp-event-trigger id='first-flip-panel-front' 
                          type='TwoSidePanel.ShowBack' 
                          targets='["first-flip-panel"]'
                          data='{"B": "Alternative B Value"}'
                          >
          <button class="btn btn-default" style="margin-left: 10px;">
            Show Back with Variable
          </button>
        </mp-event-trigger>
      </template>
      <template id='back'>
        <p>Back Side. Variable B: {{B}}</p>
        <mp-event-trigger id='first-flip-panel-back' 
                          type='TwoSidePanel.ShowFront' 
                          targets='["first-flip-panel"]'
                          >
          <button class="btn btn-default">Show Front</button>
        </mp-event-trigger>
      </template>
    </two-side-panel>
  </mp-code-example>
  </div>

  <hr class="divider">

  <h3 id="rs-doc_splitPane">Split pane</h3>
  <div>Allows to split an html-element into two panes, supports dynamic resizing.</div>
  <style>
    .documentation-split-pane .Pane.vertical.Pane1 > div {
      height: auto !important;
    }
  </style>
  <mp-splitpane class-name="documentation-split-pane" min-size=35 dock=true>
    <div data-flex-layout="column top-stretch" style="border-right: 1px solid #dee1e3; background: #f5f5f5; height: auto">
      <mp-splitpane-toggle-on>
        <button style="border: none; background: transparent; padding: 15px 2px; outline: none; width: 100%;">
          <i class="fa fa-angle-double-right" style="font-size: 20px;" aria-hidden="true"></i>
        </button>
      </mp-splitpane-toggle-on>
      <mp-splitpane-toggle-off>
        <button data-flex-layout="row center-left" style="border: none; border-bottom: 1px solid #999; background: #fff; padding: 15px; outline: none; width: 100%;">
          <h4 style="margin: 0px;">Sidebar</h4>
          <div class="fa fa-angle-double-left" style="font-size: 20px; margin-left: auto;" aria-hidden="true"></div>
        </button>
      </mp-splitpane-toggle-off>
      <mp-splitpane-sidebar-open style="display: flex; flex-direction: column; flex: auto;">
        Sidebar Content
      </mp-splitpane-sidebar-open>
    </div>

    <div style="padding-left: 30px;">

      <h4>Basic example</h4>
  
      <mp-code-example>
        <![CDATA[
<mp-splitpane min-size=110>
  <div data-flex-layout="column top-stretch" style="border-right: 1px solid #dee1e3; background: #f5f5f5;">
    Pane 1
  </div>
  <div data-flex-layout="column top-stretch" style="background: #f5f5f5;">
    Pane 2
  </div>
</mp-splitpane>
        ]]>
      </mp-code-example>
  
      <br>
      <div>View more at <semantic-link iri='[[resolvePrefix "Help:MPSplitPaneComponent"]]' 
        class="text-link-action" target="_blank">Split pane guide</semantic-link>.</div>
    </div>
  </mp-splitpane>

[[#if includedTemplate]]
[[else]]
  </div>
</div>
[[/if]]