<div class="page__grid-container">
  <div class='page__content-container'>
    <div class="page__main-title-row">
      <h1 class="headline">Projects</h1>
      <div class="page__main-top-actions">
        [[#if (hasPermission "forms:ldp:*")]]
            <button class="btn btn-default btn-textAndIcon" title="New Project">
              <rs-icon icon-type="round" icon-name="add_box"></rs-icon>
              <span>New Project</span>
            </button>
        [[/if]]
      </div>
    </div>
    <div style="margin-top:10px">
      <semantic-context repository='assets'>
          
          <semantic-table config='{

          "query": "SELECT * WHERE {
                      ?page crm:P2_has_type <http://www.researchspace.org/resource/system/vocab/resource_type/project> .
                      ?page crm:P1_is_identified_by ?identifier.
                      ?identifier rdfs:label ?label .

                      ?page crm:P67i_is_referred_to_by ?ref .
                      ?ref crm:P2_has_type <http://www.researchspace.org/resource/vocab/text_type/description> .
                      ?ref crm:P190_has_symbolic_content ?description .
                    } ORDER BY DESC(?ref)",
                    
          "columnConfiguration": [{
                                    "variableName": "page",
                                    "displayName": "Project",
                                    "cellTemplate": "{{> view}}"
                                  },
                                  
                                  {
                                    "variableName": "description",
                                    "displayName": "Description"
                                  }                                  
                                ]}'>
            
            <template id='view'>
              <div style="display: flex; align-items: center;">
                <rs-icon icon-type="rounded" icon-name="drag_indicator" symbol="true" style="margin-right: 12px;"></rs-icon>
                <semantic-link iri='{{page.value}}' 
                                class='a-draggable'
                                >
                  <div style="display: flex; align-items: center;">
                    <span>{{label.value}}</span>
                  </div>
                </semantic-link>

              </div>
              
            </template>
          </semantic-table>
      </semantic-context>
    </div>
  </div>
</div>