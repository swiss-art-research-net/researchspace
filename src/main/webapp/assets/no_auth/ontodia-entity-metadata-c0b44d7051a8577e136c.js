(window.webpackJsonp=window.webpackJsonp||[]).push([[446],{1464:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var r=i(11),a=i(1),n=i(43),o=i(23),d=i(1562),l=i(1637),f=function(t){function OntodiaEntityMetadata(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(OntodiaEntityMetadata,t),OntodiaEntityMetadata.prototype.render=function(){return null},OntodiaEntityMetadata.getRequiredFields=function(t,e){var i=[];if(t.labelIri&&i.push(o.Rdf.iri(t.labelIri)),t.imageIri&&i.push(o.Rdf.iri(t.imageIri)),t.fields)for(var r=0,a=t.fields;r<a.length;r++){var n=a[r];i.push(o.Rdf.iri(n))}return Promise.resolve(i)},OntodiaEntityMetadata.configure=function(t,e){return r.__awaiter(this,void 0,Promise,(function(){return r.__generator(this,(function(i){return function extractAuthoringMetadata(t,e){var i=e.fieldByIri,o=e.typeIri,f=e.datatypeFields,p=t.entityTypeIri,s=t.fields,u=t.labelIri,y=void 0===u?e.defaultLabelIri:u,m=t.imageIri,c=void 0===m?e.defaultImageIri:m,h=t.newSubjectTemplate,g=void 0===h?e.defaultSubjectTemplate:h;if("string"!=typeof p)throw new Error("Missing 'entity-type-iri' property for <ontodia-entity-metadata>");if(!s)throw new Error("Missing 'fields' property for <ontodia-entity-metadata>");if("string"!=typeof y)throw new Error("Missing 'label-iri' property for <ontodia-entity-metadata>");var w=i.get(y),v=i.get(o),M=i.get(c);if(!v)throw new Error("<ontodia-entity-metadata> for <"+p+">: missing type field <"+o+">");if(!w)throw new Error("<ontodia-entity-metadata> for <"+p+">: missing label field <"+y+">");var E=s.map((function(t){var e=i.get(t);if(!e)throw new Error("<ontodia-entity-metadata> for <"+p+">: missing field <"+y+">");return e})),I=[v,w];M&&I.push(M);var b=r.__spreadArrays(I,E),F=n.Map(b.map((function(t){return[t.iri,t]}))),O={entityType:p,fields:b,fieldByIri:F,datatypeFields:n.Set(f.filter((function(t){return F.has(t)}))),typeField:v,labelField:w,imageField:M,newSubjectTemplate:g,formChildren:t.children};(function validateFormFieldsDatatype(t,e){if(!t)return;a.Children.forEach(t,(function(t){var i=d.mapChildToComponent(t);if(i&&!d.FieldMapping.isComposite(i))if(d.FieldMapping.isInput(i)){var r=e.fieldByIri.get(i.element.props.for);if(l.isObjectProperty(r,e))throw new Error("XSD Datatype of the field <"+r.iri+"> isn't literal")}else d.FieldMapping.isOtherElement(i)&&validateFormFieldsDatatype(i.children,e)}))})(O.formChildren,O),e.collectedMetadata.set(O.entityType,O)}(t,e),[2]}))}))},OntodiaEntityMetadata}(a.Component);e.OntodiaEntityMetadata=f,l.assertFieldConfigurationItem(f),e.default=f}}]);
//# sourceMappingURL=ontodia-entity-metadata-c0b44d7051a8577e136c.js.map