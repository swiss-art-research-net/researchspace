{"version":3,"sources":["webpack:///./node_modules/yasgui-utils/src/main.js","webpack:///./node_modules/yasgui-utils/src/storage.js","webpack:///./node_modules/yasgui-utils/src/svg.js"],"names":["window","console","module","exports","storage","svg","version","nestedExists","obj","args","Array","prototype","slice","call","arguments","i","length","hasOwnProperty","store","times","day","month","year","root","set","key","val","exp","onQuotaExceeded","enabled","undefined","documentElement","XMLSerializer","serializeToString","time","Date","getTime","e","quotaExceeded","isQuotaExceeded","code","name","number","remove","removeAll","filter","each","value","clearAll","get","info","draw","parent","svgString","el","getElement","append","appendChild","indexOf","DOMParser","parseFromString","svgContainer","document","createElement","className"],"mappings":"gFAAAA,OAAOC,QAAUD,OAAOC,SAAW,CAAC,IAAM,cAC1CC,EAAOC,QAAU,CAChBC,QAAS,EAAQ,MACjBC,IAAK,EAAQ,MACbC,QAAS,CACR,eAAiB,EAAQ,MAAmBA,SAE7CC,aAAe,SAASC,GAGvB,IAFA,IAAIC,EAAOC,MAAMC,UAAUC,MAAMC,KAAKC,UAAW,GAExCC,EAAI,EAAGA,EAAIN,EAAKO,OAAQD,IAAK,CACrC,IAAKP,IAAQA,EAAIS,eAAeR,EAAKM,IACpC,OAAO,EAERP,EAAMA,EAAIC,EAAKM,IAEhB,OAAO,K,qBChBT,IAAIG,EAAQ,EAAQ,MAChBC,EAAQ,CACVC,IAAK,WACH,OAAO,OAETC,MAAO,WACLF,EAAMC,OAERE,KAAM,WACJH,EAAME,UAyBV,IAAIE,EAAQrB,EAAOC,QAAU,CAC3BqB,IAAK,SAASC,EAAKC,EAAKC,EAAKC,GAC3B,GAAKV,EAAMW,SACPJ,QAAeK,IAARJ,EAAmB,CACV,iBAAPC,IACTA,EAAMR,EAAMQ,MAGVD,EAAIK,kBAAiBL,GAAM,IAAIM,eAAgBC,kBAAkBP,EAAIK,kBACzE,IACEb,EAAMM,IAAIC,EAAK,CACbC,IAAKA,EACLC,IAAKA,EACLO,MAAM,IAAIC,MAAOC,YAEnB,MAAOC,GAEP,GADAA,EAAEC,cAtCV,SAASC,gBAAgBF,GACvB,IAAIC,GAAgB,EACpB,GAAID,EACF,GAAIA,EAAEG,KACJ,OAAQH,EAAEG,MACR,KAAK,GACHF,GAAgB,EAChB,MACF,KAAK,KAEY,+BAAXD,EAAEI,OACJH,GAAgB,QAIC,aAAdD,EAAEK,SAEXJ,GAAgB,GAGpB,OAAOA,EAkBiBC,CAAgBF,IAC9BA,EAAEC,gBAAiBV,EAGrB,MAAMS,EAFNT,EAAgBS,MAOxBM,OAAQ,SAASlB,GACVP,EAAMW,SACPJ,GAAKP,EAAMyB,OAAOlB,IAExBmB,UAAW,SAASC,GACb3B,EAAMW,UACNgB,EAEwB,mBAAXA,GAChB3B,EAAM4B,MAAK,SAASC,EAAOtB,GACrBoB,EAAOpB,EAAKsB,IAAQxB,EAAKoB,OAAOlB,MAHtCP,EAAM8B,aAOVC,IAAK,SAASxB,GACZ,IAAKP,EAAMW,QAAS,OAAO,KAC3B,GAAIJ,EAAK,CACP,IAAIyB,EAAOhC,EAAM+B,IAAIxB,GACrB,OAAKyB,EAGDA,EAAKvB,MAAO,IAAIQ,MAAOC,UAAYc,EAAKhB,KAAOgB,EAAKvB,IAC/C,KAEFuB,EAAKxB,IALH,KAOT,OAAO,Q,mBCrFbxB,EAAOC,QAAU,CAChBgD,KAAM,SAASC,EAAQC,GACtB,GAAKD,EAAL,CACA,IAAIE,EAAKpD,EAAOC,QAAQoD,WAAWF,GAC/BC,IACCF,EAAOI,OACVJ,EAAOI,OAAOF,GAGdF,EAAOK,YAAYH,MAItBC,WAAY,SAASF,GACpB,GAAIA,GAA0C,GAA7BA,EAAUK,QAAQ,QAAc,CAEhD,IAEIrD,GAFS,IAAIsD,WACAC,gBAAgBP,EAAW,YAC9BtB,gBAEV8B,EAAeC,SAASC,cAAc,OAG1C,OAFAF,EAAaG,UAAY,SACzBH,EAAaJ,YAAYpD,GAClBwD,EAER,OAAO,K","file":"npm.yasgui-utils-696de549c2598c0445a9.js","sourcesContent":["window.console = window.console || {\"log\":function(){}};//make sure any console statements don't break IE\nmodule.exports = {\n\tstorage: require(\"./storage.js\"),\n\tsvg: require(\"./svg.js\"),\n\tversion: {\n\t\t\"yasgui-utils\" : require(\"../package.json\").version,\n\t},\n\tnestedExists : function(obj) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\t\tfor (var i = 0; i < args.length; i++) {\n\t\t\tif (!obj || !obj.hasOwnProperty(args[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tobj = obj[args[i]];\n\t\t}\n\t\treturn true;\n\t}\n};\n","var store = require(\"store\");\nvar times = {\n  day: function() {\n    return 1000 * 3600 * 24; //millis to day\n  },\n  month: function() {\n    times.day() * 30;\n  },\n  year: function() {\n    times.month() * 12;\n  }\n};\nfunction isQuotaExceeded(e) {\n  var quotaExceeded = false;\n  if (e) {\n    if (e.code) {\n      switch (e.code) {\n        case 22:\n          quotaExceeded = true;\n          break;\n        case 1014:\n          // Firefox\n          if (e.name === \"NS_ERROR_DOM_QUOTA_REACHED\") {\n            quotaExceeded = true;\n          }\n          break;\n      }\n    } else if (e.number === -2147024882) {\n      // Internet Explorer 8\n      quotaExceeded = true;\n    }\n  }\n  return quotaExceeded;\n}\nvar root = (module.exports = {\n  set: function(key, val, exp, onQuotaExceeded) {\n    if (!store.enabled) return; //this is probably in private mode. Don't run, as we might get Js errors\n    if (key && val !== undefined) {\n      if (typeof exp == \"string\") {\n        exp = times[exp]();\n      }\n      //try to store string for dom objects (e.g. XML result). Otherwise, we might get a circular reference error when stringifying this\n      if (val.documentElement) val = new XMLSerializer().serializeToString(val.documentElement);\n      try {\n        store.set(key, {\n          val: val,\n          exp: exp,\n          time: new Date().getTime()\n        });\n      } catch (e) {\n        e.quotaExceeded = isQuotaExceeded(e);\n        if (e.quotaExceeded && onQuotaExceeded) {\n          onQuotaExceeded(e);\n        } else {\n          throw e;\n        }\n      }\n    }\n  },\n  remove: function(key) {\n    if (!store.enabled) return; //this is probably in private mode. Don't run, as we might get Js errors\n    if (key) store.remove(key);\n  },\n  removeAll: function(filter) {\n    if (!store.enabled) return; //this is probably in private mode. Don't run, as we might get Js errors\n    if (!filter) {\n      store.clearAll();\n    } else if (typeof filter === \"function\") {\n      store.each(function(value, key) {\n        if (filter(key, value)) root.remove(key);\n      });\n    }\n  },\n  get: function(key) {\n    if (!store.enabled) return null; //this is probably in private mode. Don't run, as we might get Js errors\n    if (key) {\n      var info = store.get(key);\n      if (!info) {\n        return null;\n      }\n      if (info.exp && new Date().getTime() - info.time > info.exp) {\n        return null;\n      }\n      return info.val;\n    } else {\n      return null;\n    }\n  }\n});\n","module.exports = {\n\tdraw: function(parent, svgString) {\n\t\tif (!parent) return;\n\t\tvar el = module.exports.getElement(svgString);\n\t\tif (el) {\n\t\t\tif (parent.append) {\n\t\t\t\tparent.append(el);\n\t\t\t} else {\n\t\t\t\t//regular dom doc\n\t\t\t\tparent.appendChild(el);\n\t\t\t}\n\t\t}\n\t},\n\tgetElement: function(svgString) {\n\t\tif (svgString && svgString.indexOf(\"<svg\") == 0) {\n\t\t\t//no style passed via config. guess own styles\n\t\t\tvar parser = new DOMParser();\n\t\t\tvar dom = parser.parseFromString(svgString, \"text/xml\");\n\t\t\tvar svg = dom.documentElement;\n\t\t\t\n\t\t\tvar svgContainer = document.createElement(\"div\");\n\t\t\tsvgContainer.className = 'svgImg';\n\t\t\tsvgContainer.appendChild(svg);\n\t\t\treturn svgContainer;\n\t\t}\n\t\treturn false;\n\t}\n};"],"sourceRoot":""}