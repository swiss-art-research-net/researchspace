(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1946:function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var t=o(11),n=o(1),a=o(1),i=o(72),s=o(34),u=o(23),l=o(140),c=o(1208),d=o(1553),p=o(1947),m=o(1620),f=function(e){function NestedModalForm(){var r=null!==e&&e.apply(this,arguments)||this;return r.cancellation=new s.Cancellation,r}return t.__extends(NestedModalForm,e),NestedModalForm.prototype.componentWillUnmount=function(){this.cancellation.cancelAll()},NestedModalForm.prototype.render=function(){var e=this,r=this.props,o=r.definition,t=r.onSubmit,s=r.onCancel,m=r.children,f=r.subject,v={id:m.props.id,browserPersistence:!1,subject:f||u.Rdf.iri(""),postAction:function(r){m.props.postAction&&p.performFormPostAction({postAction:m.props.postAction,subject:r,eventProps:{isNewSubject:!0,sourceId:m.props.id},queryParams:p.getPostActionUrlQueryParams(m.props)}),e.cancellation.map(l.getLabel(r)).observe({value:function(e){t(d.FieldValue.fromLabeled({value:r,label:e}))}})}};return n.createElement(i.Modal,{bsSize:"large",show:!0,onHide:s},n.createElement(i.Modal.Header,{closeButton:!0},n.createElement(i.Modal.Title,null,(f?"Create New ":"Edit ")+(c.getPreferredLabel(o.label)||o.id||"Value"))),n.createElement(i.Modal.Body,null,a.cloneElement(m,v)))},NestedModalForm}(a.Component);r.NestedModalForm=f,r.tryExtractNestedForm=function tryExtractNestedForm(e){if(1===a.Children.count(e)){var r=a.Children.only(e);return m.elementHasInputType(r,m.InputKind.SemanticForm)?r:void 0}}},1947:function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var t=o(23),n=o(63),a=o(162),i=o(2229);r.getPostActionUrlQueryParams=function getPostActionUrlQueryParams(e){var r={};for(var o in e){if(Object.hasOwnProperty.call(e,o))if(0===o.indexOf("urlqueryparam"))r[o.substring("urlqueryparam".length).toLowerCase()]=e[o]}return r},r.performFormPostAction=function performFormPostAction(e){var r=e.postAction,o=void 0===r?"reload":r,s=e.subject,u=e.eventProps,l=e.queryParams;if("none"!==o)if("reload"===o)n.refresh();else if("redirect"===o)n.navigateToResource(s,l).onValue((function(e){return e}));else{if("event"===o){if(!u.sourceId)throw new Error("If you want use postAction 'event', you have to define the id as well.");return void(u.isNewSubject?a.trigger({eventType:i.FormResourceCreated,source:u.sourceId,data:{iri:s.value}}):u.isRemovedSubject?a.trigger({eventType:i.FormResourceRemoved,source:u.sourceId,data:{iri:s.value}}):a.trigger({eventType:i.FormResourceUpdated,source:u.sourceId,data:{iri:s.value}}))}"function"==typeof o?o(s):n.navigateToResource(t.Rdf.iri(o),l).onValue((function(e){return e}))}}},1948:function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.createDropAskQueryForField=function createDropAskQueryForField(e){return 1===e.constraints.length?e.constraints[0].validatePattern:e.range?1===e.range.length?"\nASK {\n?value rdf:type/rdfs:subClassOf* <"+e.range[0].value+"> .\n}\n":"\nASK {\n?value rdf:type/rdfs:subClassOf* ?range .\nFILTER( ?range IN ("+e.range.map((function(e){return"<"+e.value+">"})).join(", ")+")) .\n}\n":"ASK {}"}},2229:function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var t=o(162).EventMaker;r.FormResourceCreated=t("Form.ResourceCreated"),r.FormResourceUpdated=t("Form.ResourceUpdated"),r.FormResourceRemoved=t("Form.ResourceRemoved"),r.FormRemoveResource=t("Form.RemoveResource")}}]);
//# sourceMappingURL=default~diagram-search-result~mp-sparql-query-editor~mp-spin-query-template-editor~ontodia~ontodia-e~0a82f85d-c4f375a2be9ce8e02401.js.map