{"version":3,"sources":["webpack:///./node_modules/cytoscape-navigator/cytoscape-navigator.js"],"names":["$","nativeMax","now","defaults","container","viewLiveFramerate","dblClickDelay","removeCustomContainer","rerenderDelay","debounce","Math","max","Date","getTime","func","wait","options","args","maxTimeoutId","result","stamp","thisArg","timeoutId","trailingCall","lastCalled","maxWait","trailing","TypeError","leading","isObject","value","type","complete","isCalled","id","clearTimeout","undefined","apply","delayed","remaining","setTimeout","maxDelayed","debounced","arguments","this","leadingCall","cancel","Navigator","element","_init","prototype","constructor","bb","cy","elements","boundingBox","w","h","x1","x2","Infinity","y1","y2","$element","extend","width","height","_initPanel","_initThumbnail","_initView","_initOverlay","destroy","_removeEventsHandling","$panel","empty","remove","removeData","jQuery","length","error","first","append","_setupPanel","on","proxy","resize","panelWidth","panelHeight","$thumbnail","_setupThumbnailSizes","_setupThumbnail","_updateThumbnailImage","thumbnailZoom","min","thumbnailPan","x","y","_checkThumbnailSizesAndUpdate","_zoom","_pan_x","_pan_y","_setupView","$view","viewBorderTop","parseInt","css","viewBorderRight","viewBorderBottom","viewBorderLeft","viewBorderHorizontal","viewBorderVertical","viewLocked","cyZoom","zoom","cyPan","pan","viewW","viewX","viewH","viewY","position","left","top","$overlay","overlayHookPointX","overlayHookPointY","_initEventsHandling","_thumbnailSetup","overlayListener","globalListener","that","eventsLocal","eventsGlobal","join","ev","offsetX","offsetY","targetOffset","target","offset","pageX","pageY","_eventMoveStart","_eventZoom","window","overlayInMovement","originalEvent","touches","overlayOffset","_eventMove","_eventMoveEnd","off","overlayLastMoveStartTime","_checkMousePosition","_moveCy","overlayTimeout","addClass","removeClass","zoomRate","pow","wheelDeltaY","wheelDelta","detail","mousePosition","zoomingEnabled","_zoomCy","_thumbnailUpdating","onRender","$img","img","translate","png","full","scale","indexOf","removeAttribute","setAttribute","zoomCenterRaw","zoomCenter","level","renderedPosition","register","cytoscape","jq","module","exports"],"mappings":"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","file":"npm.cytoscape-navigator-a5efe673eaa510305824.js","sourcesContent":[";(function(){ 'use strict';\n\n  var $;\n\n  var defaults = {\n      container: false // can be a HTML or jQuery element or jQuery selector\n    , viewLiveFramerate: 0 // set false to update graph pan only on drag end; set 0 to do it instantly; set a number (frames per second) to update not more than N times per second\n    , dblClickDelay: 200 // milliseconds\n    , removeCustomContainer: true // destroy the container specified by user on plugin destroy\n    , rerenderDelay: 500 // ms to throttle rerender updates to the panzoom for performance\n  };\n\n  var debounce = (function(){\n    /**\n     * lodash 3.1.1 (Custom Build) <https://lodash.com/>\n     * Build: `lodash modern modularize exports=\"npm\" -o ./`\n     * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n     * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n     * Available under MIT license <https://lodash.com/license>\n     */\n    /** Used as the `TypeError` message for \"Functions\" methods. */\n    var FUNC_ERROR_TEXT = 'Expected a function';\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeMax = Math.max,\n        nativeNow = Date.now;\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the debounced function return the result of the last\n     * `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it's invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = !!options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        lastCalled = 0;\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function complete(isCalled, id) {\n        if (id) {\n          clearTimeout(id);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (isCalled) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = undefined;\n          }\n        }\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          complete(trailingCall, maxTimeoutId);\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        complete(trailing, timeoutId);\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = undefined;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return !!value && (type == 'object' || type == 'function');\n    }\n\n    return debounce;\n\n  })();\n\n  // ported lodash throttle function\n  var throttle = function( func, wait, options ){\n    var leading = true,\n        trailing = true;\n\n    if( options === false ){\n      leading = false;\n    } else if( typeof options === typeof {} ){\n      leading = 'leading' in options ? options.leading : leading;\n      trailing = 'trailing' in options ? options.trailing : trailing;\n    }\n    options = options || {};\n    options.leading = leading;\n    options.maxWait = wait;\n    options.trailing = trailing;\n\n    return debounce( func, wait, options );\n  };\n\n  var Navigator = function ( element, options ) {\n    this._init(element, options)\n  }\n\n  Navigator.prototype = {\n\n    constructor: Navigator\n\n  /****************************\n    Main functions\n  ****************************/\n\n  , bb: function(){\n    var bb = this.cy.elements().boundingBox()\n\n    if( bb.w === 0 || bb.h === 0 ){\n      return {\n        x1: 0,\n        x2: Infinity,\n        y1: 0,\n        y2: Infinity,\n        w: Infinity,\n        h: Infinity\n      } // => hide interactive overlay\n    }\n\n    return bb\n  }\n\n  , _init: function ( cy, options ) {\n      this.$element = $( cy.container() )\n      this.options = $.extend({}, defaults, options)\n\n      this.cy = cy\n\n      // Cache bounding box\n      this.boundingBox = this.bb()\n\n      // Cache sizes\n      this.width = this.$element.width()\n      this.height = this.$element.height()\n\n      // Init components\n      this._initPanel()\n      this._initThumbnail()\n      this._initView()\n      this._initOverlay()\n    }\n\n  , destroy: function () {\n      this._removeEventsHandling();\n\n      // If container is not created by navigator and its removal is prohibited\n      if (this.options.container && !this.options.removeCustomContainer) {\n        this.$panel.empty()\n      } else {\n        this.$panel.remove()\n      }\n      this.$element.removeData('navigator')\n    }\n\n  /****************************\n    Navigator elements functions\n  ****************************/\n\n    /*\n     * Used inner attributes\n     *\n     * w {number} width\n     * h {number} height\n     */\n  , _initPanel: function () {\n      var options = this.options\n\n      if( options.container ) {\n        if( options.container instanceof jQuery ){\n          if( options.container.length > 0 ){\n            this.$panel = options.container.first()\n          } else {\n            $.error(\"Container for jquery.cyNavigator is empty\")\n            return\n          }\n        } else if ( $(options.container).length > 0 ) {\n          this.$panel = $(options.container).first()\n        } else {\n          $.error(\"There is no any element matching your selector for jquery.cyNavigator\")\n          return\n        }\n      } else {\n        this.$panel = $('<div class=\"cytoscape-navigator\"/>')\n        $('body').append(this.$panel)\n      }\n\n      this._setupPanel()\n\n      this.cy.on('resize', $.proxy(this.resize, this))\n    }\n\n  , _setupPanel: function () {\n      var options = this.options\n\n      // Cache sizes\n      this.panelWidth = this.$panel.width()\n      this.panelHeight = this.$panel.height()\n    }\n\n    /*\n     * Used inner attributes\n     *\n     * zoom {number}\n     * pan {object} - {x: 0, y: 0}\n     */\n  , _initThumbnail: function () {\n      // Create thumbnail\n      this.$thumbnail = $('<img/>')\n\n      // Add thumbnail canvas to the DOM\n      this.$panel.append(this.$thumbnail)\n\n      // Setup thumbnail\n      this._setupThumbnailSizes()\n      this._setupThumbnail()\n    }\n\n  , _setupThumbnail: function () {\n      this._updateThumbnailImage()\n    }\n\n  , _setupThumbnailSizes: function () {\n      // Update bounding box cache\n      this.boundingBox = this.bb()\n\n      this.thumbnailZoom = Math.min(this.panelHeight / this.boundingBox.h, this.panelWidth / this.boundingBox.w)\n\n      // Used on thumbnail generation\n      this.thumbnailPan = {\n        x: (this.panelWidth - this.thumbnailZoom * (this.boundingBox.x1 + this.boundingBox.x2))/2\n      , y: (this.panelHeight - this.thumbnailZoom * (this.boundingBox.y1 + this.boundingBox.y2))/2\n      }\n    }\n\n    // If bounding box has changed then update sizes\n    // Otherwise just update the thumbnail\n  , _checkThumbnailSizesAndUpdate: function () {\n      // Cache previous values\n      var _zoom = this.thumbnailZoom\n        , _pan_x = this.thumbnailPan.x\n        , _pan_y = this.thumbnailPan.y\n\n      this._setupThumbnailSizes()\n\n      if (_zoom != this.thumbnailZoom || _pan_x != this.thumbnailPan.x || _pan_y != this.thumbnailPan.y) {\n        this._setupThumbnail()\n        this._setupView()\n      } else {\n        this._updateThumbnailImage()\n      }\n    }\n\n    /*\n     * Used inner attributes\n     *\n     * w {number} width\n     * h {number} height\n     * x {number}\n     * y {number}\n     * borderWidth {number}\n     * locked {boolean}\n     */\n  , _initView: function () {\n      var that = this\n\n      this.$view = $('<div class=\"cytoscape-navigatorView\"/>')\n      this.$panel.append(this.$view)\n\n      // Compute borders\n      this.viewBorderTop = parseInt(this.$view.css('border-top-width'), 10)\n      this.viewBorderRight = parseInt(this.$view.css('border-right-width'), 10)\n      this.viewBorderBottom = parseInt(this.$view.css('border-bottom-width'), 10)\n      this.viewBorderLeft = parseInt(this.$view.css('border-left-width'), 10)\n\n      // Abstract borders\n      this.viewBorderHorizontal = this.viewBorderLeft + this.viewBorderRight\n      this.viewBorderVertical = this.viewBorderTop + this.viewBorderBottom\n\n      this._setupView()\n\n      // Hook graph zoom and pan\n      this.cy.on('zoom pan', $.proxy(this._setupView, this))\n    }\n\n  , _setupView: function () {\n      if (this.viewLocked)\n        return\n\n      var cyZoom = this.cy.zoom()\n        , cyPan = this.cy.pan()\n\n      // Horizontal computation\n      this.viewW = this.width / cyZoom * this.thumbnailZoom\n      this.viewX = -cyPan.x * this.viewW / this.width + this.thumbnailPan.x - this.viewBorderLeft\n\n      // Vertical computation\n      this.viewH = this.height / cyZoom * this.thumbnailZoom\n      this.viewY = -cyPan.y * this.viewH / this.height + this.thumbnailPan.y - this.viewBorderTop\n\n      // CSS view\n      this.$view\n        .width(this.viewW)\n        .height(this.viewH)\n        .css({\n          position: 'absolute',\n          left: this.viewX\n        , top: this.viewY\n        })\n    }\n\n    /*\n     * Used inner attributes\n     *\n     * timeout {number} used to keep stable frame rate\n     * lastMoveStartTime {number}\n     * inMovement {boolean}\n     * hookPoint {object} {x: 0, y: 0}\n     */\n  , _initOverlay: function () {\n      // Used to capture mouse events\n      this.$overlay = $('<div class=\"cytoscape-navigatorOverlay\"/>')\n\n      // Add overlay to the DOM\n      this.$panel.append(this.$overlay)\n\n      // Init some attributes\n      this.overlayHookPointX = 0;\n      this.overlayHookPointY = 0;\n\n      // Listen for events\n      this._initEventsHandling()\n    }\n\n  /****************************\n    Event handling functions\n  ****************************/\n\n  , resize: function () {\n      // Cache sizes\n      this.width = this.$element.width()\n      this.height = this.$element.height()\n\n      this._thumbnailSetup = false\n      this._setupPanel()\n      this._checkThumbnailSizesAndUpdate()\n      this._setupView()\n    }\n\n  , _initEventsHandling: function () {\n      var that = this\n        , eventsLocal = [\n        // Mouse events\n          'mousedown'\n        , 'mousewheel'\n        , 'DOMMouseScroll' // Mozilla specific event\n        // Touch events\n        , 'touchstart'\n        ]\n        , eventsGlobal = [\n          'mouseup'\n        , 'mouseout'\n        , 'mousemove'\n        // Touch events\n        , 'touchmove'\n        , 'touchend'\n        ]\n\n      // handle events and stop their propagation\n      var overlayListener;\n      this.$overlay.on(eventsLocal.join(' '), overlayListener = function (ev) {\n        // Touch events\n        if (ev.type == 'touchstart') {\n          // Will count as middle of View\n          ev.offsetX = that.viewX + that.viewW / 2\n          ev.offsetY = that.viewY + that.viewH / 2\n        }\n\n        // Normalize offset for browsers which do not provide that value\n        if (ev.offsetX === undefined || ev.offsetY === undefined) {\n          var targetOffset = $(ev.target).offset()\n          ev.offsetX = ev.pageX - targetOffset.left\n          ev.offsetY = ev.pageY - targetOffset.top\n        }\n\n        if (ev.type == 'mousedown' || ev.type == 'touchstart') {\n          that._eventMoveStart(ev)\n        } else if (ev.type == 'mousewheel' || ev.type == 'DOMMouseScroll') {\n          that._eventZoom(ev)\n        }\n\n        // Prevent default and propagation\n        // Don't use peventPropagation as it breaks mouse events\n        return false;\n      })\n\n      // Hook global events\n      var globalListener;\n      $(window).on(eventsGlobal.join(' '), globalListener = function (ev) {\n        // Do not make any computations if it is has no effect on Navigator\n        if (!that.overlayInMovement)\n          return;\n\n        // Touch events\n        if (ev.type == 'touchend') {\n          // Will count as middle of View\n          ev.offsetX = that.viewX + that.viewW / 2\n          ev.offsetY = that.viewY + that.viewH / 2\n        } else if (ev.type == 'touchmove') {\n          // Hack - we take in account only first touch\n          ev.pageX = ev.originalEvent.touches[0].pageX\n          ev.pageY = ev.originalEvent.touches[0].pageY\n        }\n\n        // Normalize offset for browsers which do not provide that value\n        if (ev.offsetX === undefined || ev.offsetY === undefined) {\n          var targetOffset = $(ev.target).offset()\n          ev.offsetX = ev.pageX - targetOffset.left\n          ev.offsetY = ev.pageY - targetOffset.top\n        }\n\n        // Translate global events into local coordinates\n        if (ev.target !== that.$overlay[0]) {\n          var targetOffset = $(ev.target).offset()\n            , overlayOffset = that.$overlay.offset()\n\n          ev.offsetX = ev.offsetX - overlayOffset.left + targetOffset.left\n          ev.offsetY = ev.offsetY - overlayOffset.top + targetOffset.top\n        }\n\n        if (ev.type == 'mousemove' || ev.type == 'touchmove') {\n          that._eventMove(ev)\n        } else if (ev.type == 'mouseup' || ev.type == 'touchend') {\n          that._eventMoveEnd(ev)\n        }\n\n        // Prevent default and propagation\n        // Don't use peventPropagation as it breaks mouse events\n        return false;\n      })\n\n      this._removeEventsHandling = function(){\n\n        this.$overlay.off( eventsLocal.join(' '), overlayListener )\n        $(window).off( eventsGlobal.join(' '), globalListener )\n      }\n    }\n\n  , _eventMoveStart: function (ev) {\n      var now = new Date().getTime()\n\n      // Check if it was double click\n      if (this.overlayLastMoveStartTime\n        && this.overlayLastMoveStartTime + this.options.dblClickDelay > now) {\n        // Reset lastMoveStartTime\n        this.overlayLastMoveStartTime = 0\n        // Enable View in order to move it to the center\n        this.overlayInMovement = true\n\n        // Set hook point as View center\n        this.overlayHookPointX = this.viewW / 2\n        this.overlayHookPointY = this.viewH / 2\n\n        // Move View to start point\n        if (this.options.viewLiveFramerate !== false) {\n          this._eventMove({\n            offsetX: this.panelWidth / 2\n          , offsetY: this.panelHeight / 2\n          })\n        } else {\n          this._eventMoveEnd({\n            offsetX: this.panelWidth / 2\n          , offsetY: this.panelHeight / 2\n          })\n        }\n\n        // View should be inactive as we don't want to move it right after double click\n        this.overlayInMovement = false\n      }\n      // This is a single click\n      // Take care as single click happens before double click 2 times\n      else {\n        this.overlayLastMoveStartTime = now\n        this.overlayInMovement = true\n        // Lock view moving caused by cy events\n        this.viewLocked = true\n\n        // if event started in View\n        if (ev.offsetX >= this.viewX && ev.offsetX <= this.viewX + this.viewW\n          && ev.offsetY >= this.viewY && ev.offsetY <= this.viewY + this.viewH\n        ) {\n          this.overlayHookPointX = ev.offsetX - this.viewX\n          this.overlayHookPointY = ev.offsetY - this.viewY\n        }\n        // if event started in Thumbnail (outside of View)\n        else {\n          // Set hook point as View center\n          this.overlayHookPointX = this.viewW / 2\n          this.overlayHookPointY = this.viewH / 2\n\n          // Move View to start point\n          this._eventMove(ev)\n        }\n      }\n    }\n\n  , _eventMove: function (ev) {\n      var that = this\n\n      this._checkMousePosition(ev)\n\n      // break if it is useless event\n      if (!this.overlayInMovement) {\n        return;\n      }\n\n      // Update cache\n      this.viewX = ev.offsetX - this.overlayHookPointX\n      this.viewY = ev.offsetY - this.overlayHookPointY\n\n      // Update view position\n      this.$view.css('left', this.viewX)\n      this.$view.css('top', this.viewY)\n\n      // Move Cy\n      if (this.options.viewLiveFramerate !== false) {\n        // trigger instantly\n        if (this.options.viewLiveFramerate == 0) {\n          this._moveCy()\n        }\n        // trigger less often than frame rate\n        else if (!this.overlayTimeout) {\n          // Set a timeout for graph movement\n          this.overlayTimeout = setTimeout(function () {\n            that._moveCy()\n            that.overlayTimeout = false\n          }, 1000/this.options.viewLiveFramerate)\n        }\n      }\n    }\n\n  , _checkMousePosition: function (ev) {\n      // If mouse in over View\n      if(ev.offsetX > this.viewX && ev.offsetX < this.viewX + this.viewBorderHorizontal + this.viewW\n        && ev.offsetY > this.viewY && ev.offsetY < this.viewY + this.viewBorderVertical + this.viewH) {\n        this.$panel.addClass('mouseover-view')\n      } else {\n        this.$panel.removeClass('mouseover-view')\n      }\n    }\n\n  , _eventMoveEnd: function (ev) {\n      // Unlock view changing caused by graph events\n      this.viewLocked = false\n\n      // Remove class when mouse is not over Navigator\n      this.$panel.removeClass('mouseover-view')\n\n      if (!this.overlayInMovement) {\n        return;\n      }\n\n      // Trigger one last move\n      this._eventMove(ev)\n\n      // If mode is not live then move graph on drag end\n      if (this.options.viewLiveFramerate === false) {\n        this._moveCy()\n      }\n\n      // Stop movement permission\n      this.overlayInMovement = false\n    }\n\n  , _eventZoom: function (ev) {\n      var zoomRate = Math.pow(10, ev.originalEvent.wheelDeltaY / 1000 || ev.originalEvent.wheelDelta / 1000 || ev.originalEvent.detail / -32)\n        , mousePosition = {\n            left: ev.offsetX\n          , top: ev.offsetY\n          }\n\n      if (this.cy.zoomingEnabled()) {\n        this._zoomCy(zoomRate, mousePosition)\n      }\n    }\n\n  , _updateThumbnailImage: function () {\n    var that = this;\n\n    if( this._thumbnailUpdating ){\n      return;\n    }\n\n    this._thumbnailUpdating = true;\n\n    var render = function(){\n      that._checkThumbnailSizesAndUpdate();\n      that._setupView();\n\n      var $img = that.$thumbnail;\n      var img = $img[0];\n\n      var w = that.panelWidth;\n      var h = that.panelHeight;\n      var bb = that.boundingBox;\n      var zoom = Math.min( w/bb.w, h/bb.h );\n\n      var pxRatio = 1;\n\n      var translate = {\n        x: (w - zoom*( bb.w ))/2,\n        y: (h - zoom*( bb.h ))/2\n      };\n\n      var png = that.cy.png({\n        full: true,\n        scale: zoom\n      });\n\n      if( png.indexOf('image/png') < 0 ){\n        img.removeAttribute( 'src' );\n      } else {\n        img.setAttribute( 'src', png );\n      }\n\n      $img.css({\n        'position': 'absolute',\n        'left': translate.x + 'px',\n        'top': translate.y + 'px'\n      });\n    }\n\n    this.cy.onRender( throttle(render, that.options.rerenderDelay) );\n  }\n\n  /****************************\n    Navigator view moving\n  ****************************/\n\n  , _moveCy: function () {\n      this.cy.pan({\n        x: -(this.viewX + this.viewBorderLeft - this.thumbnailPan.x) * this.width / this.viewW\n      , y: -(this.viewY + this.viewBorderLeft - this.thumbnailPan.y) * this.height / this.viewH\n      })\n    }\n\n  /**\n   * Zooms graph.\n   *\n   * @this {cytoscapeNavigator}\n   * @param {number} zoomRate The zoom rate value. 1 is 100%.\n   */\n  , _zoomCy: function (zoomRate, zoomCenterRaw) {\n      var zoomCenter\n        , isZoomCenterInView = false\n\n      zoomCenter = {\n        x: this.width / 2\n      , y: this.height / 2\n      };\n\n      this.cy.zoom({\n        level: this.cy.zoom() * zoomRate\n      , renderedPosition: zoomCenter\n      })\n    }\n  }\n\n  // registers the extension on a cytoscape lib ref\n  var register = function( cytoscape, jq ){\n\n    if( !cytoscape || !jq ){ return; } // can't register if cytoscape unspecified\n\n    $ = jq;\n\n    cytoscape( 'core', 'navigator', function( options ){\n      var cy = this;\n\n      return new Navigator( cy, options );\n    } );\n\n  };\n\n  if( typeof module !== 'undefined' && module.exports ){ // expose as a commonjs module\n    module.exports = register;\n  }\n\n  if( typeof define !== 'undefined' && define.amd ){ // expose as an amd/requirejs module\n    define('cytoscape-navigator', function(){\n      return register;\n    });\n  }\n\n  if( typeof cytoscape !== 'undefined' && typeof jQuery !== 'undefined' ){ // expose to global cytoscape (i.e. window.cytoscape)\n    register( cytoscape, jQuery );\n  }\n\n})();\n"],"sourceRoot":""}