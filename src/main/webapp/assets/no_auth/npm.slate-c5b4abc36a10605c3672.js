(window.webpackJsonp=window.webpackJsonp||[]).push([[293],{1609:function(e,t,n){"use strict";n.r(t),n.d(t,"Block",(function(){return D})),n.d(t,"Change",(function(){return te})),n.d(t,"Data",(function(){return O})),n.d(t,"Decoration",(function(){return J})),n.d(t,"Document",(function(){return S})),n.d(t,"Editor",(function(){return xe})),n.d(t,"Inline",(function(){return w})),n.d(t,"KeyUtils",(function(){return k})),n.d(t,"Leaf",(function(){return B})),n.d(t,"Mark",(function(){return E})),n.d(t,"Node",(function(){return C})),n.d(t,"Operation",(function(){return X})),n.d(t,"PathUtils",(function(){return L})),n.d(t,"Point",(function(){return M})),n.d(t,"Range",(function(){return U})),n.d(t,"resetMemoization",(function(){return resetMemoization})),n.d(t,"Selection",(function(){return W})),n.d(t,"Text",(function(){return F})),n.d(t,"TextUtils",(function(){return ae})),n.d(t,"useMemoization",(function(){return useMemoization})),n.d(t,"Value",(function(){return G}));var r=n(3415),o=n.n(r),a=n(43),i=n(2387),s=n(2388),c=n(3417),u=n.n(c),l=n(3419),f=n(3420),d=n.n(f),v=n(3467),h=n.n(v),y=n(3515),p=n.n(y),g=void 0,m=void 0;function resetGenerator(){g=0,m=function generate(){return""+g++}}resetGenerator();var k={create:function create(e){if(null==e)return m();if("string"==typeof e)return e;throw new Error("Keys must be strings, but you passed: "+e)},setGenerator:function setGenerator(e){m=e},resetGenerator},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},objectWithoutProperties=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},O=function(){function Data(){classCallCheck(this,Data)}return x(Data,null,[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.Map.isMap(e))return e;if(o()(e))return Data.fromJSON(e);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){return new a.Map(e)}}]),Data}();O.fromJS=O.fromJSON;var N={data:void 0,key:void 0,nodes:void 0},S=function(e){function Document(){return classCallCheck(this,Document),possibleConstructorReturn(this,(Document.__proto__||Object.getPrototypeOf(Document)).apply(this,arguments))}return inherits(Document,e),x(Document,[{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(t){return t.toJSON(e)}))};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Document.isDocument(e))return e;if((a.List.isList(e)||Array.isArray(e))&&(e={nodes:e}),o()(e))return Document.fromJSON(e);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){if(Document.isDocument(e))return e;var t=e.data,n=void 0===t?{}:t,r=e.key,o=void 0===r?k.create():r,i=e.nodes,s=void 0===i?[]:i;return new Document({key:o,data:new a.Map(n),nodes:C.createList(s)})}}]),Document}(Object(a.Record)(N)),T={data:void 0,key:void 0,nodes:void 0,type:void 0},w=function(e){function Inline(){return classCallCheck(this,Inline),possibleConstructorReturn(this,(Inline.__proto__||Object.getPrototypeOf(Inline)).apply(this,arguments))}return inherits(Inline,e),x(Inline,[{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(t){return t.toJSON(e)}))};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Inline.isInline(e))return e;if("string"==typeof e&&(e={type:e}),o()(e))return Inline.fromJSON(e);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+e)}},{key:"createList",value:function createList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e)){var t=new a.List(e.map(Inline.create));return t}throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){if(Inline.isInline(e))return e;var t=e.data,n=void 0===t?{}:t,r=e.key,o=void 0===r?k.create():r,i=e.nodes,s=void 0===i?[]:i,c=e.type;if("string"!=typeof c)throw new Error("`Inline.fromJS` requires a `type` string.");return new Inline({key:o,type:c,data:new a.Map(n),nodes:C.createList(s)})}},{key:"isInlineList",value:function isInlineList(e){return a.List.isList(e)&&e.every((function(e){return Inline.isInline(e)}))}}]),Inline}(Object(a.Record)(T)),j={data:void 0,type:void 0},E=function(e){function Mark(){return classCallCheck(this,Mark),possibleConstructorReturn(this,(Mark.__proto__||Object.getPrototypeOf(Mark)).apply(this,arguments))}return inherits(Mark,e),x(Mark,[{key:"toJSON",value:function toJSON(){return{object:this.object,type:this.type,data:this.data.toJSON()}}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Mark.isMark(e))return e;if("string"==typeof e&&(e={type:e}),o()(e))return Mark.fromJSON(e);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"createSet",value:function createSet(e){if(a.Set.isSet(e)||Array.isArray(e))return new a.Set(e.map(Mark.create));if(null==e)return Object(a.Set)();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+e)}},{key:"createProperties",value:function createProperties(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Mark.isMark(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(o()(e)){var t={};return"type"in e&&(t.type=e.type),"data"in e&&(t.data=O.create(e.data)),t}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){var t=e.data,n=void 0===t?{}:t,r=e.type;if("string"!=typeof r)throw new Error("`Mark.fromJS` requires a `type` string.");return new Mark({type:r,data:new a.Map(n)})}},{key:"isMarkSet",value:function isMarkSet(e){return a.Set.isSet(e)&&e.every((function(e){return Mark.isMark(e)}))}}]),Mark}(Object(a.Record)(j)),P={marks:void 0,text:void 0},B=function(e){function Leaf(){return classCallCheck(this,Leaf),possibleConstructorReturn(this,(Leaf.__proto__||Object.getPrototypeOf(Leaf)).apply(this,arguments))}return inherits(Leaf,e),x(Leaf,[{key:"updateMark",value:function updateMark(e,t){var n=this.marks;if(t.equals(e))return this;if(!n.has(e))return this;var r=n.withMutations((function(n){n.remove(e).add(t)}));return this.set("marks",r)}},{key:"addMark",value:function addMark(e){var t=this.marks;return this.set("marks",t.add(e))}},{key:"addMarks",value:function addMarks(e){var t=this.marks;return this.set("marks",t.union(e))}},{key:"insertText",value:function insertText(e,t){var n=this.text,r=n.slice(0,e)+t+n.slice(e);return this.set("text",r)}},{key:"removeMark",value:function removeMark(e){var t=this.marks;return this.set("marks",t.remove(e))}},{key:"toJSON",value:function toJSON(){return{object:this.object,text:this.text,marks:this.marks.toArray().map((function(e){return e.toJSON()}))}}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Leaf.isLeaf(e))return e;if("string"==typeof e&&(e={text:e}),o()(e))return Leaf.fromJSON(e);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+e)}},{key:"createLeaves",value:function createLeaves(e){if(e.size<=1)return e;var t=!1,n=Object(a.List)().withMutations((function(n){e.findLast((function(e,r){var o=n.first();if(o){if(o.marks.equals(e.marks))return t=!0,void n.set(0,o.set("text",""+e.text+o.text));if(""===o.text)return t=!0,void n.set(0,e);if(""===e.text)return void(t=!0)}n.unshift(e)}))}));return t?n:e}},{key:"splitLeaves",value:function splitLeaves(e,t){if(t<0)return[Object(a.List)(),e];if(0===e.size)return[Object(a.List)(),Object(a.List)()];var n=0,r=-1,o=void 0,i=void 0;return e.find((function(e){r++;var a=n,s=e.text;if((n+=s.length)<t)return!1;if(a>t)return!1;var c=t-a;return o=e.set("text",s.slice(0,c)),i=e.set("text",s.slice(c)),!0})),o?""===o.text?0===r?[a.List.of(o),e]:[e.take(r),e.skip(r)]:""===i.text?r===e.size-1?[e,a.List.of(i)]:[e.take(r+1),e.skip(r+1)]:[e.take(r).push(o),e.skip(r+1).unshift(i)]:[e,Object(a.List)()]}},{key:"createList",value:function createList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e)){var t=new a.List(e.map(Leaf.create));return t}throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){var t=e.text,n=void 0===t?"":t,r=e.marks,o=void 0===r?[]:r;return new Leaf({text:n,marks:Object(a.Set)(o.map(E.fromJSON))})}},{key:"isLeafList",value:function isLeafList(e){return a.List.isList(e)&&e.every((function(e){return Leaf.isLeaf(e)}))}}]),Leaf}(Object(a.Record)(P)),_={key:void 0,marks:void 0,text:void 0},F=function(e){function Text(){return classCallCheck(this,Text),possibleConstructorReturn(this,(Text.__proto__||Object.getPrototypeOf(Text)).apply(this,arguments))}return inherits(Text,e),x(Text,[{key:"addMark",value:function addMark(e){e=E.create(e);var t=this.marks.add(e);return this.set("marks",t)}},{key:"addMarks",value:function addMarks(e){return e=E.createSet(e),this.set("marks",this.marks.union(e))}},{key:"getLeaves",value:function getLeaves(e){var t=this.key,n=this.text,r=this.marks,o=B.create({text:n,marks:r}),i=B.createList([o]);if(!e||0===e.size)return i;if(""===n){var s=e.map((function(e){return e.mark})),c=B.create({marks:s});return Object(a.List)([c])}return e.forEach((function(e){var r=e.start,o=e.end,a=e.mark,s=r.key===t,c=o.key===t;if(s&&c){var u=s?r.offset:0,l=c?o.offset-u:n.length-u;if(l<1)return;if(u>=n.length)return;if(0!==u||l<n.length){var f=B.splitLeaves(i,u),d=slicedToArray(f,2),v=d[0],h=d[1],y=B.splitLeaves(h,l),p=slicedToArray(y,2),g=p[0],m=p[1];return void(i=v.concat(g.map((function(e){return e.addMark(a)})),m))}}i=i.map((function(e){return e.addMark(a)}))})),i===this.leaves?i:B.createLeaves(i)}},{key:"insertText",value:function insertText(e,t){var n=this.text,r=n.slice(0,e)+t+n.slice(e);return this.set("text",r)}},{key:"removeMark",value:function removeMark(e){e=E.create(e);var t=this.marks.remove(e);return this.set("marks",t)}},{key:"removeText",value:function removeText(e,t){var n=this.text,r=n.slice(0,e)+n.slice(e+t);return this.set("text",r)}},{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,text:this.text,marks:this.marks.toArray().map((function(e){return e.toJSON()}))};return e.preserveKeys&&(t.key=this.key),t}},{key:"setMark",value:function setMark(e,t){var n=this.marks,r=E.create(e),o=r.merge(t),a=n.remove(r).add(o);return this.set("marks",a)}},{key:"splitText",value:function splitText(e){var t=this.text;return[this.set("text",t.slice(0,e)),this.set("text",t.slice(e)).regenerateKey()]}},{key:"mergeText",value:function mergeText(e){var t=this.text+e.text;return this.set("text",t)}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(Text.isText(e))return e;if("string"==typeof e&&(e={text:e}),o()(e))return Text.fromJSON(e);throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+e)}},{key:"createList",value:function createList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e)){var t=new a.List(e.map(Text.create));return t}throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){if(Text.isText(e))return e;Object(i.default)(null==e.leaves,"As of slate@0.46, the `leaves` property of text nodes has been removed! Each individual leaf should be created as a text node instead.");var t=e.text,n=void 0===t?"":t,r=e.marks,o=void 0===r?[]:r,a=e.key;return new Text({key:void 0===a?k.create():a,text:n,marks:E.createSet(o)})}},{key:"isTextList",value:function isTextList(e){return a.List.isList(e)&&e.every((function(e){return Text.isText(e)}))}}]),Text}(Object(a.Record)(_)),C=function(){function Node(){classCallCheck(this,Node)}return x(Node,null,[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Node.isNode(e))return e;if(o()(e)){var t=e.object;switch(!t&&e.kind&&(Object(s.default)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),t=e.kind),t){case"block":return D.create(e);case"document":return S.create(e);case"inline":return w.create(e);case"text":return F.create(e);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+e)}},{key:"createList",value:function createList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e)){var t=[];e.forEach((function(e){if(e&&"text"===e.object&&e.leaves&&Array.isArray(e.leaves)){Object(s.default)(!1,"As of slate@0.46, the `leaves` property of Text nodes has been removed. Instead, each text node contains a string of text and a unique set of marks and leaves are unnecessary.");var n=F.createList(e.leaves).toArray();t=t.concat(n)}else{var r=Node.create(e);t.push(r)}}));var n=Object(a.List)(t);return n}throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+e)}},{key:"createProperties",value:function createProperties(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(D.isBlock(e)||w.isInline(e))return{data:e.data,type:e.type};if("string"==typeof e)return{type:e};if(o()(e)){var t={};return"type"in e&&(t.type=e.type),"data"in e&&(t.data=O.create(e.data)),t}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){var t=e.object;switch(!t&&e.kind&&(Object(s.default)(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),t=e.kind),t){case"block":return D.fromJSON(e);case"document":return S.fromJSON(e);case"inline":return w.fromJSON(e);case"text":return F.fromJSON(e);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+e)}}},{key:"isNode",value:function isNode(e){return D.isBlock(e)||S.isDocument(e)||w.isInline(e)||F.isText(e)}},{key:"isNodeList",value:function isNodeList(e){return a.List.isList(e)&&e.every((function(e){return Node.isNode(e)}))}}]),Node}(),R={data:void 0,key:void 0,nodes:void 0,type:void 0},D=function(e){function Block(){return classCallCheck(this,Block),possibleConstructorReturn(this,(Block.__proto__||Object.getPrototypeOf(Block)).apply(this,arguments))}return inherits(Block,e),x(Block,[{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map((function(t){return t.toJSON(e)}))};return e.preserveKeys&&(t.key=this.key),t}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Block.isBlock(e))return e;if("string"==typeof e&&(e={type:e}),o()(e))return Block.fromJSON(e);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+e)}},{key:"createList",value:function createList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e)){var t=new a.List(e.map(Block.create));return t}throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){if(Block.isBlock(e))return e;var t=e.data,n=void 0===t?{}:t,r=e.key,o=void 0===r?k.create():r,i=e.nodes,s=void 0===i?[]:i,c=e.type;if("string"!=typeof c)throw new Error("`Block.fromJSON` requires a `type` string.");return new Block({key:o,type:c,data:Object(a.Map)(n),nodes:C.createList(s)})}},{key:"isBlockList",value:function isBlockList(e){return a.List.isList(e)&&e.every((function(e){return Block.isBlock(e)}))}}]),Block}(Object(a.Record)(R));function compare(e,t){for(var n=min(e,t),r=0;r<n;r++){var o=e.get(r),a=t.get(r);if(o<a)return-1;if(o>a)return 1}return e.size===t.size?0:null}function create$1(e){if(null==e)return null;if(a.List.isList(e))return e;if(Array.isArray(e))return Object(a.List)(e);throw new Error("Paths can only be created from arrays or lists, but you passed: "+e)}function crop(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:min(e,t),r=e.slice(0,n),o=t.slice(0,n);return[r,o]}function decrement(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1;return increment(e,0-t,n)}function increment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size-1,r=e.get(n),o=r+t,a=e.set(n,o);return a}function isAbove(e,t){var n=crop(e,t),r=slicedToArray(n,2),o=r[0],a=r[1];return e.size<t.size&&0===compare(o,a)}function isEqual(e,t){return e.equals(t)}function isYounger(e,t){var n=e.size-1,r=crop(e,t,n),o=slicedToArray(r,2),a=o[0],i=o[1],s=e.get(n),c=t.get(n);return isEqual(a,i)&&s<c}function min(e,t){return Math.min(e.size,t.size)}var L={compare,create:create$1,crop,decrement,getAncestors:function getAncestors(e){return Object(a.List)().withMutations((function(t){for(var n=0;n<e.size;n++)t.push(e.slice(0,n))}))},increment,isAbove,isAfter:function isAfter(e,t){var n=crop(e,t),r=slicedToArray(n,2);return 1===compare(r[0],r[1])},isBefore:function isBefore(e,t){var n=crop(e,t),r=slicedToArray(n,2);return-1===compare(r[0],r[1])},isEqual,isOlder:function isOlder(e,t){var n=e.size-1,r=crop(e,t,n),o=slicedToArray(r,2),a=o[0],i=o[1],s=e.get(n),c=t.get(n);return isEqual(a,i)&&s>c},isSibling:function isSibling(e,t){if(e.size!==t.size)return!1;var n=e.butLast(),r=t.butLast();return n.equals(r)},isYounger,lift:function lift(e){return e.slice(0,-1)},drop:function drop(e){return e.slice(1)},max:function max(e,t){return Math.max(e.size,t.size)},min,relate:function relate(e,t){for(var n=[],r=0;r<e.size&&r<t.size;r++){var o=e.get(r);if(o!==t.get(r))break;n.push(o)}return create$1(n)},transform:function transform(e,t){var n=t.type,r=t.position,o=t.path;if("add_mark"===n||"insert_text"===n||"remove_mark"===n||"remove_text"===n||"set_mark"===n||"set_node"===n||"set_selection"===n||"set_value"===n||0===e.size)return Object(a.List)([e]);var i=o.size-1,s=isEqual(o,e),c=isYounger(o,e),u=isAbove(o,e);if("insert_node"===n&&(s||c||u)&&(e=increment(e,1,i)),"remove_node"===n&&(c?e=decrement(e,1,i):(s||u)&&(e=[])),"merge_node"===n&&(s||c?e=decrement(e,1,i):u&&(e=increment(e=decrement(e,1,i),r,i+1))),"split_node"===n&&(s?e=[e,increment(e)]:c?e=increment(e,1,i):u&&e.get(i+1)>=r&&(e=decrement(e=increment(e,1,i),r,i+1))),"move_node"===n){var l=t.newPath;if(isEqual(o,l))return Object(a.List)([e]);u||s?e=isYounger(o,l)&&o.size<l.size?decrement(l,1,min(l,o)-1).concat(e.slice(o.size)):l.concat(e.slice(o.size)):(c&&(e=decrement(e,1,i)),(isYounger(l,e)||isEqual(l,e)||isAbove(l,e))&&(e=increment(e,1,l.size-1)))}var f=Array.isArray(e)?e:[e];return Object(a.List)(f)}},I={key:void 0,offset:void 0,path:void 0},M=function(e){function Point(){return classCallCheck(this,Point),possibleConstructorReturn(this,(Point.__proto__||Object.getPrototypeOf(Point)).apply(this,arguments))}return inherits(Point,e),x(Point,[{key:"isAfterPoint",value:function isAfterPoint(e){return!this.isUnset&&(this.key===e.key&&this.offset>e.offset||1===L.compare(this.path,e.path))}},{key:"isAfterRange",value:function isAfterRange(e){return!this.isUnset&&this.isAfterPoint(e.end)}},{key:"isAtEndOfRange",value:function isAtEndOfRange(e){return!this.isUnset&&this.equals(e.end)}},{key:"isAtStartOfRange",value:function isAtStartOfRange(e){return!this.isUnset&&this.equals(e.start)}},{key:"isBeforePoint",value:function isBeforePoint(e){return!this.isUnset&&(this.key===e.key&&this.offset<e.offset||-1===L.compare(this.path,e.path))}},{key:"isBeforeRange",value:function isBeforeRange(e){return!this.isUnset&&this.isBeforePoint(e.start)}},{key:"isInRange",value:function isInRange(e){return!this.isUnset&&(this.equals(e.start)||this.equals(e.end)||this.isAfterPoint(e.start)&&this.isBeforePoint(e.end))}},{key:"isAtEndOfNode",value:function isAtEndOfNode(e){if(this.isUnset)return!1;var t=e.getLastText();return this.key===t.key&&this.offset===t.text.length}},{key:"isAtStartOfNode",value:function isAtStartOfNode(e){if(this.isUnset)return!1;if(0!==this.offset)return!1;var t=e.getFirstText();return this.key===t.key}},{key:"isInNode",value:function isInNode(e){return!this.isUnset&&("text"===e.object&&e.key===this.key||!!e.hasNode(this.key))}},{key:"moveBackward",value:function moveBackward(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===e)return this;if(e<0)return this.moveForward(-e);var t=this.setOffset(this.offset-e);return t}},{key:"moveForward",value:function moveForward(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===e)return this;if(e<0)return this.moveBackward(-e);var t=this.setOffset(this.offset+e);return t}},{key:"moveTo",value:function moveTo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.key;"number"==typeof e?(t=e,e=this.path):"string"==typeof e?e=(n=e)===this.key?this.path:null:n=e.equals(this.path)?this.key:null;var r=this.merge({key:n,path:e,offset:t});return r}},{key:"moveToStartOfNode",value:function moveToStartOfNode(e){var t=e.getFirstText();return this.moveTo(t.key,0)}},{key:"moveToEndOfNode",value:function moveToEndOfNode(e){var t=e.getLastText();return this.moveTo(t.key,t.text.length)}},{key:"normalize",value:function normalize(e){if(null==this.key&&null==this.path)return this.setOffset(null);var t=this.key,n=this.offset,r=this.path,o=r&&e.getNode(r);if(!o&&(o=e.getNode(t)))return this.merge({path:e.getPath(t)});if(!o){Object(s.default)(!1,"A point's `path` or `key` invalid and was reset!");var a=e.getFirstText();return a?this.merge({key:a.key,offset:0,path:e.getPath(a.key)}):Point.create()}if("text"!==o.object){Object(s.default)(!1,"A point should not reference a non-text node!");var i=o.getTextAtOffset(n),c=o.getOffset(i.key);return this.merge({offset:n-c,key:i.key,path:e.getPath(i.key)})}o&&r&&t&&t!==o.key&&Object(s.default)(!1,"A point's `key` did not match its `path`!");var u=this.merge({key:o.key,path:null==r?e.getPath(o.key):r,offset:null==n?0:Math.min(n,o.text.length)});if(u.offset===o.text.length){var l=e.getClosestBlock(u.path).getNextText();l&&(u=u.merge({key:l.key,path:e.getPath(l.key),offset:0}))}return u}},{key:"setKey",value:function setKey(e){return null!=e&&(e=k.create(e)),this.set("key",e)}},{key:"setOffset",value:function setOffset(e){return this.set("offset",e)}},{key:"setPath",value:function setPath(e){return null!=e&&(e=L.create(e)),this.set("path",e)}},{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return e.preserveKeys||delete t.key,t}},{key:"unset",value:function unset(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function get$$1(){return null!=this.key&&null!=this.offset&&null!=this.path}},{key:"isUnset",get:function get$$1(){return!this.isSet}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Point.isPoint(e))return e;if(o()(e))return Point.fromJSON(e);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+e)}},{key:"createProperties",value:function createProperties(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Point.isPoint(e))return{key:e.key,offset:e.offset,path:e.path};if(o()(e)){var t={};return"key"in e&&(t.key=e.key),"offset"in e&&(t.offset=e.offset),"path"in e&&(t.path=L.create(e.path)),"path"in e&&!("key"in e)&&(t.key=null),"key"in e&&!("path"in e)&&(t.path=null),t}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){var t=e.key,n=void 0===t?null:t,r=e.offset,o=void 0===r?null:r,a=e.path,i=void 0===a?null:a;return new Point({key:n,offset:o,path:L.create(i)})}}]),Point}(Object(a.Record)(I)),z={anchor:void 0,focus:void 0,mark:void 0},J=function(e){function Decoration(){return classCallCheck(this,Decoration),possibleConstructorReturn(this,(Decoration.__proto__||Object.getPrototypeOf(Decoration)).apply(this,arguments))}return inherits(Decoration,e),x(Decoration,[{key:"setProperties",value:function setProperties(e){var t=e=Decoration.createProperties(e),n=t.anchor,r=t.focus,o=t.mark,a={};return n&&(a.anchor=M.create(n)),r&&(a.focus=M.create(r)),o&&(a.mark=E.create(o)),this.merge(a)}},{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),mark:this.mark.toJSON(e)};return t}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Decoration.isDecoration(e))return e;if(U.isRange(e))return Decoration.fromJSON(U.createProperties(e));if(o()(e))return Decoration.fromJSON(e);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+e)}},{key:"createList",value:function createList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e)){var t=new a.List(e.map(Decoration.create));return t}throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function createProperties(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Decoration.isDecoration(e))return{anchor:M.createProperties(e.anchor),focus:M.createProperties(e.focus),mark:E.create(e.mark)};if(o()(e)){var t={};return"anchor"in e&&(t.anchor=M.create(e.anchor)),"focus"in e&&(t.focus=M.create(e.focus)),"mark"in e&&(t.mark=E.create(e.mark)),t}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){var t=e.anchor,n=e.focus,r=e.mark;if(!r)throw new Error("Decorations must be created with a `mark`, but you passed: "+JSON.stringify(e));return new Decoration({anchor:M.fromJSON(t||{}),focus:M.fromJSON(n||{}),mark:E.fromJSON(r)})}}]),Decoration}(Object(a.Record)(z)),K={block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function isObject(e,t){return!(!t||!t[K[e]])}var $={anchor:void 0,focus:void 0},U=function(e){function Range(){return classCallCheck(this,Range),possibleConstructorReturn(this,(Range.__proto__||Object.getPrototypeOf(Range)).apply(this,arguments))}return inherits(Range,e),x(Range,[{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return t}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Range.isRange(e))return"range"===e.object?e:Range.fromJSON(Range.createProperties(e));if(o()(e))return Range.fromJSON(e);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+e)}},{key:"createList",value:function createList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e)){var t=new a.List(e.map(Range.create));return t}throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function createProperties(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Range.isRange(e))return{anchor:M.createProperties(e.anchor),focus:M.createProperties(e.focus)};if(o()(e)){var t={};return"anchor"in e&&(t.anchor=M.create(e.anchor)),"focus"in e&&(t.focus=M.create(e.focus)),t}throw new Error("`Range.createProperties` only accepts objects, decorations, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){var t=e.anchor,n=e.focus;return new Range({anchor:M.fromJSON(t||{}),focus:M.fromJSON(n||{})})}},{key:"isRange",value:function isRange(e){return isObject("range",e)||J.isDecoration(e)||W.isSelection(e)}}]),Range}(Object(a.Record)($)),V={anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0},W=function(e){function Selection(){return classCallCheck(this,Selection),possibleConstructorReturn(this,(Selection.__proto__||Object.getPrototypeOf(Selection)).apply(this,arguments))}return inherits(Selection,e),x(Selection,[{key:"setIsFocused",value:function setIsFocused(e){return this.set("isFocused",e)}},{key:"setMarks",value:function setMarks(e){return this.set("marks",e)}},{key:"setProperties",value:function setProperties(e){var t=e=Selection.createProperties(e),n=t.anchor,r=t.focus,o=objectWithoutProperties(t,["anchor","focus"]);return n&&(o.anchor=M.create(n)),r&&(o.focus=M.create(r)),this.merge(o)}},{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map((function(e){return e.toJSON()}))};return t}},{key:"isBlurred",get:function get$$1(){return!this.isFocused}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Selection.isSelection(e))return e;if(U.isRange(e))return Selection.fromJSON(U.createProperties(e));if(o()(e))return Selection.fromJSON(e);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"createProperties",value:function createProperties(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Selection.isSelection(e))return{anchor:M.createProperties(e.anchor),focus:M.createProperties(e.focus),isFocused:e.isFocused,marks:e.marks};if(U.isRange(e))return{anchor:M.createProperties(e.anchor),focus:M.createProperties(e.focus)};if(o()(e)){var t={};return"anchor"in e&&(t.anchor=M.create(e.anchor)),"focus"in e&&(t.focus=M.create(e.focus)),"isFocused"in e&&(t.isFocused=e.isFocused),"marks"in e&&(t.marks=null==e.marks?null:E.createSet(e.marks)),t}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){var t=e.anchor,n=e.focus,r=e.isFocused,o=void 0!==r&&r,i=e.marks,s=void 0===i?null:i;return new Selection({anchor:M.fromJSON(t||{}),focus:M.fromJSON(n||{}),isFocused:o,marks:null==s?null:new a.Set(s.map(E.fromJSON))})}}]),Selection}(Object(a.Record)(V)),q={data:void 0,decorations:void 0,document:void 0,selection:void 0},G=function(e){function Value(){return classCallCheck(this,Value),possibleConstructorReturn(this,(Value.__proto__||Object.getPrototypeOf(Value)).apply(this,arguments))}return inherits(Value,e),x(Value,[{key:"addMark",value:function addMark(e,t){t=E.create(t);var n=this,r=n.document;return r=r.addMark(e,t),n=n.set("document",r)}},{key:"insertNode",value:function insertNode(e,t){var n=this,r=n.document;return r=r.insertNode(e,t),n=(n=n.set("document",r)).mapRanges((function(e){return e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"insertText",value:function insertText(e,t,n){var r=this,o=r.document,a=o.assertNode(e);return o=o.insertText(e,t,n),a=o.assertNode(e),r=(r=r.set("document",o)).mapPoints((function(e){return e.key===a.key&&e.offset>=t?e.setOffset(e.offset+n.length):e}))}},{key:"mergeNode",value:function mergeNode(e){var t=this,n=t.document,r=n.mergeNode(e);e=n.resolvePath(e);var o=L.decrement(e),a=n.getNode(o),i=n.getNode(e);return t=(t=t.set("document",r)).mapRanges((function(e){if("text"===i.object){var t=a.text.length;e.anchor.key===i.key&&(e=e.moveAnchorTo(a.key,t+e.anchor.offset)),e.focus.key===i.key&&(e=e.moveFocusTo(a.key,t+e.focus.offset))}return e=e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"moveNode",value:function moveNode(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this,o=r,a=o.document;return L.isEqual(e,t)?r:(a=a.moveNode(e,t,n),r=(r=r.set("document",a)).mapPoints((function(e){return e.setPath(null)})))}},{key:"removeMark",value:function removeMark(e,t){t=E.create(t);var n=this,r=n.document;return r=r.removeMark(e,t),n=n.set("document",r)}},{key:"removeNode",value:function removeNode(e){var t=this,n=t.document,r=n.assertNode(e),o="text"===r.object?r:r.getFirstText()||r,a="text"===r.object?r:r.getLastText()||r,i=n.getPreviousText(o.key),s=n.getNextText(a.key);return n=n.removeNode(e),t=(t=t.set("document",n)).mapRanges((function(e){var t=e,n=t.start,o=t.end;return r.hasNode(n.key)&&(e=i?e.moveStartTo(i.key,i.text.length):s?e.moveStartTo(s.key,0):e.unset()),r.hasNode(o.key)&&(e=i?e.moveEndTo(i.key,i.text.length):s?e.moveEndTo(s.key,0):e.unset()),e=e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"removeText",value:function removeText(e,t,n){var r=this,o=r.document,a=o.assertNode(e);o=o.removeText(e,t,n),r=r.set("document",o);var i=n.length,s=t,c=t+i;return r=r.mapPoints((function(e){return e.key!==a.key?e:e.offset>=c?e.setOffset(e.offset-i):e.offset>s?e.setOffset(s):e}))}},{key:"setNode",value:function setNode(e,t){var n=this,r=n.document;return r=r.setNode(e,t),n=n.set("document",r)}},{key:"setMark",value:function setMark(e,t,n){var r=this,o=r.document;return o=o.setMark(e,t,n),r=r.set("document",o)}},{key:"setProperties",value:function setProperties(e){var t=this,n=t.document,r=e.data,o=e.decorations,a={};return r&&(a.data=r),o&&(a.decorations=o.map((function(e){return e.isSet?e:n.resolveDecoration(e)}))),t=t.merge(a)}},{key:"setSelection",value:function setSelection(e){var t=this,n=t,r=n.document,o=n.selection,a=o.setProperties(e);return o=r.resolveSelection(a),t=t.set("selection",o)}},{key:"splitNode",value:function splitNode(e,t,n){var r=this,o=r.document,a=o.splitNode(e,t,n),i=o.assertNode(e);return r=(r=r.set("document",a)).mapRanges((function(e){var n=a.getNextText(i.key),r=e,o=r.start,s=r.end;return i.key===o.key&&t<=o.offset&&(e=e.moveStartTo(n.key,o.offset-t)),i.key===s.key&&t<=s.offset&&(e=e.moveEndTo(n.key,s.offset-t)),e=e.updatePoints((function(e){return e.setPath(null)}))}))}},{key:"mapRanges",value:function mapRanges(e){var t=this,n=t,r=n.document,o=n.selection,a=n.decorations,i=o.isSet?e(o):o;i||(i=o.unset()),i!==o&&(i=r.createSelection(i)),t=t.set("selection",i);var s=a.map((function(t){var n=t.isSet?e(t):t;return n&&n!==t&&(n=r.createDecoration(n)),n}));return s=s.filter((function(e){return!!e})),t=t.set("decorations",s)}},{key:"mapPoints",value:function mapPoints(e){return this.mapRanges((function(t){return t.updatePoints(e)}))}},{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,document:this.document.toJSON(e)};return e.preserveData&&(t.data=this.data.toJSON(e)),e.preserveDecorations&&(t.decorations=this.decorations.toArray().map((function(t){return t.toJSON(e)}))),e.preserveSelection&&(t.selection=this.selection.toJSON(e)),t}},{key:"change",value:function change(){Object(i.default)(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function get$$1(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function get$$1(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function get$$1(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function get$$1(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function get$$1(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function get$$1(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function get$$1(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function get$$1(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function get$$1(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function get$$1(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function get$$1(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function get$$1(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function get$$1(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function get$$1(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function get$$1(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function get$$1(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function get$$1(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function get$$1(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function get$$1(){return this.selection.isUnset?new a.Set:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function get$$1(){return this.selection.isUnset?new a.Set:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function get$$1(){return this.selection.isUnset?new a.List:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function get$$1(){return this.selection.isUnset?S.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function get$$1(){return this.selection.isUnset?new a.List:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function get$$1(){return this.selection.isUnset?new a.List:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function get$$1(){Object(i.default)(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Value.isValue(e))return e;if(o()(e))return Value.fromJSON(e,t);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)}},{key:"createProperties",value:function createProperties(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Value.isValue(e))return{data:e.data,decorations:e.decorations};if(o()(e)){var t={};return"data"in e&&(t.data=O.create(e.data)),"decorations"in e&&(t.decorations=J.createList(e.decorations)),t}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){var t=e.data,n=void 0===t?{}:t,r=e.decorations,o=void 0===r?[]:r,i=e.document,s=void 0===i?{}:i,c=e.selection,u=void 0===c?{}:c;if(n=O.fromJSON(n),u=(s=S.fromJSON(s)).createSelection(u),o=Object(a.List)(o.map((function(e){return J.fromJSON(e)}))),u.isUnset){var l=s.getFirstText();l&&(u=u.moveToStartOfNode(l)),u=s.createSelection(u)}return new Value({data:n,decorations:o,document:s,selection:u})}}]),Value}(Object(a.Record)(q)),Y=u()("slate:operation:apply");function applyOperation(e,t){var n=(t=X.create(t)).type;switch(Y(n,t),n){case"add_mark":var r=t,o=r.path,a=r.mark;return e.addMark(o,a);case"insert_node":var i=t,s=i.path,c=i.node;return e.insertNode(s,c);case"insert_text":var u=t,l=u.path,f=u.offset,d=u.text,v=u.marks;return e.insertText(l,f,d,v);case"merge_node":var h=t.path;return e.mergeNode(h);case"move_node":var y=t,p=y.path,g=y.newPath;return e.moveNode(p,g);case"remove_mark":var m=t,k=m.path,b=m.mark;return e.removeMark(k,b);case"remove_node":var x=t.path;return e.removeNode(x);case"remove_text":var A=t,O=A.path,N=A.offset,S=A.text;return e.removeText(O,N,S);case"set_mark":var T=t,w=T.path,j=T.properties,E=T.newProperties;return e.setMark(w,j,E);case"set_node":var P=t,B=P.path,_=P.newProperties;return e.setNode(B,_);case"set_selection":var F=t.newProperties;return e.setSelection(F);case"set_value":var C=t.newProperties;return e.setProperties(C);case"split_node":var R=t,D=R.path,L=R.position,I=R.properties;return e.splitNode(D,L,I);default:throw new Error('Unknown operation type: "'+n+'".')}}var H=u()("slate:operation:invert");function invertOperation(e){var t=(e=X.create(e)).type;switch(H(t,e),t){case"insert_node":return e.set("type","remove_node");case"remove_node":return e.set("type","insert_node");case"move_node":var n=e,r=n.newPath,o=n.path;if(L.isEqual(r,o))return e;var a=L.transform(o,e).first(),i=L.transform(L.increment(o),e).first();return e.set("path",a).set("newPath",i);case"merge_node":var s=e.path,c=L.decrement(s);return e.set("type","split_node").set("path",c);case"split_node":var u=e.path,l=L.increment(u);return e.set("type","merge_node").set("path",l);case"set_node":case"set_value":case"set_selection":case"set_mark":var f=e,d=f.properties,v=f.newProperties;return e.set("properties",v).set("newProperties",d);case"insert_text":return e.set("type","remove_text");case"remove_text":return e.set("type","insert_text");case"add_mark":return e.set("type","remove_mark");case"remove_mark":return e.set("type","add_mark");default:throw new Error('Unknown operation type: "'+t+'".')}}var Q={add_mark:["path","mark","data"],insert_node:["path","node","data"],insert_text:["path","offset","text","data"],merge_node:["path","position","properties","target","data"],move_node:["path","newPath","data"],remove_mark:["path","mark","data"],remove_node:["path","node","data"],remove_text:["path","offset","text","data"],set_mark:["path","properties","newProperties","data"],set_node:["path","properties","newProperties","data"],set_selection:["properties","newProperties","data"],set_value:["properties","newProperties","data"],split_node:["path","position","properties","target","data"]},Z={length:void 0,mark:void 0,marks:void 0,newPath:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,newProperties:void 0,target:void 0,text:void 0,type:void 0,data:void 0},X=function(e){function Operation(){return classCallCheck(this,Operation),possibleConstructorReturn(this,(Operation.__proto__||Object.getPrototypeOf(Operation)).apply(this,arguments))}return inherits(Operation,e),x(Operation,[{key:"apply",value:function apply(e){return applyOperation(e,this)}},{key:"invert",value:function invert(){return invertOperation(this)}},{key:"toJSON",value:function toJSON(){var e=this.object,t=this.type,n={object:e,type:t},r=Q[t],o=!0,a=!1,i=void 0;try{for(var s,c=r[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value,l=this[u];if("mark"!==u&&"marks"!==u&&"node"!==u&&"path"!==u&&"newPath"!==u||(l=l.toJSON()),"properties"===u&&"merge_node"===t){var f={};"data"in l&&(f.data=l.data.toJS()),"type"in l&&(f.type=l.type),l=f}if(("properties"===u||"newProperties"===u)&&"set_mark"===t){var d={};"data"in l&&(d.data=l.data.toJS()),"type"in l&&(d.type=l.type),l=d}if(("properties"===u||"newProperties"===u)&&"set_node"===t){var v={};"data"in l&&(v.data=l.data.toJS()),"type"in l&&(v.type=l.type),l=v}if(("properties"===u||"newProperties"===u)&&"set_selection"===t){var h={};"anchor"in l&&(h.anchor=l.anchor.toJSON()),"focus"in l&&(h.focus=l.focus.toJSON()),"isFocused"in l&&(h.isFocused=l.isFocused),"marks"in l&&(h.marks=l.marks&&l.marks.toJSON()),l=h}if(("properties"===u||"newProperties"===u)&&"set_value"===t){var y={};"data"in l&&(y.data=l.data.toJS()),"decorations"in l&&(y.decorations=l.decorations.toJS()),l=y}if("properties"===u&&"split_node"===t){var p={};"data"in l&&(p.data=l.data.toJS()),"type"in l&&(p.type=l.type),l=p}"data"===u&&(l=l.toJSON()),n[u]=l}}catch(e){a=!0,i=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw i}}return n}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Operation.isOperation(e))return e;if(o()(e))return Operation.fromJSON(e);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+e)}},{key:"createList",value:function createList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(a.List.isList(e)||Array.isArray(e)){var t=new a.List(e.map(Operation.create));return t}throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){if(Operation.isOperation(e))return e;var t=e.type,n=Q[t],r={type:t};if(!n)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+t+'"');var o=!0,i=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,f=e[l];if("data"===l&&void 0===f&&(f={}),void 0===f)throw new Error('`Operation.fromJSON` was passed a "'+t+'" operation without the required "'+l+'" attribute.');"path"!==l&&"newPath"!==l||(f=L.create(f)),"mark"===l&&(f=E.create(f)),"marks"===l&&null!=f&&(f=E.createSet(f)),"node"===l&&(f=C.create(f)),"properties"===l&&"merge_node"===t&&(f=C.createProperties(f)),"properties"!==l&&"newProperties"!==l||"set_mark"!==t||(f=E.createProperties(f)),"properties"!==l&&"newProperties"!==l||"set_node"!==t||(f=C.createProperties(f)),"properties"!==l&&"newProperties"!==l||"set_selection"!==t||(f=W.createProperties(f)),"properties"!==l&&"newProperties"!==l||"set_value"!==t||(f=G.createProperties(f)),"properties"===l&&"split_node"===t&&(f=C.createProperties(f)),"data"===l&&(f=Object(a.Map)(f)),r[l]=f}}catch(e){i=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw s}}return new Operation(r)}},{key:"isOperationList",value:function isOperationList(e){return a.List.isList(e)&&e.every((function(e){return Operation.isOperation(e)}))}}]),Operation}(Object(a.Record)(Z)),ee={operations:void 0,value:void 0},te=function(e){function Change(){return classCallCheck(this,Change),possibleConstructorReturn(this,(Change.__proto__||Object.getPrototypeOf(Change)).apply(this,arguments))}return inherits(Change,e),x(Change,[{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,value:this.value.toJSON(e),operations:this.operations.toArray().map((function(t){return t.toJSON(e)}))};return t}}],[{key:"create",value:function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Change.isChange(e))return e;if(o()(e))return Change.fromJSON(e);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+e)}},{key:"fromJSON",value:function fromJSON(e){var t=e.value,n=e.operations,r=void 0===n?[]:n;return new Change({value:G.create(t),operations:X.createList(r)})}}]),Change}(Object(a.Record)(ee));function CommandsPlugin(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function onCommand(t,n,r){var o=t.type,a=t.args,i=e[o];if(!i)return r();n.command.apply(n,[i].concat(toConsumableArray(a)))}function onConstruct(t,n){for(var r in e)t.registerCommand(r);return n()}return{onCommand,onConstruct}}var ne=/\s/,re=/['\u2018\u2019]/,oe=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function isSurrogate(e){return 55296<=e&&e<=57343}function isWord(e,t){if(ne.test(e))return!1;if(re.test(e)){var n=t.charAt(0),r=getCharLength(n);if(isWord(n=t.slice(0,r),t.slice(r)))return!0}return!oe.test(e)}function getCharLength(e){return isSurrogate(e.charCodeAt(0))?2:1}function getCharOffset(e){return getCharLength(e.charAt(0))}function getWordOffset(e){for(var t=0,n=0,r=!1,o=void 0;o=e.charAt(n);){var a=getCharLength(o);if(isWord(o=e.slice(n,n+a),e.slice(n+a)))r=!0,t+=a;else{if(r)break;t+=a}n+=a}return t}var ae={getCharLength,getCharOffset,getCharOffsetBackward:function getCharOffsetBackward(e,t){return e=e.slice(0,t),getCharOffset(e=Object(l.reverse)(e))},getCharOffsetForward:function getCharOffsetForward(e,t){return getCharOffset(e=e.slice(t))},getWordOffset,getWordOffsetBackward:function getWordOffsetBackward(e,t){return e=e.slice(0,t),getWordOffset(e=Object(l.reverse)(e))},getWordOffsetForward:function getWordOffsetForward(e,t){return getWordOffset(e=e.slice(t))},isSurrogate,isWord};function deleteExpandedAtRange(e,t){t.isExpanded&&e.deleteAtRange(t);var n=e.value.document,r=t,o=r.start,a=r.end;return t=n.hasDescendant(o.key)?t.moveToStart():t.moveTo(a.key,0).normalize(n)}var ie={addMarkAtRange:function(e,t,n){if(!t.isCollapsed){var r=e.value.document,o=t.start,a=t.end,i=r.getTextsAtRange(t);e.withoutNormalizing((function(){i.forEach((function(t){var r=t.key,i=0,s=t.text.length;r===o.key&&(i=o.offset),r===a.key&&(s=a.offset),r===o.key&&r===a.key&&(s=a.offset-o.offset),e.addMarkByKey(r,i,s,n)}))}))}},addMarksAtRange:function(e,t,n){n.forEach((function(n){return e.addMarkAtRange(t,n)}))},deleteAtRange:function(e,t){e.snapshotSelection();var n=e.value,r=t.start,o=t.end,a=r.key,i=r.offset,s=o.key,c=o.offset,u=n.document,l=u.hasVoidParent(a,e),f=u.hasVoidParent(s,e),d=u.getClosestBlock(a),v=u.getClosestBlock(s),h=0===i&&0===c&&!1===l&&a===d.getFirstText().key&&s===v.getFirstText().key;if(h&&f){var y=u.getPreviousText(s);s=y.key,c=y.text.length,f=u.hasVoidParent(s,e)}e.withoutNormalizing((function(){for(;l;){var t=u.getClosestVoid(a,e),n=u.getNextText(a);if(e.removeNodeByKey(t.key),a===s)return;if(!n)return;u=e.value.document,a=n.key,i=0,l=u.hasVoidParent(a,e)}for(;f;){var r=u.getClosestVoid(s,e),o=u.getPreviousText(s);e.removeNodeByKey(r.key),u=e.value.document,s=o.key,c=o.text.length,f=u.hasVoidParent(s,e)}if(a===s&&h)e.removeNodeByKey(d.key);else if(a!==s){d=u.getClosestBlock(a),v=u.getClosestBlock(s);var y=u.getNode(a),p=u.getNode(s),g=y.text.length-i,m=c,k=u.getCommonAncestor(a,s),b=k.getFurthestAncestor(a),x=k.getFurthestAncestor(s),A=u.getParent(d.key),O=A.nodes.indexOf(d),N=A.nodes.indexOf(v),S=void 0;for(S=y;S.key!==b.key;){var T=u.getParent(S.key),w=T.nodes.indexOf(S);T.nodes.slice(w+1).reverse().forEach((function(t){e.removeNodeByKey(t.key)})),S=T}var j=k.nodes.indexOf(b),E=k.nodes.indexOf(x);for(k.nodes.slice(j+1,E).reverse().forEach((function(t){e.removeNodeByKey(t.key)})),S=p;S.key!==x.key;){var P=u.getParent(S.key),B=P.nodes.indexOf(S);P.nodes.slice(0,B).reverse().forEach((function(t){e.removeNodeByKey(t.key)})),S=P}if(0!==g&&e.removeTextByKey(a,i,g),0!==m&&e.removeTextByKey(s,0,c),d.key!==v.key){var _=(u=e.value.document).getFurthestOnlyChildAncestor(v.key);N!==O+1&&e.moveNodeByKey(v.key,A.key,O+1),h?e.removeNodeByKey(d.key):e.mergeNodeByKey(v.key),_&&e.removeNodeByKey(_.key)}}else{var F=i,C=c-i;e.removeTextByKey(a,F,C)}}))},deleteBackwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.value,o=r.document,a=t,i=a.start,s=a.focus;if(t.isExpanded)e.deleteAtRange(t);else{var c=o.getClosestVoid(i.key,e);if(c)e.removeNodeByKey(c.key);else if(!i.isAtStartOfNode(o)){var u=o.getClosestBlock(i.key);if(1!==o.nodes.size&&u&&""===u.text&&1===u.nodes.size)e.removeNodeByKey(u.key);else{var l=o.getDescendant(i.key);if(i.isAtStartOfNode(l)){var f=o.getPreviousText(l.key),d=o.getClosestInline(l.key);d&&""===f.text&&(f=o.getPreviousText(f.key));var v=o.getClosestBlock(f.key),h=o.getClosestVoid(f.key,e);if(h)return void e.removeNodeByKey(h.key);if(1===n&&v!==u)return t=t.moveAnchorTo(f.key,f.text.length),void e.deleteAtRange(t)}if(n<s.offset)return t=t.moveFocusBackward(n),void e.deleteAtRange(t);for(var y=l,p=0,g=s.offset;n>g;){var m=g+(y=o.getPreviousText(y.key)).text.length;if(n<=m){p=m-n;break}g=m}t=t.moveAnchorTo(y.key,p),e.deleteAtRange(t)}}}}},deleteCharBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),a=o.getOffset(r.key)+r.offset,i=o.text,s=ae.getCharOffsetBackward(i,a);e.deleteBackwardAtRange(t,s)}},deleteCharForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),a=o.getOffset(r.key)+r.offset,i=o.text,s=ae.getCharOffsetForward(i,a);e.deleteForwardAtRange(t,s)}},deleteForwardAtRange:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){var r=e.value,o=r.document,a=t,i=a.start,s=a.focus;if(t.isExpanded)e.deleteAtRange(t);else{var c=o.getClosestVoid(i.key,e);if(c)e.removeNodeByKey(c.key);else{var u=o.getClosestBlock(i.key);if(u&&!e.isVoid(u)&&""===u.text&&1!==o.nodes.size){var l=o.getNextBlock(u.key);return e.removeNodeByKey(u.key),void(l&&l.key&&e.moveToStartOfNode(l))}if(!i.isAtEndOfNode(o)){var f=o.getDescendant(i.key);if(i.isAtEndOfNode(f)){var d=o.getNextText(f.key),v=o.getClosestBlock(d.key),h=o.getClosestVoid(d.key,e);if(h)return void e.removeNodeByKey(h.key);if(1===n&&v!==u)return t=t.moveFocusTo(d.key,0),void e.deleteAtRange(t)}if(n<=f.text.length-s.offset)return t=t.moveFocusForward(n),void e.deleteAtRange(t);for(var y=f,p=s.offset,g=f.text.length-s.offset;n>g;){var m=g+(y=o.getNextText(y.key)).text.length;if(n<=m){p=n-g;break}g=m}t=t.moveFocusTo(y.key,p),e.deleteAtRange(t)}}}}},deleteLineBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key).getOffset(r.key)+r.offset;e.deleteBackwardAtRange(t,o)}},deleteLineForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),a=o.getOffset(r.key)+r.offset;e.deleteForwardAtRange(t,o.text.length-a)}},deleteWordBackwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),a=o.getOffset(r.key)+r.offset,i=o.text,s=0===a?1:ae.getWordOffsetBackward(i,a);e.deleteBackwardAtRange(t,s)}},deleteWordForwardAtRange:function(e,t){if(t.isExpanded)e.deleteAtRange(t);else{var n=e.value.document,r=t.start,o=n.getClosestBlock(r.key),a=o.getOffset(r.key)+r.offset,i=o.text,s=ae.getWordOffsetForward(i,a),c=0===s?1:s;e.deleteForwardAtRange(t,c)}},insertBlockAtRange:function(e,t,n){t=deleteExpandedAtRange(e,t),n=D.create(n);var r=e.value.document,o=t.start,a=o.key,i=o.offset,s=r.getClosestBlock(a),c=r.getClosestInline(a),u=r.getParent(s.key),l=u.nodes.indexOf(s);if(e.isVoid(s)){var f=o.isAtEndOfNode(s)?1:0;e.insertNodeByKey(u.key,l+f,n)}else if(c||""!==s.text)if(o.isAtStartOfNode(s))e.insertNodeByKey(u.key,l,n);else if(o.isAtEndOfNode(s))e.insertNodeByKey(u.key,l+1,n);else{if(c&&e.isVoid(c)){var d=o.isAtEndOfNode(c),v=d?r.getNextText(a):r.getPreviousText(a),h=d?t.moveToStartOfNode(v):t.moveToEndOfNode(v);a=h.start.key,i=h.start.offset}e.withoutNormalizing((function(){e.splitDescendantsByKey(s.key,a,i),e.insertNodeByKey(u.key,l+1,n)}))}else e.insertNodeByKey(u.key,l+1,n)},insertFragmentAtRange:function(e,t,n){e.withoutNormalizing((function(){if(t=deleteExpandedAtRange(e,t),n.nodes.size){n=n.mapDescendants((function(e){return e.regenerateKey()}));var r=t.start,o=e.value.document,i=o.getDescendant(r.key),s=o.getClosestBlock(i.key),c=s.getFurthestAncestor(i.key),u=r.isAtStartOfNode(s),l=o.getParent(s.key),f=l.nodes.indexOf(s),d=n.getBlocks(),v=n.nodes.first(),h=n.nodes.last(),y=d.first(),p=d.last(),g=se(n,o,s.key);if(y===p&&e.isVoid(y))e.insertBlockAtRange(t,y);else if(g!==n||!v.hasBlockChildren()&&!h.hasBlockChildren()){if(y!==p){var m=g.getFurthest(y.key,(function(e){return 1===e.nodes.size}))||y,k=l.nodes.indexOf(s);g.removeNode(m.key).nodes.forEach((function(t,n){var r=k+n+1;e.insertNodeByKey(l.key,r,t)}))}if(0!==r.offset&&e.splitDescendantsByKey(c.key,r.key,r.offset),i=(o=e.value.document).getDescendant(r.key),c=(s=o.getClosestBlock(r.key)).getFurthestAncestor(i.key),y!==p){var b=u?c:s.getNextSibling(c.key),x=b?s.nodes.skipUntil((function(e){return e.key===b.key})):Object(a.List)(),A=p.nodes.size;x.forEach((function(t,n){var r=A+n;e.moveNodeByKey(t.key,p.key,r)}))}if(e.isVoid(s)||""!==s.text||s.findDescendant((function(t){return e.isVoid(t)}))){var O=s.getFurthestAncestor(i.key),N=s.nodes.indexOf(O);y.nodes.forEach((function(t,n){var o=0===r.offset?0:1,a=N+n+o;e.insertNodeByKey(s.key,a,t)}))}else e.removeNodeByKey(s.key),e.insertNodeByKey(l.key,f,y)}else n.nodes.reverse().forEach((function(n){e.insertBlockAtRange(t,n)}))}}))}},se=function findInsertionNode(e,t,n){var r=function hasSingleNode(e){if(e&&"text"!==e.object)return 1===e.nodes.size},o=function firstNode(e){return e&&e.nodes.first()},a=e;if(r(e)){var i=o(e),s=t.getFurthest(n,(function matches(e){return e.type===i.type}));for(s===t.getParent(n)&&(a=i);r(i)&&r(s)&&(i=o(i),s=o(s),i.type===s.type);)a=i}return a};ie.insertInlineAtRange=function(e,t,n){n=w.create(n),e.withoutNormalizing((function(){t=deleteExpandedAtRange(e,t);var r=e.value.document,o=t.start,a=r.getParent(o.key),i=r.assertDescendant(o.key),s=a.nodes.indexOf(i);e.isVoid(a)||(e.splitNodeByKey(o.key,o.offset),e.insertNodeByKey(a.key,s+1,n))}))},ie.insertTextAtRange=function(e,t,n,r){e.withoutNormalizing((function(){t=deleteExpandedAtRange(e,t);var o=e.value.document,a=t.start,i=a.offset,s=o.getParent(a.key);e.isVoid(s)||e.insertTextByKey(a.key,i,n,r)}))},ie.removeMarkAtRange=function(e,t,n){if(!t.isCollapsed){var r=e.value.document.getTextsAtRange(t),o=t.start,a=t.end;e.withoutNormalizing((function(){r.forEach((function(t){var r=t.key,i=0,s=t.text.length;r===o.key&&(i=o.offset),r===a.key&&(s=a.offset),r===o.key&&r===a.key&&(s=a.offset-o.offset),e.removeMarkByKey(r,i,s,n)}))}))}},ie.setBlocksAtRange=function(e,t,n){var r=e.value.document,o=r.getLeafBlocksAtRange(t),a=t.start,i=t.end,s=t.isCollapsed,c=r.hasVoidParent(a.key,e),u=r.getClosestBlock(a.key),l=r.getClosestBlock(i.key),f=!1===s&&0===a.offset&&0===i.offset&&!1===c&&a.key===u.getFirstText().key&&i.key===l.getFirstText().key?o.slice(0,-1):o;e.withoutNormalizing((function(){f.forEach((function(t){e.setNodeByKey(t.key,n)}))}))},ie.setInlinesAtRange=function(e,t,n){var r=e.value.document.getLeafInlinesAtRange(t);e.withoutNormalizing((function(){r.forEach((function(t){e.setNodeByKey(t.key,n)}))}))},ie.splitBlockAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t=deleteExpandedAtRange(e,t),o=r.start,a=r.end,i=e.value,s=i,c=s.document,u=c.assertDescendant(o.key),l=c.getClosestBlock(u.key),f=0;l&&"block"===l.object&&f<n;)u=l,l=c.getClosestBlock(l.key),f++;e.withoutNormalizing((function(){if(e.splitDescendantsByKey(u.key,o.key,o.offset),i=e.value,c=i.document,t.isExpanded){t.isBackward&&(t=t.flip());var n=c.getNextBlock(u.key);t=(t=t.moveAnchorToStartOfNode(n)).setFocus(t.focus.setPath(null)),o.key===a.key&&(t=t.moveFocusTo(t.anchor.key,a.offset-o.offset)),t=c.resolveRange(t),e.deleteAtRange(t)}}))},ie.splitInlineAtRange=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=t=deleteExpandedAtRange(e,t),o=r.start,a=e.value,i=a.document,s=i.assertDescendant(o.key),c=i.getClosestInline(s.key),u=0;c&&"inline"===c.object&&u<n;)s=c,c=i.getClosestInline(c.key),u++;e.splitDescendantsByKey(s.key,o.key,o.offset)},ie.toggleMarkAtRange=function(e,t,n){t.isCollapsed||(n=E.create(n),e.value.document.getActiveMarksAtRange(t).some((function(e){return e.equals(n)}))?e.removeMarkAtRange(t,n):e.addMarkAtRange(t,n))},ie.unwrapBlockAtRange=function(e,t,n){n=C.createProperties(n);var r=e.value.document,o=r.getLeafBlocksAtRange(t),a=o.map((function(e){return r.getClosest(e.key,(function(e){return"block"===e.object&&((null==n.type||e.type===n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))}))})).filter((function(e){return e})).toOrderedSet().toList();e.withoutNormalizing((function(){a.forEach((function(t){var n=t.nodes.first(),a=t.nodes.last(),i=e.value.document.getParent(t.key),s=i.nodes.indexOf(t),c=t.nodes.filter((function(e){return o.some((function(t){return e===t||e.hasDescendant(t.key)}))})),u=c.first(),l=c.last();if(n===u&&a===l)t.nodes.forEach((function(t,n){e.moveNodeByKey(t.key,i.key,s+n)})),e.removeNodeByKey(t.key);else if(a===l)t.nodes.skipUntil((function(e){return e===u})).forEach((function(t,n){e.moveNodeByKey(t.key,i.key,s+1+n)}));else if(n===u)t.nodes.takeUntil((function(e){return e===l})).push(l).forEach((function(t,n){e.moveNodeByKey(t.key,i.key,s+n)}));else{var f=u.getFirstText();e.splitDescendantsByKey(t.key,f.key,0),r=e.value.document,c.forEach((function(t,n){if(0===n){var o=t;t=r.getNextBlock(t.key),e.removeNodeByKey(o.key)}e.moveNodeByKey(t.key,i.key,s+1+n)}))}}))}))},ie.unwrapInlineAtRange=function(e,t,n){n=C.createProperties(n);var r=e.value.document,o=r.getTextsAtRange(t).map((function(e){return r.getClosest(e.key,(function(e){return"inline"===e.object&&((null==n.type||e.type===n.type)&&!(null!=n.data&&!e.data.isSuperset(n.data)))}))})).filter((function(e){return e})).toOrderedSet().toList();e.withoutNormalizing((function(){o.forEach((function(t){var n=e.value.document.getParent(t.key),r=n.nodes.indexOf(t);t.nodes.forEach((function(t,o){e.moveNodeByKey(t.key,n.key,r+o)})),e.removeNodeByKey(t.key)}))}))},ie.wrapBlockAtRange=function(e,t,n){n=(n=D.create(n)).set("nodes",n.nodes.clear());var r=e.value.document,o=r.getLeafBlocksAtRange(t),a=o.first(),i=o.last(),s=void 0,c=void 0,u=void 0;if(1===o.length?(s=r.getParent(a.key),c=o):s=r.getClosest(a.key,(function(e){return!!r.getClosest(i.key,(function(t){return e===t}))})),null==s&&(s=r),null==c){var l=s.nodes.reduce((function(e,t,n){return(t===a||t.hasDescendant(a.key))&&(e[0]=n),(t===i||t.hasDescendant(i.key))&&(e[1]=n),e}),[]);u=l[0],c=s.nodes.slice(l[0],l[1]+1)}null==u&&(u=s.nodes.indexOf(c.first())),e.withoutNormalizing((function(){e.insertNodeByKey(s.key,u,n),c.forEach((function(t,r){e.moveNodeByKey(t.key,n.key,r)}))}))},ie.wrapInlineAtRange=function(e,t,n){var r=e.value.document,o=t.start,a=t.end;if(t.isCollapsed){var i=r.getClosestInline(o.key);if(!i)return;if(!e.isVoid(i))return;return e.wrapInlineByKey(i.key,n)}n=(n=w.create(n)).set("nodes",n.nodes.clear());var s=r.getLeafBlocksAtRange(t),c=r.getClosestBlock(o.key),u=r.getClosestBlock(a.key),l=r.getClosestInline(o.key),f=r.getClosestInline(a.key),d=c.getFurthestAncestor(o.key),v=u.getFurthestAncestor(a.key);e.withoutNormalizing((function(){l&&l===f||(e.splitDescendantsByKey(v.key,a.key,a.offset),e.splitDescendantsByKey(d.key,o.key,o.offset)),r=e.value.document,c=r.getDescendant(c.key),u=r.getDescendant(u.key),d=c.getFurthestAncestor(o.key),v=u.getFurthestAncestor(a.key);var i=c.nodes.indexOf(d),h=u.nodes.indexOf(v);if(l&&l===f){var y=c.getTextsAtRange(t).map((function(e){return o.key===e.key&&a.key===e.key?e.splitText(o.offset)[1].splitText(a.offset-o.offset)[0].regenerateKey():o.key===e.key?e.splitText(o.offset)[1].regenerateKey():a.key===e.key?e.splitText(a.offset)[0].regenerateKey():e.regenerateKey()}));n=n.set("nodes",y),e.insertInlineAtRange(t,n)}else if(c===u){r=e.value.document,c=r.getClosestBlock(o.key),d=c.getFurthestAncestor(o.key);var p=r.getNextSibling(d.key),g=c.nodes.indexOf(p),m=o.key===a.key?p:c.getFurthestAncestor(a.key),k=c.nodes.skipUntil((function(e){return e===p})).takeUntil((function(e){return e===m})).push(m),b=n.regenerateKey();e.insertNodeByKey(c.key,g,b),k.forEach((function(t,n){e.moveNodeByKey(t.key,b.key,n)}))}else{var x=c.nodes.slice(i+1),A=u.nodes.slice(0,h+1),O=n.regenerateKey(),N=n.regenerateKey();e.insertNodeByKey(c.key,i+1,O),e.insertNodeByKey(u.key,h,N),x.forEach((function(t,n){e.moveNodeByKey(t.key,O.key,n)})),A.forEach((function(t,n){e.moveNodeByKey(t.key,N.key,n)})),s.slice(1,-1).forEach((function(t){var r=n.regenerateKey();e.insertNodeByKey(t.key,0,r),t.nodes.forEach((function(t,n){e.moveNodeByKey(t.key,r.key,n)}))}))}}))},ie.wrapTextAtRange=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=t.start,a=t.end,i=t.moveToStart(),s=t.moveToEnd();o.key===a.key&&(s=s.moveForward(n.length)),e.withoutNormalizing((function(){e.insertTextAtRange(i,n),e.insertTextAtRange(s,r)}))};var ce={addMarkByPath:function(e,t,n,r,o){o=E.create(o),e.addMarksByPath(t,n,r,[o])},addMarksByPath:function(e,t,n,r,o){if((o=E.createSet(o)).size){var a=e.value.document.assertNode(t);e.withoutNormalizing((function(){n+r<a.text.length&&e.splitNodeByPath(t,n+r),n>0&&(e.splitNodeByPath(t,n),t=L.increment(t),n=0),o.forEach((function(n){e.applyOperation({type:"add_mark",path:t,mark:E.create(n)})}))}))}},insertFragmentByPath:function(e,t,n,r){r.nodes.forEach((function(r,o){e.insertNodeByPath(t,n+o,r)}))},insertNodeByPath:function(e,t,n,r){e.applyOperation({type:"insert_node",path:t.concat(n),node:r})},insertTextByPath:function(e,t,n,r,o){o=E.createSet(o);var a=e.value,i=a.decorations,s=a.document.assertNode(t).key,c=!1,u=i.filter((function(t){var r=t.start,o=t.end,a=t.mark;return!e.isAtomic(a)||(r.key!==s||(!(r.offset<n&&(o.key!==s||o.offset>n))||(c=!0,!1)))}));e.withoutNormalizing((function(){c&&e.setDecorations(u),e.applyOperation({type:"insert_text",path:t,offset:n,text:r}),o.size&&e.addMarksByPath(t,n,r.length,o)}))},mergeNodeByPath:function(e,t){var n=e.value.document,r=n.getDescendant(t),o=n.getPreviousSibling(t);if(!o)throw new Error('Unable to merge node with path "'+t+'", because it has no previous sibling.');var a="text"===o.object?o.text.length:o.nodes.size;e.applyOperation({type:"merge_node",path:t,position:a,properties:{type:r.type,data:r.data},target:null})},moveNodeByPath:function(e,t,n,r){if(L.isEqual(t,n))return e;var o=n.concat(r);if(L.isEqual(t,o))return e;e.applyOperation({type:"move_node",path:t,newPath:o})},removeMarkByPath:function(e,t,n,r,o){o=E.create(o),e.removeMarksByPath(t,n,r,[o])},removeMarksByPath:function(e,t,n,r,o){if((o=E.createSet(o)).size){var a=e.value.document.assertNode(t);e.withoutNormalizing((function(){n+r<a.text.length&&e.splitNodeByPath(t,n+r),n>0&&(e.splitNodeByPath(t,n),t=L.increment(t),n=0),o.forEach((function(o){e.applyOperation({type:"remove_mark",path:t,offset:n,length:r,mark:o})}))}))}},removeAllMarksByPath:function(e,t){var n=e.state.document.assertNode(t);("text"===n.object?[n]:n.getTextsAsArray()).forEach((function(t){t.marks.forEach((function(n){e.removeMarkByKey(t.key,0,t.text.length,n)}))}))},removeNodeByPath:function(e,t){var n=e.value.document.assertNode(t);e.applyOperation({type:"remove_node",path:t,node:n})},removeTextByPath:function(e,t,n,r){var o=e.value,a=o.document,i=o.decorations,s=a.assertNode(t),c=s.text.slice(n,n+r),u=s.key,l=!1,f=i.filter((function(t){var r=t.start,o=t.end,a=t.mark;return!e.isAtomic(a)||(r.key!==u||(!(r.offset<n&&(o.key!==u||o.offset>n))||(l=!0,!1)))}));e.withoutNormalizing((function(){l&&e.setDecorations(f),e.applyOperation({type:"remove_text",path:t,offset:n,text:c})}))},replaceNodeByPath:function(e,t,n){n=C.create(n);var r=t.last(),o=L.lift(t);e.withoutNormalizing((function(){e.removeNodeByPath(t),e.insertNodeByPath(o,r,n)}))},replaceTextByPath:function(e,t,n,r,o,a){e.withoutNormalizing((function(){e.removeTextByPath(t,n,r),e.insertTextByPath(t,n,o,a)}))},setMarkByPath:function(e,t,n,r,o,a){o=E.create(o),a=E.createProperties(a);var i=e.value.document.assertNode(t);e.withoutNormalizing((function(){n+r<i.text.length&&e.splitNodeByPath(t,n+r),n>0&&(e.splitNodeByPath(t,n),t=L.increment(t),n=0),e.applyOperation({type:"set_mark",path:t,properties:o,newProperties:a})}))},setNodeByPath:function(e,t,n){var r=e.value.document.assertNode(t);n=C.createProperties(n);var o=d()(r,Object.keys(n));e.applyOperation({type:"set_node",path:t,properties:o,newProperties:n})},setTextByPath:function(e,t,n,r){var o=e.value.document.assertNode(t).text.length;e.replaceTextByPath(t,0,o,n,r)},splitNodeByPath:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.target,a=void 0===o?null:o,i=e.value,s=i.document,c=s.getDescendant(t);e.applyOperation({type:"split_node",path:t,position:n,target:a,properties:{type:c.type,data:c.data}})},splitDescendantsByPath:function(e,t,n,r){if(t.equals(n))e.splitNodeByPath(n,r);else{var o=e.value.document,a=o.assertNode(t),i=o.assertNode(n),s=o.getAncestors(n).skipUntil((function(e){return e.key===a.key})).reverse().unshift(i),c=void 0,u=void 0;e.withoutNormalizing((function(){s.forEach((function(t){var n=null==u?null:u;u=c?t.nodes.indexOf(c)+1:r,c=t,e.splitNodeByKey(t.key,u,{target:n})}))}))}},unwrapInlineByPath:function(e,t,n){var r=e.value,o=r.document,a=r.selection,i=o.assertNode(t),s=i.getFirstText(),c=i.getLastText(),u=a.moveToRangeOfNode(s,c);e.unwrapInlineAtRange(u,n)},unwrapBlockByPath:function(e,t,n){var r=e.value,o=r.document,a=r.selection,i=o.assertNode(t),s=i.getFirstText(),c=i.getLastText(),u=a.moveToRangeOfNode(s,c);e.unwrapBlockAtRange(u,n)},unwrapNodeByPath:function(e,t){var n=e.value.document;n.assertNode(t);var r=L.lift(t),o=n.assertNode(r),a=t.last(),i=r.last(),s=L.lift(r),c=0===a,u=a===o.nodes.size-1;e.withoutNormalizing((function(){if(1===o.nodes.size)e.moveNodeByPath(t,s,i+1),e.removeNodeByPath(r);else if(c)e.moveNodeByPath(t,s,i);else if(u)e.moveNodeByPath(t,s,i+1);else{var n=L.increment(t,1,r.size-1);n=n.set(n.size-1,0),e.splitNodeByPath(r,a),e.moveNodeByPath(n,s,i+1)}}))},unwrapChildrenByPath:function(e,t){t=L.create(t);var n=e.value.document.assertNode(t),r=L.lift(t),o=t.last(),a=n.nodes;e.withoutNormalizing((function(){a.reverse().forEach((function(n,i){var s=a.size-i-1,c=t.push(s);e.moveNodeByPath(c,r,o+1)})),e.removeNodeByPath(t)}))},wrapBlockByPath:function(e,t,n){n=(n=D.create(n)).set("nodes",n.nodes.clear());var r=L.lift(t),o=t.last(),a=L.increment(t);e.withoutNormalizing((function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(a,t,0)}))},wrapInlineByPath:function(e,t,n){n=(n=w.create(n)).set("nodes",n.nodes.clear());var r=L.lift(t),o=t.last(),a=L.increment(t);e.withoutNormalizing((function(){e.insertNodeByPath(r,o,n),e.moveNodeByPath(a,t,0)}))},wrapNodeByPath:function(e,t,n){"block"===(n=C.create(n)).object?e.wrapBlockByPath(t,n):"inline"===n.object&&e.wrapInlineByPath(t,n)}},ue=function _loop(e){ce[e+"ByKey"]=function(t,n){for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var i=t.value,s=i.document,c=s.assertPath(n);t[e+"ByPath"].apply(t,[c].concat(o))}},le=!0,fe=!1,de=void 0;try{for(var ve,he=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"][Symbol.iterator]();!(le=(ve=he.next()).done);le=!0){ue(ve.value)}}catch(e){fe=!0,de=e}finally{try{!le&&he.return&&he.return()}finally{if(fe)throw de}}ce.moveNodeByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var i=e.value,s=i.document,c=s.assertPath(t),u=s.assertPath(n);e.moveNodeByPath.apply(e,[c,u].concat(o))},ce.splitDescendantsByKey=function(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];var i=e.value,s=i.document,c=s.assertPath(t),u=s.assertPath(n);e.splitDescendantsByPath.apply(e,[c,u].concat(o))};var ye={};ye.save=function(e,t){var n=e.operations,r=e.value.data,o=e.tmp,i=o.save,s=o.merge;if(!1!==i){var c=r.get("undos")||Object(a.List)(),u=c.last(),l=u&&u.last();if(null==s&&(s=0!==n.size||function shouldMerge(e,t){return!!t&&("set_selection"===e.type&&"set_selection"===t.type||"insert_text"===e.type&&"insert_text"===t.type&&e.offset===t.offset+t.text.length&&e.path.equals(t.path)||"remove_text"===e.type&&"remove_text"===t.type&&e.offset+e.text.length===t.offset&&e.path.equals(t.path))}(t,l)),s&&u){var f=u.push(t);c=(c=c.pop()).push(f)}else{var d=Object(a.List)([t]);c=c.push(d)}c.size>100&&(c=c.takeLast(100)),e.withoutSaving((function(){var t=Object(a.List)(),n=r.set("undos",c).set("redos",t);e.setData(n)}))}},ye.redo=function(e){var t=e.value.data,n=t.get("redos")||Object(a.List)(),r=t.get("undos")||Object(a.List)(),o=n.last();o&&e.withoutSaving((function(){e.withoutNormalizing((function(){o.forEach((function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",h()(o,"isFocused"))),e.applyOperation(t)})),n=n.pop(),r=r.push(o);var a=t.set("undos",r).set("redos",n);e.setData(a)}))}))},ye.undo=function(e){var t=e.value.data,n=t.get("redos")||Object(a.List)(),r=t.get("undos")||Object(a.List)(),o=r.last();o&&e.withoutSaving((function(){e.withoutNormalizing((function(){o.slice().reverse().map((function(e){return e.invert()})).forEach((function(t){var n=t,r=n.type,o=n.properties;"set_selection"===r&&(t=t.set("properties",h()(o,"isFocused"))),e.applyOperation(t)})),n=n.push(o),r=r.pop();var a=t.set("undos",r).set("redos",n);e.setData(a)}))}))},ye.withoutMerging=function(e,t){var n=e.tmp.merge;e.tmp.merge=!1,t(e),e.tmp.merge=n},ye.withoutSaving=function(e,t){var n=e.tmp.save;e.tmp.save=!1,t(e),e.tmp.save=n};var pe={};function proxy(e,t){for(var n,r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var i=(n=e.value.selection)[t].apply(n,o);e.select(i)}function pointEdgeObject(e,t,n,r){var o=t.slice(0,1).toUpperCase()+t.slice(1),a=n.slice(0,1).toUpperCase()+n.slice(1),i=r.slice(0,1).toUpperCase()+r.slice(1),s="move"+o+"To"+a+"OfNode",c="text"===r?"getNode":"getClosest"+i,u=e.value,l=u.document,f=u.selection[t],d=l[c](f.key);d&&e[s](d)}function pointEdgeSideObject(e,t,n,r,o){var a=t.slice(0,1).toUpperCase()+t.slice(1),i=n.slice(0,1).toUpperCase()+n.slice(1),s=r.slice(0,1).toUpperCase()+r.slice(1),c=o.slice(0,1).toUpperCase()+o.slice(1),u="move"+a+"To"+i+"OfNode",l="text"===o?"getNode":"getClosest"+c,f="get"+s+c,d=e.value,v=d.document,h=d.selection[t],y=v[l](h.key);if(y){var p=v[f](y.key);p&&e[u](p)}}function pointBackward(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return pointForward(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,a=o.document,i=o.selection,s=i[t],c=a.hasVoidParent(s.path,e);if(!c&&s.offset-n>=0){var u=i["move"+r+"Backward"](n);e.select(u)}else{var l=a.getPreviousText(s.path);if(l){var f=a.getClosestBlock(s.path),d=f.hasNode(l.key),v=l&&a.hasVoidParent(l.key,e);if(e["move"+r+"ToEndOfNode"](l),!c&&!v&&d){var h=e.value.selection["move"+r+"Backward"](n);e.select(h)}}}}}function pointForward(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0!==n){if(n<0)return pointBackward(e,t,-n);var r=t.slice(0,1).toUpperCase()+t.slice(1),o=e.value,a=o.document,i=o.selection,s=i[t],c=a.getNode(s.path),u=a.hasVoidParent(s.path,e);if(!u&&s.offset+n<=c.text.length){var l=i["move"+r+"Forward"](n);e.select(l)}else{var f=a.getNextText(s.path);if(f){var d=a.getClosestBlock(s.path),v=d.hasNode(f.key),h=a.hasVoidParent(f.key,e);if(e["move"+r+"ToStartOfNode"](f),!u&&!h&&v){var y=e.value.selection["move"+r+"Forward"](n);e.select(y)}}}}}function pointWordBackward(e,t){var n=e.value,r=n.document,o=n.selection[t],a=r.getClosestBlock(o.key),i=a.getOffset(o.key)+o.offset,s=a.text,c=ae.getWordOffsetBackward(s,i);e.command(pointBackward,t,c>0?c:1)}function pointWordForward(e,t){var n=e.value,r=n.document,o=n.selection[t],a=r.getClosestBlock(o.key),i=a.getOffset(o.key)+o.offset,s=a.text,c=ae.getWordOffsetForward(s,i);e.command(pointForward,t,c>0?c:1)}pe.blur=function(e){e.select({isFocused:!1})},pe.deselect=function(e){var t=W.create();e.select(t)},pe.focus=function(e){e.select({isFocused:!0})},pe.flip=function(e){e.command(proxy,"flip")},pe.moveAnchorBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointBackward,"anchor"].concat(n))},pe.moveAnchorWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointWordBackward,"anchor"].concat(n))},pe.moveAnchorForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointForward,"anchor"].concat(n))},pe.moveAnchorWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointWordForward,"anchor"].concat(n))},pe.moveAnchorTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveAnchorTo"].concat(n))},pe.moveAnchorToEndOfBlock=function(e){e.command(pointEdgeObject,"anchor","end","block")},pe.moveAnchorToEndOfInline=function(e){e.command(pointEdgeObject,"anchor","end","inline")},pe.moveAnchorToEndOfDocument=function(e){e.moveAnchorToEndOfNode(e.value.document).moveToAnchor()},pe.moveAnchorToEndOfNextBlock=function(e){e.command(pointEdgeSideObject,"anchor","end","next","block")},pe.moveAnchorToEndOfNextInline=function(e){e.command(pointEdgeSideObject,"anchor","end","next","inline")},pe.moveAnchorToEndOfNextText=function(e){e.command(pointEdgeSideObject,"anchor","end","next","text")},pe.moveAnchorToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveAnchorToEndOfNode"].concat(n))},pe.moveAnchorToEndOfPreviousBlock=function(e){e.command(pointEdgeSideObject,"anchor","end","previous","block")},pe.moveAnchorToEndOfPreviousInline=function(e){e.command(pointEdgeSideObject,"anchor","end","previous","inline")},pe.moveAnchorToEndOfPreviousText=function(e){e.command(pointEdgeSideObject,"anchor","end","previous","text")},pe.moveAnchorToEndOfText=function(e){e.command(pointEdgeObject,"anchor","end","text")},pe.moveAnchorToStartOfBlock=function(e){e.command(pointEdgeObject,"anchor","start","block")},pe.moveAnchorToStartOfDocument=function(e){e.moveAnchorToStartOfNode(e.value.document).moveToAnchor()},pe.moveAnchorToStartOfInline=function(e){e.command(pointEdgeObject,"anchor","start","inline")},pe.moveAnchorToStartOfNextBlock=function(e){e.command(pointEdgeSideObject,"anchor","start","next","block")},pe.moveAnchorToStartOfNextInline=function(e){e.command(pointEdgeSideObject,"anchor","start","next","inline")},pe.moveAnchorToStartOfNextText=function(e){e.command(pointEdgeSideObject,"anchor","start","next","text")},pe.moveAnchorToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveAnchorToStartOfNode"].concat(n))},pe.moveAnchorToStartOfPreviousBlock=function(e){e.command(pointEdgeSideObject,"anchor","start","previous","block")},pe.moveAnchorToStartOfPreviousInline=function(e){e.command(pointEdgeSideObject,"anchor","start","previous","inline")},pe.moveAnchorToStartOfPreviousText=function(e){e.command(pointEdgeSideObject,"anchor","start","previous","text")},pe.moveAnchorToStartOfText=function(e){e.command(pointEdgeObject,"anchor","start","text")},pe.moveBackward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorBackward.apply(e,r)).moveFocusBackward.apply(t,r)},pe.moveWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.moveFocusWordBackward.apply(e,n).moveToFocus()},pe.moveEndBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointBackward,"end"].concat(n))},pe.moveEndWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointWordBackward,"end"].concat(n))},pe.moveEndForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointForward,"end"].concat(n))},pe.moveEndWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointWordForward,"end"].concat(n))},pe.moveEndTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveEndTo"].concat(n))},pe.moveEndToEndOfBlock=function(e){e.command(pointEdgeObject,"end","end","block")},pe.moveEndToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},pe.moveEndToEndOfInline=function(e){e.command(pointEdgeObject,"end","end","inline")},pe.moveEndToEndOfNextBlock=function(e){e.command(pointEdgeSideObject,"end","end","next","block")},pe.moveEndToEndOfNextInline=function(e){e.command(pointEdgeSideObject,"end","end","next","inline")},pe.moveEndToEndOfNextText=function(e){e.command(pointEdgeSideObject,"end","end","next","text")},pe.moveEndToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveEndToEndOfNode"].concat(n))},pe.moveEndToEndOfPreviousBlock=function(e){e.command(pointEdgeSideObject,"end","end","previous","block")},pe.moveEndToEndOfPreviousInline=function(e){e.command(pointEdgeSideObject,"end","end","previous","inline")},pe.moveEndToEndOfPreviousText=function(e){e.command(pointEdgeSideObject,"end","end","previous","text")},pe.moveEndToEndOfText=function(e){e.command(pointEdgeObject,"end","end","text")},pe.moveEndToStartOfBlock=function(e){e.command(pointEdgeObject,"end","start","block")},pe.moveEndToStartOfDocument=function(e){e.moveEndToStartOfNode(e.value.document).moveToEnd()},pe.moveEndToStartOfInline=function(e){e.command(pointEdgeObject,"end","start","inline")},pe.moveEndToStartOfNextBlock=function(e){e.command(pointEdgeSideObject,"end","start","next","block")},pe.moveEndToStartOfNextInline=function(e){e.command(pointEdgeSideObject,"end","start","next","inline")},pe.moveEndToStartOfNextText=function(e){e.command(pointEdgeSideObject,"end","start","next","text")},pe.moveEndToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveEndToStartOfNode"].concat(n))},pe.moveEndToStartOfPreviousBlock=function(e){e.command(pointEdgeSideObject,"end","start","previous","block")},pe.moveEndToStartOfPreviousInline=function(e){e.command(pointEdgeSideObject,"end","start","previous","inline")},pe.moveEndToStartOfPreviousText=function(e){e.command(pointEdgeSideObject,"end","start","previous","text")},pe.moveEndToStartOfText=function(e){e.command(pointEdgeObject,"end","start","text")},pe.moveFocusBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointBackward,"focus"].concat(n))},pe.moveFocusWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointWordBackward,"focus"].concat(n))},pe.moveFocusForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointForward,"focus"].concat(n))},pe.moveFocusWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointWordForward,"focus"].concat(n))},pe.moveFocusTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveFocusTo"].concat(n))},pe.moveFocusToEndOfBlock=function(e){e.command(pointEdgeObject,"focus","end","block")},pe.moveFocusToEndOfDocument=function(e){e.moveFocusToEndOfNode(e.value.document).moveToFocus()},pe.moveFocusToEndOfInline=function(e){e.command(pointEdgeObject,"focus","end","inline")},pe.moveFocusToEndOfNextBlock=function(e){e.command(pointEdgeSideObject,"focus","end","next","block")},pe.moveFocusToEndOfNextInline=function(e){e.command(pointEdgeSideObject,"focus","end","next","inline")},pe.moveFocusToEndOfNextText=function(e){e.command(pointEdgeSideObject,"focus","end","next","text")},pe.moveFocusToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveFocusToEndOfNode"].concat(n))},pe.moveFocusToEndOfPreviousBlock=function(e){e.command(pointEdgeSideObject,"focus","end","previous","block")},pe.moveFocusToEndOfPreviousInline=function(e){e.command(pointEdgeSideObject,"focus","end","previous","inline")},pe.moveFocusToEndOfPreviousText=function(e){e.command(pointEdgeSideObject,"focus","end","previous","text")},pe.moveFocusToEndOfText=function(e){e.command(pointEdgeObject,"focus","end","text")},pe.moveFocusToStartOfBlock=function(e){e.command(pointEdgeObject,"focus","start","block")},pe.moveFocusToStartOfDocument=function(e){e.moveFocusToStartOfNode(e.value.document).moveToFocus()},pe.moveFocusToStartOfInline=function(e){e.command(pointEdgeObject,"focus","start","inline")},pe.moveFocusToStartOfNextBlock=function(e){e.command(pointEdgeSideObject,"focus","start","next","block")},pe.moveFocusToStartOfNextInline=function(e){e.command(pointEdgeSideObject,"focus","start","next","inline")},pe.moveFocusToStartOfNextText=function(e){e.command(pointEdgeSideObject,"focus","start","next","text")},pe.moveFocusToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveFocusToStartOfNode"].concat(n))},pe.moveFocusToStartOfPreviousBlock=function(e){e.command(pointEdgeSideObject,"focus","start","previous","block")},pe.moveFocusToStartOfPreviousInline=function(e){e.command(pointEdgeSideObject,"focus","start","previous","inline")},pe.moveFocusToStartOfPreviousText=function(e){e.command(pointEdgeSideObject,"focus","start","previous","text")},pe.moveFocusToStartOfText=function(e){e.command(pointEdgeObject,"focus","start","text")},pe.moveForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveAnchorForward.apply(e,r)).moveFocusForward.apply(t,r)},pe.moveWordForward=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=e.moveFocusWordForward.apply(e,r)).moveToFocus.apply(t,r)},pe.moveStartBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointBackward,"start"].concat(n))},pe.moveStartWordBackward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointWordBackward,"start"].concat(n))},pe.moveStartForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointForward,"start"].concat(n))},pe.moveStartWordForward=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[pointWordForward,"start"].concat(n))},pe.moveStartTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveStartTo"].concat(n))},pe.moveStartToEndOfBlock=function(e){e.command(pointEdgeObject,"start","end","block")},pe.moveStartToEndOfDocument=function(e){e.moveStartToEndOfNode(e.value.document).moveToStart()},pe.moveStartToEndOfInline=function(e){e.command(pointEdgeObject,"start","end","inline")},pe.moveStartToEndOfNextBlock=function(e){e.command(pointEdgeSideObject,"start","end","next","block")},pe.moveStartToEndOfNextInline=function(e){e.command(pointEdgeSideObject,"start","end","next","inline")},pe.moveStartToEndOfNextText=function(e){e.command(pointEdgeSideObject,"start","end","next","text")},pe.moveStartToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveStartToEndOfNode"].concat(n))},pe.moveStartToEndOfPreviousBlock=function(e){e.command(pointEdgeSideObject,"start","end","previous","block")},pe.moveStartToEndOfPreviousInline=function(e){e.command(pointEdgeSideObject,"start","end","previous","inline")},pe.moveStartToEndOfPreviousText=function(e){e.command(pointEdgeSideObject,"start","end","previous","text")},pe.moveStartToEndOfText=function(e){e.command(pointEdgeObject,"start","end","text")},pe.moveStartToStartOfBlock=function(e){e.command(pointEdgeObject,"start","start","block")},pe.moveStartToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},pe.moveStartToStartOfInline=function(e){e.command(pointEdgeObject,"start","start","inline")},pe.moveStartToStartOfNextBlock=function(e){e.command(pointEdgeSideObject,"start","start","next","block")},pe.moveStartToStartOfNextInline=function(e){e.command(pointEdgeSideObject,"start","start","next","inline")},pe.moveStartToStartOfNextText=function(e){e.command(pointEdgeSideObject,"start","start","next","text")},pe.moveStartToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveStartToStartOfNode"].concat(n))},pe.moveStartToStartOfPreviousBlock=function(e){e.command(pointEdgeSideObject,"start","start","previous","block")},pe.moveStartToStartOfPreviousInline=function(e){e.command(pointEdgeSideObject,"start","start","previous","inline")},pe.moveStartToStartOfPreviousText=function(e){e.command(pointEdgeSideObject,"start","start","previous","text")},pe.moveStartToStartOfText=function(e){e.command(pointEdgeObject,"start","start","text")},pe.moveTo=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveTo"].concat(n))},pe.moveToAnchor=function(e){e.command(proxy,"moveToAnchor")},pe.moveToEnd=function(e){e.command(proxy,"moveToEnd")},pe.moveToEndOfBlock=function(e){e.moveEndToEndOfBlock().moveToEnd()},pe.moveToEndOfDocument=function(e){e.moveEndToEndOfNode(e.value.document).moveToEnd()},pe.moveToEndOfInline=function(e){e.moveEndToEndOfInline().moveToEnd()},pe.moveToEndOfNextBlock=function(e){e.moveEndToEndOfNextBlock().moveToEnd()},pe.moveToEndOfNextInline=function(e){e.moveEndToEndOfNextInline().moveToEnd()},pe.moveToEndOfNextText=function(e){e.moveEndToEndOfNextText().moveToEnd()},pe.moveToEndOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveToEndOfNode"].concat(n))},pe.moveToEndOfPreviousBlock=function(e){e.moveStartToEndOfPreviousBlock().moveToStart()},pe.moveToEndOfPreviousInline=function(e){e.moveStartToEndOfPreviousInline().moveToStart()},pe.moveToEndOfPreviousText=function(e){e.moveStartToEndOfPreviousText().moveToStart()},pe.moveToEndOfText=function(e){e.moveEndToEndOfText().moveToEnd()},pe.moveToFocus=function(e){e.command(proxy,"moveToFocus")},pe.moveToRangeOfDocument=function(e){e.moveToRangeOfNode(e.value.document)},pe.moveToRangeOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveToRangeOfNode"].concat(n))},pe.moveToStart=function(e){e.command(proxy,"moveToStart")},pe.moveToStartOfBlock=function(e){e.moveStartToStartOfBlock().moveToStart()},pe.moveToStartOfDocument=function(e){e.moveStartToStartOfNode(e.value.document).moveToStart()},pe.moveToStartOfInline=function(e){e.moveStartToStartOfInline().moveToStart()},pe.moveToStartOfNextBlock=function(e){e.moveEndToStartOfNextBlock().moveToEnd()},pe.moveToStartOfNextInline=function(e){e.moveEndToStartOfNextInline().moveToEnd()},pe.moveToStartOfNextText=function(e){e.moveEndToStartOfNextText().moveToEnd()},pe.moveToStartOfNode=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"moveToStartOfNode"].concat(n))},pe.moveToStartOfPreviousBlock=function(e){e.moveStartToStartOfPreviousBlock().moveToStart()},pe.moveToStartOfPreviousInline=function(e){e.moveStartToStartOfPreviousInline().moveToStart()},pe.moveToStartOfPreviousText=function(e){e.moveStartToStartOfPreviousText().moveToStart()},pe.moveToStartOfText=function(e){e.moveStartToStartOfText().moveToStart()},pe.select=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=W.createProperties(t);var r=n.snapshot,o=void 0!==r&&r,i=e.value,s=i.document,c=i.selection,u={},l=c.setProperties(t);for(var f in l=s.resolveSelection(l),t=d()(l,Object.keys(t)))!0!==o&&Object(a.is)(t[f],c[f])||(u[f]=t[f]);if(c.marks&&!u.marks&&(u.anchor||u.focus)&&(u.marks=null),0!==Object.keys(u).length){var v=d()(c.toJSON(),Object.keys(u));e.applyOperation({type:"set_selection",value:i,properties:v,newProperties:u},o?{skip:!1,merge:!1}:{})}},pe.setAnchor=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"setAnchor"].concat(n))},pe.setEnd=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"setEnd"].concat(n))},pe.setFocus=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"setFocus"].concat(n))},pe.setStart=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.command.apply(e,[proxy,"setStart"].concat(n))},pe.snapshotSelection=function(e){e.withoutMerging((function(){e.select(e.value.selection,{snapshot:!0})}))};var ge={};function QueriesPlugin(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function onConstruct(t,n){for(var r in e)t.registerQuery(r);return n()}function onQuery(t,n,r){var o=t.type,a=t.args,i=e[o];if(!i)return r();var s=i.apply(void 0,[n].concat(toConsumableArray(a)));return void 0===s?r():s}return{onConstruct,onQuery}}ge.setData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.value,r=G.createProperties({data:t}),o=d()(n,Object.keys(r));e.applyOperation({type:"set_value",properties:o,newProperties:r})},ge.setDecorations=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.value,r=G.createProperties({decorations:t}),o=d()(n,Object.keys(r));e.applyOperation({type:"set_value",properties:o,newProperties:r})};var me=function(e){function SlateError(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};classCallCheck(this,SlateError);var n=possibleConstructorReturn(this,(SlateError.__proto__||Object.getPrototypeOf(SlateError)).call(this,e));for(var r in n.code=e,t)n[r]=t[r];return Error.captureStackTrace?Error.captureStackTrace(n,n.constructor):n.stack=(new Error).stack,n}return inherits(SlateError,e),SlateError}(Error);function SchemaPlugin(e){var t=e.rules,n=e.document,r=e.blocks,o=e.inlines,a=e.marks,i=[];if(t&&(i=i.concat(t)),n&&i.push(A({match:[{object:"document"}]},n)),r)for(var s in r)i.push(A({match:[{object:"block",type:s}]},r[s]));if(o)for(var c in o)i.push(A({match:[{object:"inline",type:c}]},o[c]));if(a)for(var u in a)i.push(A({match:[{object:"mark",type:u}]},a[u]));function validateNode(e,t,n){var r=i.filter((function(t){return testRules(e,t.match)})),o=validateRules(e,r,i,{every:!0});return o?new me(o.code,o):n()}return[{normalizeNode:function normalizeNode(e,t,n){var r=validateNode(e,t,(function(){}));return r?function(){var e=r.rule,n=t.operations.size;e.normalize&&e.normalize(t,r),t.operations.size===n&&function defaultNormalize(e,t){var n=t.code,r=t.node,o=t.child,a=t.next,i=t.previous,s=t.key,c=t.mark;switch(n){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return"text"===o.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(o.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return"text"===i.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(i.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return"text"===a.object&&"block"===r.object&&1===r.nodes.size?e.removeNodeByKey(r.key):e.removeNodeByKey(a.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return"document"===r.object?r.nodes.forEach((function(t){return e.removeNodeByKey(t.key)})):e.removeNodeByKey(r.key);case"node_data_invalid":return void 0===r.data.get(s)&&"document"!==r.object?e.removeNodeByKey(r.key):e.setNodeByKey(r.key,{data:r.data.delete(s)});case"node_mark_invalid":return r.getTexts().forEach((function(t){return e.removeMarkByKey(t.key,0,t.text.length,c)}));default:return e.removeNodeByKey(r.key)}}(t,r)}:n()},validateNode},QueriesPlugin({isAtomic:function isAtomic(e,t){var n=i.find((function(e){return"isAtomic"in e&&testRules(t,e.match)}));return n&&n.isAtomic},isVoid:function isVoid(e,t){var n=i.find((function(e){return"isVoid"in e&&testRules(t,e.match)}));return n&&n.isVoid}})]}function testRules(e,t){return!validateRules(e,t)}function validateRules(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.every,a=void 0!==o&&o,i=r.match,s=void 0===i?null:i;if("function"==typeof t){var c=t(e,s);return c?null:fail("node_invalid",{rule:t,node:e})}if(Array.isArray(t)){var u=t.length?t:[{}],l=void 0,f=!0,d=!1,v=void 0;try{for(var h,y=u[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var p=h.value,g=validateRules(e,p,n);if(l=l||g,a&&g)return g;if(!a&&!g)return}}catch(e){d=!0,v=e}finally{try{!f&&y.return&&y.return()}finally{if(d)throw v}}return l}var m=validateObject(e,t)||validateType(e,t)||validateData(e,t)||validateMarks(e,t)||validateText(e,t)||validateFirst(e,t)||validateLast(e,t)||validateNodes(e,t,n);return m}function validateObject(e,t){if(null!=t.object&&t.object!==e.object&&("function"!=typeof t.object||!t.object(e.object)))return fail("node_object_invalid",{rule:t,node:e})}function validateType(e,t){if(null!=t.type&&t.type!==e.type&&("function"!=typeof t.type||!t.type(e.type)))return fail("node_type_invalid",{rule:t,node:e})}function validateData(e,t){if(null!=t.data&&null!=e.data){if("function"==typeof t.data){if(t.data(e.data))return;return fail("node_data_invalid",{rule:t,node:e})}for(var n in t.data){var r=t.data[n],o=e.data&&e.data.get(n);if(!("function"==typeof r?r(o):r===o))return fail("node_data_invalid",{rule:t,node:e,key:n,value:o})}}}function validateMarks(e,t){if(null!=t.marks){var n="text"===e.object?e.marks.toArray():e.getMarks().toArray(),r=function _loop(n){return t.marks.some((function(e){return"function"==typeof e.type?e.type(n.type):e.type===n.type}))?"continue":{v:fail("node_mark_invalid",{rule:t,node:e,mark:n})}},o=!0,a=!1,i=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=r(s.value);switch(u){case"continue":continue;default:if("object"===(void 0===u?"undefined":b(u)))return u.v}}}catch(e){a=!0,i=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw i}}}}function validateText(e,t){if(null!=t.text){var n=e.text;if(!("function"==typeof t.text?t.text(n):t.text.test(n)))return fail("node_text_invalid",{rule:t,node:e,text:n})}}function validateFirst(e,t){if(null!=t.first){var n=e.nodes.first();if(n){var r=validateRules(n,t.first);if(r)return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","first_child_"),r}}}function validateLast(e,t){if(null!=t.last){var n=e.nodes.last();if(n){var r=validateRules(n,t.last);if(r)return r.rule=t,r.node=e,r.child=n,r.code=r.code.replace("node_","last_child_"),r}}}function validateNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null!=e.nodes){var r=e.nodes,o=null!=t.nodes?t.nodes.slice():[],a=0,i=0,s=null,c=-1,u=null,l=null,f=null,d=null,v=null;for(null!=t.nodes&&nextDef();nextChild();){var h=validateParent(e,f,n)||validatePrevious(e,f,d,c,n)||validateNext(e,f,v,c,n);if(h)return h;if(null!=t.nodes){if(!u)return fail("child_unknown",{rule:t,node:e,child:f,index:c});if(u.match){var y=validateRules(f,u.match);if(y){if(null!=l&&a-1>l)return rewind(),fail("child_max_invalid",{rule:t,node:e,index:c,child:r.get(c),count:a,limit:l});var p=s;if(nextDef()){if(i-1>=p){c-=1;continue}return null==validateRules(f,u.match)?(rewind(),fail("child_min_invalid",{rule:t,node:e,index:c,count:i-1,limit:p})):(y.rule=t,y.node=e,y.child=f,y.index=c,y.code=y.code.replace("node_","child_"),y)}return null!=l&&a>l?fail("child_unknown",{rule:t,node:e,child:f,index:c}):(y.rule=t,y.node=e,y.child=f,y.index=c,y.code=y.code.replace("node_","child_"),y)}}}}if(null!=l&&a>l)return fail("child_max_invalid",{rule:t,node:e,index:c-1,count:a,child:r.get(c-1),limit:l});if(null!=t.nodes)do{if(a<s)return fail("child_min_invalid",{rule:t,node:e,index:c,count:a,limit:s})}while(nextDef())}function nextDef(){return 0!==o.length&&(u=o.shift(),i=a,a=0,s=u.min||null,l=u.max||null,!0)}function nextChild(){return d=(c+=1)?r.get(c-1):null,f=r.get(c),v=r.get(c+1),!!f&&(i=a,a+=1,!0)}function rewind(){c>0&&(c-=1,a=i)}}function validateParent(e,t,n){var r=!0,o=!1,a=void 0;try{for(var i,s=n[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;if(null!=c.parent&&testRules(t,c.match)){var u=validateRules(e,c.parent);if(u)return u.rule=c,u.parent=e,u.node=t,u.code=u.code.replace("node_","parent_"),u}}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}}function validatePrevious(e,t,n,r,o){if(n){var a=!0,i=!1,s=void 0;try{for(var c,u=o[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;if(null!=l.previous&&testRules(t,l.match)){var f=validateRules(n,l.previous);if(f)return f.rule=l,f.node=e,f.child=t,f.index=r,f.previous=n,f.code=f.code.replace("node_","previous_sibling_"),f}}}catch(e){i=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(i)throw s}}}}function validateNext(e,t,n,r,o){if(n){var a=!0,i=!1,s=void 0;try{for(var c,u=o[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;if(null!=l.next&&testRules(t,l.match)){var f=validateRules(n,l.next,[],{match:t});if(f)return f.rule=l,f.node=e,f.child=t,f.index=r,f.next=n,f.code=f.code.replace("node_","next_sibling_"),f}}}catch(e){i=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(i)throw s}}}}function fail(e,t){return A({code:e},t)}function deleteExpanded(e){e.value.selection.isExpanded&&e.delete()}var ke={};function CorePlugin(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,n=void 0===t?[]:t,r=CommandsPlugin(A({},ie,ce,ye,pe,ge,ke)),o=QueriesPlugin({isAtomic:function isAtomic(){return!1},isVoid:function isVoid(){return!1}}),a=SchemaPlugin({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function normalize(e,t){var n=t.code,r=t.node;"child_min_invalid"===n&&r.nodes.isEmpty()&&e.insertNodeByKey(r.key,0,F.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function normalize(e,t){var n=t.code,r=t.node,o=F.create(),a=void 0;if("first_child_object_invalid"===n)a=0;else{if("last_child_object_invalid"!==n)return;a=r.nodes.size}e.insertNodeByKey(r.key,a,o)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function normalize(e,t){var n=t.code,r=t.node,o=t.index,a=F.create(),i=void 0;if("first_child_object_invalid"===n)i=0;else if("last_child_object_invalid"===n)i=r.nodes.size;else if("previous_sibling_object_invalid"===n)i=o;else{if("next_sibling_object_invalid"!==n)return;i=o+1}e.insertNodeByKey(r.key,i,a)}},{match:{object:"text"},next:function next(e,t){return"text"!==e.object||!t.marks.equals(e.marks)},normalize:function normalize(e,t){var n=t.code,r=t.next;"next_sibling_invalid"===n&&e.mergeNodeByKey(r.key)}},{match:{object:"text"},previous:function previous(e){return"text"!==e.object||""!==e.text},next:function next(e){return"text"!==e.object||""!==e.text},normalize:function normalize(e,t){var n=t.code,r=t.next,o=t.previous;"next_sibling_invalid"===n?e.removeNodeByKey(r.key):"previous_sibling_invalid"===n&&e.removeNodeByKey(o.key)}}]});return[a].concat(toConsumableArray(n),[r,o])}ke.addMark=function(e,t){t=E.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.addMarkAtRange(o,t);else if(o.marks){var a=o.marks.add(t),i=o.set("marks",a);e.select(i)}else{var s=r.getActiveMarksAtRange(o).add(t),c=o.set("marks",s);e.select(c)}},ke.addMarks=function(e,t){t.forEach((function(t){return e.addMark(t)}))},ke.delete=function(e){var t=e.value.selection;e.deleteAtRange(t),e.moveToFocus()},ke.deleteBackward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value,r=n.selection;r.isExpanded?e.delete():e.deleteBackwardAtRange(r,t)},ke.deleteCharBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteCharBackwardAtRange(t)},ke.deleteLineBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteLineBackwardAtRange(t)},ke.deleteWordBackward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteWordBackwardAtRange(t)},ke.deleteForward=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.value,r=n.selection;r.isExpanded?e.delete():e.deleteForwardAtRange(r,t)},ke.deleteCharForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteCharForwardAtRange(t)},ke.deleteLineForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteLineForwardAtRange(t)},ke.deleteWordForward=function(e){var t=e.value.selection;t.isExpanded?e.delete():e.deleteWordForwardAtRange(t)},ke.insertBlock=function(e,t){deleteExpanded(e),t=D.create(t);var n=e.value.selection;e.insertBlockAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},ke.insertFragment=function(e,t){if(t.nodes.size){deleteExpanded(e);var n=e.value,r=n,o=r.document,a=r.selection,i=a.start,s=a.end,c=n,u=c.startText,l=c.endText,f=c.startInline,d=t.getLastText(),v=t.getClosestInline(d.key),h=t.getClosestBlock(d.key),y=t.nodes.first(),p=t.nodes.last(),g=o.getTexts().map((function(e){return e.key})),m=!f||i.isAtStartOfNode(u)||s.isAtStartOfNode(u)||i.isAtEndOfNode(l)||s.isAtEndOfNode(l),k=y.hasBlockChildren()||p.hasBlockChildren();e.insertFragmentAtRange(a,t);var b=(o=(n=e.value).document).getTexts().filter((function(e){return!g.includes(e.key)})),x=m?b.last():b.takeLast(2).first();x&&(v||k)?e.moveToEndOfNode(x):x&&e.moveToStartOfNode(x).moveForward(h.text.length)}},ke.insertInline=function(e,t){deleteExpanded(e),t=w.create(t);var n=e.value.selection;e.insertInlineAtRange(n,t);var r=e.value.document.getNode(t.key);r&&e.moveToEndOfNode(r)},ke.insertText=function(e,t,n){deleteExpanded(e);var r=e.value,o=r.document,a=r.selection;n=n||a.marks||o.getInsertMarksAtRange(a),e.withoutNormalizing((function(){e.insertTextAtRange(a,t,n),a.marks&&o!==e.value.document&&e.select({marks:null})}))},ke.removeMark=function(e,t){t=E.create(t);var n=e.value,r=n.document,o=n.selection;if(o.isExpanded)e.removeMarkAtRange(o,t);else if(o.marks){var a=o.marks.remove(t),i=o.set("marks",a);e.select(i)}else{var s=r.getActiveMarksAtRange(o).remove(t),c=o.set("marks",s);e.select(c)}},ke.replaceMark=function(e,t,n){e.removeMark(t),e.addMark(n)},ke.setBlocks=function(e,t){var n=e.value.selection;e.setBlocksAtRange(n,t)},ke.setInlines=function(e,t){var n=e.value.selection;e.setInlinesAtRange(n,t)},ke.splitBlock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;deleteExpanded(e);var n=e.value,r=n.selection,o=n.document,a=r.marks||o.getInsertMarksAtRange(r);e.splitBlockAtRange(r,t).moveToEnd(),a&&0!==a.size&&e.select({marks:a})},ke.splitInline=function(e,t){deleteExpanded(e);var n=e.value.selection;e.splitInlineAtRange(n,t)},ke.toggleMark=function(e,t){t=E.create(t),e.value.activeMarks.has(t)?e.removeMark(t):e.addMark(t)},ke.unwrapBlock=function(e,t){var n=e.value.selection;e.unwrapBlockAtRange(n,t)},ke.unwrapInline=function(e,t){var n=e.value.selection;e.unwrapInlineAtRange(n,t)},ke.wrapBlock=function(e,t){var n=e.value.selection;e.wrapBlockAtRange(n,t)},ke.wrapInline=function(e,t){var n=e.value.selection;e.wrapInlineAtRange(n,t)},ke.wrapText=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.value,o=r.selection;e.wrapTextAtRange(o,t,n),o.isCollapsed&&e.moveStartBackward(t.length),e.moveEndBackward(n.length),o.isForward!==e.value.selection.isForward&&e.flip()};var be=u()("slate:editor"),xe=function(){function Editor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};classCallCheck(this,Editor);var n=t.controller,r=void 0===n?this:n,o=t.construct,i=void 0===o||o,s=e.onChange,c=void 0===s?function(){}:s,u=e.plugins,l=void 0===u?[]:u,f=e.readOnly,d=void 0!==f&&f,v=e.value,h=void 0===v?G.create():v;this.controller=r,this.middleware={},this.onChange=c,this.operations=Object(a.List)(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0};var y=CorePlugin({plugins:l});registerPlugin(this,y),i&&(this.run("onConstruct"),this.setReadOnly(d),this.setValue(h,t))}return x(Editor,[{key:"applyOperation",value:function applyOperation(e){var t=this,n=this.operations,r=this.controller,a=this.value;o()(e)&&(e=A({},e,{value:a})),e=X.create(e),this.withoutNormalizing((function(){r.save(e),a=t.value})),be("apply",{operation:e}),this.value=e.apply(a),this.operations=n.push(e);var i=function getDirtyPaths(e){var t=e.type,n=e.node,r=e.path,o=e.newPath;switch(t){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":var a=L.getAncestors(r).toArray();return[].concat(toConsumableArray(a),[r]);case"insert_node":var i=n.getKeysToPathsTable(),s=Object.values(i).map((function(e){return r.concat(e)})),c=L.getAncestors(r).toArray();return[].concat(toConsumableArray(c),[r],toConsumableArray(s));case"split_node":var u=L.getAncestors(r).toArray(),l=L.increment(r);return[].concat(toConsumableArray(u),[r,l]);case"merge_node":var f=L.getAncestors(r).toArray(),d=L.decrement(r);return[].concat(toConsumableArray(f),[d]);case"move_node":if(L.isEqual(r,o))return[];var v=L.getAncestors(r).reduce((function(t,n){return t.push.apply(t,toConsumableArray(L.transform(n,e).toArray())),t}),[]),h=L.getAncestors(o).reduce((function(t,n){return t.push.apply(t,toConsumableArray(L.transform(n,e).toArray())),t}),[]);return[].concat(toConsumableArray(v),toConsumableArray(h));case"remove_node":var y=L.getAncestors(r).toArray();return[].concat(toConsumableArray(y));default:return[]}}(e),s=this.tmp.dirty.reduce((function(t,n){n=L.create(n);var r=L.transform(n,e);return t=t.concat(r.toArray())}),i);return this.tmp.dirty=s,this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then((function(){return t.flush()}))),r}},{key:"flush",value:function flush(){this.run("onChange");var e=this.value,t=this.operations,n=this.controller,r={value:e,operations:t};return this.operations=Object(a.List)(),this.tmp.flushing=!1,this.onChange(r),n}},{key:"command",value:function command(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"==typeof e)return e.apply(void 0,[o].concat(n)),normalizeDirtyPaths(this),o;be("command",{type:e,args:n});var a={type:e,args:n};return this.run("onCommand",a),normalizeDirtyPaths(this),o}},{key:"hasCommand",value:function hasCommand(e){var t=this.controller;return e in t&&t[e].__command}},{key:"hasQuery",value:function hasQuery(e){var t=this.controller;return e in t&&t[e].__query}},{key:"normalize",value:function normalize(){var e=this.value,t=this.controller,n=e.document,r=n.getKeysToPathsTable(),o=Object.values(r).map(L.create);this.tmp.dirty=this.tmp.dirty.concat(o),normalizeDirtyPaths(this);var a=e.selection;return n=e.document,a.isUnset&&n.nodes.size&&t.moveToStartOfDocument(),t}},{key:"query",value:function query(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller;if("function"==typeof e)return e.apply(void 0,[o].concat(n));be("query",{type:e,args:n});var a={type:e,args:n};return this.run("onQuery",a)}},{key:"registerCommand",value:function registerCommand(e){var t=this,n=this.controller;if(e in n&&n[e].__command)return n;Object(i.default)(!(e in n),"You cannot register a `"+e+"` command because it would overwrite an existing property of the `Editor`.");var r=function method(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.command.apply(t,[e].concat(r))};return n[e]=r,r.__command=!0,n}},{key:"registerQuery",value:function registerQuery(e){var t=this,n=this.controller;if(e in n&&n[e].__query)return n;Object(i.default)(!(e in n),"You cannot register a `"+e+"` query because it would overwrite an existing property of the `Editor`.");var r=function method(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.query.apply(t,[e].concat(r))};return n[e]=r,r.__query=!0,n}},{key:"run",value:function run(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this.controller,a=this.middleware,s=a[e]||[],c=0;function next(){var e=s[c++];if(e){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];r.length&&(n=r);var i=e.apply(void 0,toConsumableArray(n).concat([o,next]));return i}}return Object.defineProperty(next,"change",{get:function get$$1(){Object(i.default)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(next,"onChange",{get:function get$$1(){Object(i.default)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(next,"props",{get:function get$$1(){Object(i.default)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(next,"schema",{get:function get$$1(){Object(i.default)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(next,"stack",{get:function get$$1(){Object(i.default)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),next()}},{key:"setReadOnly",value:function setReadOnly(e){return this.readOnly=e,this}},{key:"setValue",value:function setValue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.normalize,r=void 0===n?e!==this.value:n;return this.value=e,r&&this.normalize(),this}},{key:"withoutNormalizing",value:function withoutNormalizing(e){var t=this.controller,n=this.tmp.normalize;return this.tmp.normalize=!1,e(t),this.tmp.normalize=n,normalizeDirtyPaths(this),t}},{key:"change",value:function change(e){Object(s.default)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so the `editor.change()` method is deprecated.`");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.apply(void 0,[this.controller].concat(n))}},{key:"call",value:function call(e){Object(s.default)(!1,"As of Slate 0.43 the `editor.call(fn)` method has been deprecated, please use `editor.command(fn)` instead.");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,[this.controller].concat(n)),this.controller}},{key:"applyOperations",value:function applyOperations(e){var t=this;return Object(s.default)(!1,"As of Slate 0.43 the `applyOperations` method is deprecated, please apply each operation in a loop instead."),e.forEach((function(e){return t.applyOperation(e)})),this.controller}},{key:"setOperationFlag",value:function setOperationFlag(e,t){return Object(s.default)(!1,"As of slate@0.41 the `change.setOperationFlag` method has been deprecated."),this.tmp[e]=t,this}},{key:"getFlag",value:function getFlag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.default)(!1,"As of slate@0.41 the `change.getFlag` method has been deprecated."),void 0!==t[e]?t[e]:this.tmp[e]}},{key:"unsetOperationFlag",value:function unsetOperationFlag(e){return Object(s.default)(!1,"As of slate@0.41 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[e],this}},{key:"withoutNormalization",value:function withoutNormalization(e){return Object(s.default)(!1,"As of slate@0.41 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(e)}},{key:"editor",get:function get$$1(){return Object(s.default)(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so you don't need to access `change.editor`."),this.controller}}]),Editor}();function normalizeDirtyPaths(e){e.tmp.normalize&&e.tmp.dirty.length&&e.withoutNormalizing((function(){for(;e.tmp.dirty.length;){var t=e.tmp.dirty.pop();normalizeNodeByPath(e,t)}}))}function normalizeNodeByPath(e,t){for(var n=e.controller,r=e.value,o=r.document,a=o.assertNode(t),i=0,s=100+("text"===a.object?1:a.nodes.size);a;){var c=a.normalize(n);if(!c)break;c(n),o=(r=e.value).document;var u=a.key,l=o.getDescendant(t);if(l&&l.key===u)a=l;else{if(!(l=o.getDescendant(u)))break;a=l,t=o.getPath(u)}if(++i>s)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}function registerPlugin(e,t){if(Array.isArray(t))t.forEach((function(t){return registerPlugin(e,t)}));else{var n=t.commands,r=t.queries,o=t.schema,a=objectWithoutProperties(t,["commands","queries","schema"]);if(n){var i=CommandsPlugin(n);registerPlugin(e,i)}if(r){var s=QueriesPlugin(r);registerPlugin(e,s)}if(o){var c=SchemaPlugin(o);registerPlugin(e,c)}for(var u in a){var l=a[u];(e.middleware[u]=e.middleware[u]||[]).push(l)}}}function mixin(e,t){var n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,c=!0,u=!1,l=void 0;try{for(var f,d=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var v=f.value;if(!s.hasOwnProperty(v)){var h=Object.getOwnPropertyDescriptor(e,v);Object.defineProperty(s,v,h)}}}catch(e){u=!0,l=e}finally{try{!c&&d.return&&d.return()}finally{if(u)throw l}}var y=!0,p=!1,g=void 0;try{for(var m,k=Object.getOwnPropertyNames(e.prototype)[Symbol.iterator]();!(y=(m=k.next()).done);y=!0){var b=m.value;if(!s.prototype.hasOwnProperty(b)){h=Object.getOwnPropertyDescriptor(e.prototype,b);Object.defineProperty(s.prototype,b,h)}}}catch(e){p=!0,g=e}finally{try{!y&&k.return&&k.return()}finally{if(p)throw g}}}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}Object.entries({Block:D,Change:te,Decoration:J,Document:S,Editor:xe,Inline:w,Leaf:B,Mark:E,Node:C,Operation:X,Point:M,Range:U,Selection:W,Text:F,Value:G}).forEach((function(e){var t=slicedToArray(e,2),n=t[0],r=t[1];return mixin(function create$2(e){var t=K[e],n="is"+(""+e.charAt(0).toUpperCase()+e.slice(1)),r=function(){function ObjectInterface(){classCallCheck(this,ObjectInterface)}return x(ObjectInterface,[{key:"object",get:function get$$1(){return e}}]),ObjectInterface}();return r[n]=isObject.bind(null,e),r.prototype[t]=!0,r}(n.toLowerCase()),[r])})),mixin(function(){function ModelInterface(){classCallCheck(this,ModelInterface)}return x(ModelInterface,[{key:"toJS",value:function toJS(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function fromJS(){return this.fromJSON.apply(this,arguments)}}]),ModelInterface}(),[D,J,S,w,B,E,C,X,M,U,W,F,G]);var Ae=!0,Oe=Symbol("LEAF"),Ne=Symbol("STORE_KEY"),Se=Symbol("undefined"),Te=Symbol("null"),we=new WeakMap;function memoize(e,t){var n=function _loop(t){var n=e[t];if(!n)throw new Error('Object does not have a property named "'+t+'".');e[t]=function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];if(!Ae)return n.apply(this,r);we.has(this)||we.set(this,{noArgs:{},hasArgs:{}});var a=we.get(this),i=a.noArgs,s=a.hasArgs,c=0!==r.length,u=void 0,l=void 0;if(void 0!==(u=c?getIn(s,l=[t].concat(r)):i[t]))return u===Se?void 0:u;var f=n.apply(this,r),d=void 0===f?Se:f;return c?setIn(s,l,d):i[t]=d,f}},r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){n(i.value)}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}}function getIn(e,t){var n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;if(void 0===s?s=Se:null==s&&(s=Te),void 0===(e="object"===(void 0===s?"undefined":b(s))?e[Ne]&&e[Ne].get(s):e[s]))return}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return e[Oe]}function setIn(e,t,n){var r=e,o=!0,a=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(void 0===u?u=Se:null==u&&(u=Te),"object"===(void 0===u?"undefined":b(u)))if(r[Ne]||(r[Ne]=new WeakMap),r[Ne].has(u))r=r[Ne].get(u);else{var l={};r[Ne].set(u,l),r=l}else r[u]||(r[u]={}),r=r[u]}}catch(e){a=!0,i=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw i}}return r[Oe]=n,e}function resetMemoization(){we=new WeakMap}function useMemoization(e){Ae=e}var je=function(){function NodeInterface(){classCallCheck(this,NodeInterface)}return x(NodeInterface,[{key:"getFirstText",value:function getFirstText(){if("text"===this.object)return this;var e=null,t=this.nodes.find((function(t){return"text"===t.object||!!(e=t.getFirstText())}));return e||t}},{key:"getKeysToPathsTable",value:function getKeysToPathsTable(){var e,t,n,r=(e={},t=this.key,n=[],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e);return this.nodes&&this.nodes.forEach((function(e,t){var n=e.getKeysToPathsTable();for(var o in n){var a=n[o];Object(s.default)(!(o in r),'A node with a duplicate key of "'+o+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),r[o]=[t].concat(toConsumableArray(a))}})),r}},{key:"getLastText",value:function getLastText(){if("text"===this.object)return this;var e=null,t=this.nodes.findLast((function(t){return"text"===t.object||(e=t.getLastText())}));return e||t}},{key:"getNode",value:function getNode(e){return(e=this.resolvePath(e))?"text"===this.object&&e.size?null:e.size?this.getDescendant(e):this:null}},{key:"getPath",value:function getPath(e){if(a.List.isList(e))return e;var t=this.getKeysToPathsTable()[e];return t?Object(a.List)(t):null}},{key:"getText",value:function getText(){return"text"===this.object?this.text:this.nodes.reduce((function(e,t){return e+t.text}),"")}},{key:"hasNode",value:function hasNode(e){return!!this.getNode(e)}},{key:"normalize",value:function normalize(e){return e.run("normalizeNode",this)}},{key:"regenerateKey",value:function regenerateKey(){var e=k.create();return this.set("key",e)}},{key:"resolvePath",value:function resolvePath(e,t){return"string"==typeof e?(e=this.getPath(e),null!=t&&(e=e.concat(t))):e=L.create(e),e}},{key:"validate",value:function validate(e){return e.run("validateNode",this)}}]),NodeInterface}();memoize(je.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),mixin(je,[D,S,w,F]);var Ee=function(){function ElementInterface(){classCallCheck(this,ElementInterface)}return x(ElementInterface,[{key:"addMark",value:function addMark(e,t){e=this.resolvePath(e);var n=this.assertDescendant(e);return n=n.addMark(t),this.replaceNode(e,n)}},{key:"createDecoration",value:function createDecoration(e){return e=J.createProperties(e),this.resolveDecoration(e)}},{key:"createPoint",value:function createPoint(e){return e=M.createProperties(e),this.resolvePoint(e)}},{key:"createRange",value:function createRange(e){return e=U.createProperties(e),this.resolveRange(e)}},{key:"createSelection",value:function createSelection(e){return e=W.createProperties(e),this.resolveSelection(e)}},{key:"filterDescendants",value:function filterDescendants(e){var t=[];return this.forEachDescendant((function(n,r,o){e(n,r,o)&&t.push(n)})),Object(a.List)(t)}},{key:"findDescendant",value:function findDescendant(e){var t=null;return this.forEachDescendant((function(n,r,o){if(e(n,r,o))return t=n,!1})),t}},{key:"findDescendantAndPath",value:function findDescendantAndPath(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.create([]),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0,o=void 0;return this.forEachDescendantWithPath((function(t,n,a){if(e(t,n,a))return r=t,o=n,!1}),t,n),r?[r,o]:null}},{key:"findFirstDescendantAndPath",value:function findFirstDescendantAndPath(e,t){return this.findDescendantAndPath(e,t,!1)}},{key:"findLastDescendantAndPath",value:function findLastDescendantAndPath(e,t){return this.findDescendantAndPath(e,t,!0)}},{key:"forEachDescendant",value:function forEachDescendant(e){var t=void 0;return this.nodes.forEach((function(n,r,o){return!1===e(n,r,o)?(t=!1,!1):"text"!==n.object?t=n.forEachDescendant(e):void 0})),t}},{key:"forEachDescendantWithPath",value:function forEachDescendantWithPath(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.create([]),n=arguments[2],r=this.nodes,o=void 0;return n&&(r=r.reverse()),r.forEach((function(a,i){var s=t.concat(i);return!1===e(a,s,r)?(o=!1,!1):"text"!==a.object?o=a.forEachDescendantWithPath(e,s,n):void 0})),o}},{key:"getActiveMarksAtRange",value:function getActiveMarksAtRange(e){if((e=this.resolveRange(e)).isUnset)return Object(a.Set)();if(e.isCollapsed){var t=e.start;return this.getMarksAtPosition(t.path,t.offset).toSet()}var n=e,r=n.start,o=n.end,i=r.path,s=r.offset,c=o.path,u=o.offset,l=this.getDescendant(i),f=this.getDescendant(c);if(!L.isEqual(i,c)){for(;!L.isEqual(i,c)&&0===u;){var d=this.getPreviousTextAndPath(c),v=slicedToArray(d,2);f=v[0],c=v[1],u=f.text.length}for(;!L.isEqual(i,c)&&s===l.text.length;){var h=this.getNextTextAndPath(i),y=slicedToArray(h,2);l=y[0],i=y[1],s=0}}if(L.isEqual(i,c))return l.marks;var p=l.marks;if(0===p.size)return Object(a.Set)();var g=f.marks,m=p.intersect(g);if(0===m.size)return m;var k=this.getNextTextAndPath(i),b=slicedToArray(k,2);for(l=b[0],i=b[1];!L.isEqual(i,c);){if(0!==l.text.length&&0===(m=m.intersect(l.marks)).size)return Object(a.Set)();var x=this.getNextTextAndPath(i),A=slicedToArray(x,2);l=A[0],i=A[1]}return m}},{key:"getAncestors",value:function getAncestors(e){var t=this;if(!(e=this.resolvePath(e)))return null;var n=[];return e.forEach((function(r,o){var a=e.slice(0,o),i=t.getNode(a);n.push(i)})),Object(a.List)(n)}},{key:"getBlocks",value:function getBlocks(){var e=this.getBlocksAsArray();return Object(a.List)(e)}},{key:"getBlocksAsArray",value:function getBlocksAsArray(){return this.nodes.reduce((function(e,t){return"block"!==t.object?e:t.isLeafBlock()?(e.push(t),e):e.concat(t.getBlocksAsArray())}),[])}},{key:"getBlocksAtRange",value:function getBlocksAtRange(e){return Object(s.default)(!1,"As of slate@0.44 the `node.getBlocksAtRange` method has been renamed to `getLeafBlocksAtRange`."),this.getLeafBlocksAtRange(e)}},{key:"getBlocksAtRangeAsArray",value:function getBlocksAtRangeAsArray(e){return Object(s.default)(!1,"As of slate@0.44 the `node.getBlocksAtRangeAsArray` method has been renamed to `getLeafBlocksAtRangeAsArray`."),this.getLeafBlocksAtRangeAsArray(e)}},{key:"getBlocksByType",value:function getBlocksByType(e){var t=this.getBlocksByTypeAsArray(e);return Object(a.List)(t)}},{key:"getBlocksByTypeAsArray",value:function getBlocksByTypeAsArray(e){return this.nodes.reduce((function(t,n){return"block"!==n.object?t:n.isLeafBlock()&&n.type===e?(t.push(n),t):t.concat(n.getBlocksByTypeAsArray(e))}),[])}},{key:"getChild",value:function getChild(e){return!(e=this.resolvePath(e))||e.size>1?null:this.nodes.get(e.first())}},{key:"getClosest",value:function getClosest(e,t){var n=this,r=this.getAncestors(e);return r&&r.findLast((function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return e!==n&&t.apply(void 0,[e].concat(o))}))||null}},{key:"getClosestBlock",value:function getClosestBlock(e){return this.getClosest(e,(function(e){return"block"===e.object}))}},{key:"getClosestInline",value:function getClosestInline(e){return this.getClosest(e,(function(e){return"inline"===e.object}))}},{key:"getClosestVoid",value:function getClosestVoid(e,t){Object(i.default)(!G.isValue(t),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`.");var n=this.getAncestors(e);return n?n.findLast((function(e){return t.query("isVoid",e)})):null}},{key:"getCommonAncestor",value:function getCommonAncestor(e,t){if(e=this.resolvePath(e),t=this.resolvePath(t),!e||!t)return null;var n=L.relate(e,t);return this.getNode(n)}},{key:"getDecorations",value:function getDecorations(e){Object(i.default)(!G.isValue(e),"As of Slate 0.42.0, the `node.getDecorations` method takes an `editor` instead of a `value`.");var t=e.run("decorateNode",this);return J.createList(t)}},{key:"getDepth",value:function getDepth(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!(e=this.resolvePath(e)))return null;var n=this.getNode(e),r=n?e.size-1+t:null;return r}},{key:"getDescendant",value:function getDescendant(e){if(!(e=this.resolvePath(e))||!e.size)return null;var t=this;return e.forEach((function(e){return!!(t=t.getIn(["nodes",e]))})),t}},{key:"getFragmentAtRange",value:function getFragmentAtRange(e){if((e=this.resolveRange(e)).isUnset)return S.create();for(var t=e,n=t.start,r=t.end,o=this,a=r.path,i=r.offset,s="end";a.size;){var c=a.last();o=o.splitNode(a,i),i=c+1,(a=L.lift(a)).size||"end"!==s||(a=n.path,i=n.offset,s="start")}var u=n.path.first()+1,l=r.path.first()+2,f=o.nodes.slice(u,l);return S.create({nodes:f})}},{key:"getFurthest",value:function getFurthest(e,t){var n=this,r=this.getAncestors(e);return r&&r.find((function(e){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return e!==n&&t.apply(void 0,[e].concat(o))}))||null}},{key:"getFurthestAncestor",value:function getFurthestAncestor(e){return(e=this.resolvePath(e))&&e.size?this.nodes.get(e.first()):null}},{key:"getFurthestBlock",value:function getFurthestBlock(e){return this.getFurthest(e,(function(e){return"block"===e.object}))}},{key:"getFurthestInline",value:function getFurthestInline(e){return this.getFurthest(e,(function(e){return"inline"===e.object}))}},{key:"getFurthestOnlyChildAncestor",value:function getFurthestOnlyChildAncestor(e){var t=this.getAncestors(e);return t&&t.rest().reverse().takeUntil((function(e){return e.nodes.size>1})).last()||null}},{key:"getInlines",value:function getInlines(){var e=this.getInlinesAsArray();return Object(a.List)(e)}},{key:"getInlinesAsArray",value:function getInlinesAsArray(){var e=[];return this.nodes.forEach((function(t){"text"!==t.object&&(t.isLeafInline()?e.push(t):e=e.concat(t.getInlinesAsArray()))})),e}},{key:"getInlinesAtRange",value:function getInlinesAtRange(e){return Object(s.default)(!1,"As of slate@0.44 the `node.getInlinesAtRange` method has been renamed to `getLeafInlinesAtRange`."),this.getLeafInlinesAtRange(e)}},{key:"getInlinesAtRangeAsArray",value:function getInlinesAtRangeAsArray(e){return Object(s.default)(!1,"As of slate@0.44 the `node.getInlinesAtRangeAsArray` method has been renamed to `getLeafInlinesAtRangeAsArray`."),this.getLeafInlinesAtRangeAsArray(e)}},{key:"getInlinesByType",value:function getInlinesByType(e){var t=this.getInlinesByTypeAsArray(e);return Object(a.List)(t)}},{key:"getInlinesByTypeAsArray",value:function getInlinesByTypeAsArray(e){return this.nodes.reduce((function(t,n){return"text"===n.object?t:n.isLeafInline()&&n.type===e?(t.push(n),t):t.concat(n.getInlinesByTypeAsArray(e))}),[])}},{key:"getInsertMarksAtRange",value:function getInsertMarksAtRange(e){var t=(e=this.resolveRange(e)).start;return e.isUnset?Object(a.Set)():e.isCollapsed?this.getMarksAtPosition(t.path,t.offset):this.getDescendant(t.path).marks}},{key:"getLeafBlocksAtRange",value:function getLeafBlocksAtRange(e){var t=this.getLeafBlocksAtRangeAsArray(e);return Object(a.List)(Object(a.OrderedSet)(t))}},{key:"getLeafBlocksAtRangeAsArray",value:function getLeafBlocksAtRangeAsArray(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end;return this.getLeafBlocksBetweenPathPositionsAsArray(n.path,r.path)}},{key:"getLeafBlocksBetweenPathPositionsAsArray",value:function getLeafBlocksBetweenPathPositionsAsArray(e,t){if(e&&t&&L.isEqual(e,t))return[this.getClosestBlock(e)];if(!e&&!t)return this.getBlocksAsArray();var n=e?e.get(0,0):0,r=t?t.get(0,this.nodes.size-1):this.nodes.size-1,o=[];return this.nodes.slice(n,r+1).forEach((function(a,i){if("block"===a.object)if(a.isLeafBlock())o.push(a);else{var s=e&&0===i?L.drop(e):null,c=t&&i===r-n?L.drop(t):null;o=o.concat(a.getLeafBlocksBetweenPathPositionsAsArray(s,c))}})),o}},{key:"getLeafInlinesAtRange",value:function getLeafInlinesAtRange(e){var t=this.getLeafInlinesAtRangeAsArray(e);return Object(a.List)(Object(a.OrderedSet)(t))}},{key:"getLeafInlinesAtRangeAsArray",value:function getLeafInlinesAtRangeAsArray(e){var t=this;return(e=this.resolveRange(e)).isUnset?[]:this.getTextsAtRangeAsArray(e).map((function(e){return t.getClosestInline(e.key)})).filter((function(e){return e}))}},{key:"getMarks",value:function getMarks(){var e=this.getMarksAsArray();return Object(a.Set)(e)}},{key:"getMarksAsArray",value:function getMarksAsArray(){var e,t=[];return this.nodes.forEach((function(e){t.push("text"===e.object?e.marks.toArray():e.getMarksAsArray())})),(e=[]).concat.apply(e,t)}},{key:"getMarksAtPosition",value:function getMarksAtPosition(e,t){e=this.resolvePath(e);var n=this.getDescendant(e).marks;if(0!==t)return n;var r=this.getClosestBlock(e);if(""===r.text)return n;var o=this.getPreviousTextAndPath(e);if(!o)return Object(a.Set)();var i=slicedToArray(o,2),s=i[0],c=i[1];return r.hasDescendant(c)?s.marks:n}},{key:"getMarksAtRange",value:function getMarksAtRange(e){return Object(a.Set)(this.getOrderedMarksAtRange(e))}},{key:"getMarksByType",value:function getMarksByType(e){var t=this.getMarksByTypeAsArray(e);return Object(a.Set)(t)}},{key:"getMarksByTypeAsArray",value:function getMarksByTypeAsArray(e){return this.nodes.reduce((function(t,n){return"text"===n.object?t.concat(n.getMarksAsArray().filter((function(t){return t.type===e}))):t.concat(n.getMarksByTypeAsArray(e))}),[])}},{key:"getNextBlock",value:function getNextBlock(e){e=this.resolvePath(e);var t=this.getNextDeepMatchingNodeAndPath(e,(function(e){return"block"===e.object}));return t?t[0]:null}},{key:"getNextNode",value:function getNextNode(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t),r=L.increment(n),o=this.getNode(r);if(o)return o}return null}},{key:"getNextMatchingNodeAndPath",value:function getNextMatchingNodeAndPath(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!e)return null;for(var n=e.size;n>0;n--){for(var r=e.slice(0,n),o=L.increment(r),a=this.getNode(o);a&&!t(a);)o=L.increment(o),a=this.getNode(o);if(a)return[a,o]}return null}},{key:"getNextDeepMatchingNodeAndPath",value:function getNextDeepMatchingNodeAndPath(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=this.getNextMatchingNodeAndPath(e);if(!n)return null;for(var r=slicedToArray(n,2),o=r[0],a=r[1],i=void 0,s=function assign(){return i="text"!==o.object&&o.findFirstDescendantAndPath(t,a)};s(i);){var c=i,u=slicedToArray(c,2);o=u[0],a=u[1]}return o?t(o)?[o,a]:this.getNextDeepMatchingNodeAndPath(n[1],t):null}},{key:"getNextSibling",value:function getNextSibling(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=L.increment(e);return this.getNode(t)}},{key:"getNextText",value:function getNextText(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getNextNode(e);return t?t.getFirstText():null}},{key:"getNextTextAndPath",value:function getNextTextAndPath(e){return e&&e.size?this.getNextDeepMatchingNodeAndPath(e,(function(e){return"text"===e.object})):null}},{key:"getNodesAtRange",value:function getNodesAtRange(e){if((e=this.resolveRange(e)).isUnset)return Object(a.List)();for(var t=e,n=t.start,r=t.end,o=Object(a.Stack)(this.nodes.slice(n.path.get(0),r.path.get(0)+1).map((function(e,t){return{node:e,onStartEdge:0===t,onEndEdge:t===r.path.get(0)-n.path.get(0),relativeStartPath:n.path.slice(1),relativeEndPath:r.path.slice(1)}}))),i=[],s=function _loop(){var e=o.peek(),t=e.node,n=e.onStartEdge,r=e.onEndEdge,a=e.relativeStartPath,s=e.relativeEndPath;if(o=o.shift(),i.push(t),"text"===t.object)return"continue";var c=n?a.get(0):0,u=r?s.get(0):t.nodes.size-1;o=o.pushAll(t.nodes.slice(c,u+1).map((function(e,t){return{node:e,onStartEdge:n&&0===t,onEndEdge:r&&t===u-c,relativeStartPath:n&&0===t?a.slice(1):null,relativeEndPath:r&&t===u-c?s.slice(1):null}})))};o.size>0;)s();return Object(a.List)(i)}},{key:"getOffset",value:function getOffset(e){e=this.resolvePath(e),this.assertDescendant(e);var t=e.first(),n=this.nodes.slice(0,t).reduce((function(e,t){return e+t.text.length}),0);return 1===e.size?n:n+this.nodes.get(t).getOffset(L.drop(e))}},{key:"getOffsetAtRange",value:function getOffsetAtRange(e){if((e=this.resolveRange(e)).isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(e.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var t=e.start;return this.getOffset(t.path)+t.offset}},{key:"getOrderedMarks",value:function getOrderedMarks(){var e=this.getMarksAsArray();return Object(a.OrderedSet)(e)}},{key:"getOrderedMarksAtRange",value:function getOrderedMarksAtRange(e){var t=e=this.resolveRange(e),n=t.start,r=t.end;return e.isUnset?Object(a.OrderedSet)():e.isCollapsed?this.getMarksAtPosition(n.path,n.offset):this.getOrderedMarksBetweenPositions(n.path,n.offset,r.path,r.offset)}},{key:"getOrderedMarksBetweenPositions",value:function getOrderedMarksBetweenPositions(e,t,n,r){e=this.resolvePath(e),n=this.resolvePath(n);var o=this.getDescendant(e);if(L.isEqual(e,n))return o.marks;var i=this.getTextsBetweenPathPositionsAsArray(e,n);return Object(a.OrderedSet)().withMutations((function(e){i.forEach((function(t){e.union(t.marks)}))}))}},{key:"getOrderedMarksByType",value:function getOrderedMarksByType(e){var t=this.getMarksByTypeAsArray(e);return Object(a.OrderedSet)(t)}},{key:"getParent",value:function getParent(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=L.lift(e);return this.getNode(t)}},{key:"getPreviousBlock",value:function getPreviousBlock(e){e=this.resolvePath(e);var t=this.getPreviousDeepMatchingNodeAndPath(e,(function(e){return"block"===e.object}));return t?t[0]:null}},{key:"getRootBlocksAtRange",value:function getRootBlocksAtRange(e){if((e=this.resolveRange(e)).isUnset)return Object(a.List)();var t=e,n=t.start,r=t.end;return this.nodes.slice(n.path.first(),r.path.first()+1)}},{key:"getRootInlinesAtRange",value:function getRootInlinesAtRange(e){var t=this.getRootInlinesAtRangeAsArray(e);return Object(a.List)(Object(a.OrderedSet)(t))}},{key:"getRootInlinesAtRangeAsArray",value:function getRootInlinesAtRangeAsArray(e){var t=this;return(e=this.resolveRange(e)).isUnset?Object(a.List)():this.getTextsAtRangeAsArray(e).map((function(e){return t.getFurthestInline(e.key)})).filter((function(e){return e}))}},{key:"getPreviousNode",value:function getPreviousNode(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;for(var t=e.size;t>0;t--){var n=e.slice(0,t);if(0!==n.last()){var r=L.decrement(n),o=this.getNode(r);if(o)return o}}return null}},{key:"getPreviousMatchingNodeAndPath",value:function getPreviousMatchingNodeAndPath(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!e)return null;for(var n=e.size;n>0;n--){var r=e.slice(0,n);if(0!==r.last()){for(var o=L.decrement(r),a=this.getNode(o);a&&!t(a);)o=L.decrement(o),a=this.getNode(o);if(a)return[a,o]}}return null}},{key:"getPreviousDeepMatchingNodeAndPath",value:function getPreviousDeepMatchingNodeAndPath(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=this.getPreviousMatchingNodeAndPath(e);if(!n)return null;for(var r=slicedToArray(n,2),o=r[0],a=r[1],i=void 0,s=function assign(){return i="text"!==o.object&&o.findLastDescendantAndPath(t,a)};s(i);){var c=i,u=slicedToArray(c,2);o=u[0],a=u[1]}return o?t(o)?[o,a]:this.getPreviousDeepMatchingNodeAndPath(n[1],t):null}},{key:"getPreviousSibling",value:function getPreviousSibling(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;if(0===e.last())return null;var t=L.decrement(e);return this.getNode(t)}},{key:"getPreviousText",value:function getPreviousText(e){if(!(e=this.resolvePath(e)))return null;if(!e.size)return null;var t=this.getPreviousNode(e);return t?t.getLastText():null}},{key:"getPreviousTextAndPath",value:function getPreviousTextAndPath(e){return e&&e.size?this.getPreviousDeepMatchingNodeAndPath(e,(function(e){return"text"===e.object})):null}},{key:"getSelectionIndexes",value:function getSelectionIndexes(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.start,r=e.end;if(!t)return null;if(e.isUnset)return null;if(n.key===r.key){var o=this.getFurthestAncestor(n.key),a=o?this.nodes.indexOf(o):null;return{start:a,end:a+1}}var i=null,s=null;return this.nodes.forEach((function(e,t){return"text"===e.object?(null==i&&e.key===n.key&&(i=t),null==s&&e.key===r.key&&(s=t+1)):(null==i&&e.hasDescendant(n.key)&&(i=t),null==s&&e.hasDescendant(r.key)&&(s=t+1)),null==i||null==s})),t&&null==i&&(i=0),t&&null==s&&(s=this.nodes.size),null==i?null:{start:i,end:s}}},{key:"getTextAtOffset",value:function getTextAtOffset(e){if(0===e)return this.getFirstText();if(e===this.text.length)return this.getLastText();if(e<0||e>this.text.length)return null;var t=0;return this.getTexts().find((function(n,r,o){return(t+=n.text.length)>e}))}},{key:"getTextDirection",value:function getTextDirection(){var e=p()(this.text);return"neutral"===e?null:e}},{key:"getTexts",value:function getTexts(){var e=this.getTextsAsArray();return Object(a.List)(e)}},{key:"getTextsAsArray",value:function getTextsAsArray(){var e=[];return this.nodes.forEach((function(t){"text"===t.object?e.push(t):e=e.concat(t.getTextsAsArray())})),e}},{key:"getTextsAtRange",value:function getTextsAtRange(e){var t=this.getTextsAtRangeAsArray(e);return Object(a.List)(t)}},{key:"getTextsAtRangeAsArray",value:function getTextsAtRangeAsArray(e){if((e=this.resolveRange(e)).isUnset)return[];var t=e,n=t.start,r=t.end;return this.getTextsBetweenPathPositionsAsArray(n.path,r.path)}},{key:"getTextsBetweenPositionsAsArray",value:function getTextsBetweenPositionsAsArray(e,t){return e=this.resolvePath(e),t=this.resolvePath(t),this.getTextsBetweenPathPositionsAsArray(e,t)}},{key:"getTextsBetweenPathPositionsAsArray",value:function getTextsBetweenPathPositionsAsArray(e,t){if(e&&t&&L.isEqual(e,t))return[this.getDescendant(e)];if(!e&&!t)return this.getTextsAsArray();var n=e?e.get(0,0):0,r=t?t.get(0,this.nodes.size-1):this.nodes.size-1,o=[];return this.nodes.slice(n,r+1).forEach((function(a,i){if("text"===a.object)o.push(a);else{var s=e&&0===i?L.drop(e):null,c=t&&i===r-n?L.drop(t):null;o=o.concat(a.getTextsBetweenPathPositionsAsArray(s,c))}})),o}},{key:"hasBlockChildren",value:function hasBlockChildren(){return!(!this.nodes||!this.nodes.find((function(e){return"block"===e.object})))}},{key:"hasChild",value:function hasChild(e){return!!this.getChild(e)}},{key:"hasInlineChildren",value:function hasInlineChildren(){return!(!this.nodes||!this.nodes.find((function(e){return"inline"===e.object||"text"===e.object})))}},{key:"hasDescendant",value:function hasDescendant(e){return!!this.getDescendant(e)}},{key:"hasVoidParent",value:function hasVoidParent(e,t){return Object(i.default)(!G.isValue(t),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`."),!!this.getClosestVoid(e,t)}},{key:"insertNode",value:function insertNode(e,t){var n=(e=this.resolvePath(e)).last(),r=L.lift(e),o=this.assertNode(r),a=o.nodes.splice(n,0,t);return o=o.set("nodes",a),this.replaceNode(r,o)}},{key:"insertText",value:function insertText(e,t,n){e=this.resolvePath(e);var r=this.assertDescendant(e);return r=r.insertText(t,n),this.replaceNode(e,r)}},{key:"isLeafBlock",value:function isLeafBlock(){var e=this.object,t=this.nodes;return"block"===e&&(!t.size||"block"!==t.first().object)}},{key:"isLeafInline",value:function isLeafInline(){var e=this.object,t=this.nodes;return"inline"===e&&(!t.size||"inline"!==t.first().object)}},{key:"isNodeInRange",value:function isNodeInRange(e,t){if(this.assertDescendant(e),e=this.resolvePath(e),(t=this.resolveRange(t)).isUnset)return!1;var n=L.compare(e,t.start.path),r=t.start.key===t.end.key?n:L.compare(e,t.end.path);return-1!==n&&1!==r}},{key:"mapChildren",value:function mapChildren(e){var t=this,n=this.nodes;return n.forEach((function(r,o){var a=e(r,o,t.nodes);a!==r&&(n=n.set(a.key,a))})),this.set("nodes",n)}},{key:"mapDescendants",value:function mapDescendants(e){var t=this,n=this.nodes;return n.forEach((function(r,o){var a=r;"text"!==a.object&&(a=a.mapDescendants(e)),(a=e(a,o,t.nodes))!==r&&(n=n.set(o,a))})),this.set("nodes",n)}},{key:"mergeNode",value:function mergeNode(e){var t=this.assertNode(e);if(0===(e=this.resolvePath(e)).last())throw new Error("Unable to merge node because it has no previous sibling: "+t);var n=L.decrement(e),r=this.assertNode(n);if(r.object!==t.object)throw new Error("Unable to merge two different kinds of nodes: "+r+" and "+t);var o="text"===r.object?r.mergeText(t):r.set("nodes",r.nodes.concat(t.nodes)),a=this;return a=(a=(a=a.removeNode(e)).removeNode(n)).insertNode(n,o)}},{key:"moveNode",value:function moveNode(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.assertNode(e);e=this.resolvePath(e),t=this.resolvePath(t,n);var o=L.lift(t);this.assertNode(o);var a=X.create({type:"move_node",path:e,newPath:t});t=L.transform(e,a).first();var i=this;return i=(i=i.removeNode(e)).insertNode(t,r)}},{key:"removeMark",value:function removeMark(e,t){e=this.resolvePath(e);var n=this.assertDescendant(e);return n=n.removeMark(t),this.replaceNode(e,n)}},{key:"removeNode",value:function removeNode(e){this.assertDescendant(e);var t=(e=this.resolvePath(e)).flatMap((function(e){return["nodes",e]}));return this.deleteIn(t)}},{key:"removeText",value:function removeText(e,t,n){var r=this.assertDescendant(e);return r=r.removeText(t,n.length),this.replaceNode(e,r)}},{key:"replaceNode",value:function replaceNode(e,t){if(!(e=this.resolvePath(e)))throw new Error("Unable to replace a node because it could not be found in the first place: "+e);if(!e.size)return t;this.assertNode(e);var n=e.flatMap((function(e){return["nodes",e]}));return this.setIn(n,t)}},{key:"resolveDecoration",value:function resolveDecoration(e){return e=(e=J.create(e)).normalize(this)}},{key:"resolvePoint",value:function resolvePoint(e){return e=(e=M.create(e)).normalize(this)}},{key:"resolveRange",value:function resolveRange(e){return e=(e=U.create(e)).normalize(this)}},{key:"resolveSelection",value:function resolveSelection(e){return e=(e=W.create(e)).normalize(this)}},{key:"setNode",value:function setNode(e,t){var n=this.assertNode(e);return n=n.merge(t),this.replaceNode(e,n)}},{key:"setMark",value:function setMark(e,t,n){e=this.resolvePath(e);var r=this.assertDescendant(e);return r=r.setMark(t,n),this.replaceNode(e,r)}},{key:"splitNode",value:function splitNode(e,t,n){var r=this.assertNode(e);e=this.resolvePath(e);var o=void 0,a=void 0;if("text"===r.object){var i=r.splitText(t),s=slicedToArray(i,2);o=s[0],a=s[1]}else{var c=r.nodes.take(t),u=r.nodes.skip(t);o=r.set("nodes",c),a=r.set("nodes",u).regenerateKey()}n&&"text"!==r.object&&(a=a.merge(n));var l=this;return l=(l=(l=l.removeNode(e)).insertNode(e,a)).insertNode(e,o)}},{key:"text",get:function get$$1(){return this.getText()}}]),ElementInterface}(),Pe=function _loop2(e){Ee.prototype["assert"+e]=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=this["get"+e].apply(this,[t].concat(r));if(null==a)throw new Error("`Node.assert"+e+"` could not find node with path or key: "+t);return a}},Be=!0,_e=!1,Fe=void 0;try{for(var Ce,Re=["Child","Depth","Descendant","Node","Parent","Path"][Symbol.iterator]();!(Be=(Ce=Re.next()).done);Be=!0){Pe(Ce.value)}}catch(e){_e=!0,Fe=e}finally{try{!Be&&Re.return&&Re.return()}finally{if(_e)throw Fe}}memoize(Ee.prototype,["getBlocksAsArray","getLeafBlocksAtRangeAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getNodesAtRange","getOrderedMarksBetweenPositions","getInsertMarksAtRange","getMarksByTypeAsArray","getNextBlock","getOffset","getOffsetAtRange","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPathPositionsAsArray"]),mixin(Ee,[D,S,w]),mixin(function(){function RangeInterface(){classCallCheck(this,RangeInterface)}return x(RangeInterface,[{key:"flip",value:function flip(){return this.setPoints([this.focus,this.anchor])}},{key:"moveForward",value:function moveForward(e){return this.updatePoints((function(t){return t.moveForward(e)}))}},{key:"moveBackward",value:function moveBackward(e){return this.updatePoints((function(t){return t.moveBackward(e)}))}},{key:"moveAnchorBackward",value:function moveAnchorBackward(e){return this.setAnchor(this.anchor.moveBackward(e))}},{key:"moveAnchorForward",value:function moveAnchorForward(e){return this.setAnchor(this.anchor.moveForward(e))}},{key:"moveAnchorTo",value:function moveAnchorTo(e,t){return this.setAnchor(this.anchor.moveTo(e,t))}},{key:"moveAnchorToStartOfNode",value:function moveAnchorToStartOfNode(e){return this.setAnchor(this.anchor.moveToStartOfNode(e))}},{key:"moveAnchorToEndOfNode",value:function moveAnchorToEndOfNode(e){return this.setAnchor(this.anchor.moveToEndOfNode(e))}},{key:"moveEndBackward",value:function moveEndBackward(e){return this.setEnd(this.end.moveBackward(e))}},{key:"moveEndForward",value:function moveEndForward(e){return this.setEnd(this.end.moveForward(e))}},{key:"moveEndTo",value:function moveEndTo(e,t){return this.setEnd(this.end.moveTo(e,t))}},{key:"moveEndToStartOfNode",value:function moveEndToStartOfNode(e){return this.setEnd(this.end.moveToStartOfNode(e))}},{key:"moveEndToEndOfNode",value:function moveEndToEndOfNode(e){return this.setEnd(this.end.moveToEndOfNode(e))}},{key:"moveFocusBackward",value:function moveFocusBackward(e){return this.setFocus(this.focus.moveBackward(e))}},{key:"moveFocusForward",value:function moveFocusForward(e){return this.setFocus(this.focus.moveForward(e))}},{key:"moveFocusTo",value:function moveFocusTo(e,t){return this.setFocus(this.focus.moveTo(e,t))}},{key:"moveFocusToStartOfNode",value:function moveFocusToStartOfNode(e){return this.setFocus(this.focus.moveToStartOfNode(e))}},{key:"moveFocusToEndOfNode",value:function moveFocusToEndOfNode(e){return this.setFocus(this.focus.moveToEndOfNode(e))}},{key:"moveStartBackward",value:function moveStartBackward(e){return this.setStart(this.start.moveBackward(e))}},{key:"moveStartForward",value:function moveStartForward(e){return this.setStart(this.start.moveForward(e))}},{key:"moveStartTo",value:function moveStartTo(e,t){return this.setStart(this.start.moveTo(e,t))}},{key:"moveStartToStartOfNode",value:function moveStartToStartOfNode(e){return this.setStart(this.start.moveToStartOfNode(e))}},{key:"moveStartToEndOfNode",value:function moveStartToEndOfNode(e){return this.setStart(this.start.moveToEndOfNode(e))}},{key:"moveTo",value:function moveTo(e,t){return this.updatePoints((function(n){return n.moveTo(e,t)}))}},{key:"moveToAnchor",value:function moveToAnchor(){return this.setFocus(this.anchor)}},{key:"moveToEnd",value:function moveToEnd(){return this.setStart(this.end)}},{key:"moveToEndOfNode",value:function moveToEndOfNode(e){return this.updatePoints((function(t){return t.moveToEndOfNode(e)}))}},{key:"moveToFocus",value:function moveToFocus(){return this.setAnchor(this.focus)}},{key:"moveToRangeOfNode",value:function moveToRangeOfNode(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.setPoints([this.anchor.moveToStartOfNode(e),this.focus.moveToEndOfNode(t)]);return n}},{key:"moveToStart",value:function moveToStart(){return this.setEnd(this.start)}},{key:"moveToStartOfNode",value:function moveToStartOfNode(e){return this.updatePoints((function(t){return t.moveToStartOfNode(e)}))}},{key:"normalize",value:function normalize(e){return this.updatePoints((function(t){return t.normalize(e)}))}},{key:"setAnchor",value:function setAnchor(e){return this.set("anchor",e)}},{key:"setEnd",value:function setEnd(e){return this.isBackward?this.setAnchor(e):this.setFocus(e)}},{key:"setFocus",value:function setFocus(e){return this.set("focus",e)}},{key:"setPoints",value:function setPoints(e){var t=slicedToArray(e,2),n=t[0],r=t[1];return this.set("anchor",n).set("focus",r)}},{key:"updatePoints",value:function updatePoints(e){var t=this.anchor,n=this.focus;return t=e(t),n=e(n),this.merge({anchor:t,focus:n})}},{key:"setStart",value:function setStart(e){return this.isBackward?this.setFocus(e):this.setAnchor(e)}},{key:"setProperties",value:function setProperties(e){var t=e=U.createProperties(e),n=t.anchor,r=t.focus,o=objectWithoutProperties(t,["anchor","focus"]);return n&&(o.anchor=M.create(n)),r&&(o.focus=M.create(r)),this.merge(o)}},{key:"toJSON",value:function toJSON(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return t}},{key:"toRange",value:function toRange(){var e=U.createProperties(this);return U.create(e)}},{key:"unset",value:function unset(){return this.updatePoints((function(e){return e.unset()}))}},{key:"isCollapsed",get:function get$$1(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function get$$1(){return!this.isCollapsed}},{key:"isBackward",get:function get$$1(){var e=this.isUnset,t=this.anchor,n=this.focus;return e?null:t.key===n.key?t.offset>n.offset:L.isBefore(n.path,t.path)}},{key:"isForward",get:function get$$1(){var e=this.isBackward;return null==e?null:!e}},{key:"isUnset",get:function get$$1(){var e=this.anchor,t=this.focus;return e.isUnset||t.isUnset}},{key:"isSet",get:function get$$1(){return!this.isUnset}},{key:"start",get:function get$$1(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function get$$1(){return this.isBackward?this.anchor:this.focus}}]),RangeInterface}(),[J,U,W]);var De={Block:D,Change:te,Data:O,Decoration:J,Document:S,Editor:xe,Inline:w,KeyUtils:k,Leaf:B,Mark:E,Node:C,Operation:X,PathUtils:L,Point:M,Range:U,resetMemoization,Selection:W,Text:F,TextUtils:ae,useMemoization,Value:G};t.default=De},1610:function(e,t,n){var r=n(2369),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},1638:function(e,t){var n=Array.isArray;e.exports=n},1659:function(e,t){e.exports=function isObjectLike(e){return null!=e&&"object"==typeof e}},1660:function(e,t,n){var r=n(3432),o=n(3435);e.exports=function getNative(e,t){var n=o(e,t);return r(n)?n:void 0}},1701:function(e,t,n){var r=n(1638),o=n(3423),a=n(3426),i=n(3450);e.exports=function castPath(e,t){return r(e)?e:o(e,t)?[e]:a(i(e))}},1702:function(e,t,n){var r=n(1752),o=n(3424),a=n(3425),i=r?r.toStringTag:void 0;e.exports=function baseGetTag(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},1703:function(e,t){e.exports=function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1752:function(e,t,n){var r=n(1610).Symbol;e.exports=r},1753:function(e,t,n){var r=n(1997),o=n(2375);e.exports=function copyObject(e,t,n,a){var i=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=a?a(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),i?o(n,u,l):r(n,u,l)}return n}},1853:function(e,t,n){var r=n(1660)(Object,"create");e.exports=r},1854:function(e,t,n){var r=n(3440),o=n(3441),a=n(3442),i=n(3443),s=n(3444);function ListCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ListCache.prototype.clear=r,ListCache.prototype.delete=o,ListCache.prototype.get=a,ListCache.prototype.has=i,ListCache.prototype.set=s,e.exports=ListCache},1855:function(e,t,n){var r=n(2373);e.exports=function assocIndexOf(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1856:function(e,t,n){var r=n(3446);e.exports=function getMapData(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},1857:function(e,t,n){var r=n(1995);e.exports=function toKey(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},1995:function(e,t,n){var r=n(1702),o=n(1659);e.exports=function isSymbol(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},1996:function(e,t,n){var r=n(1660)(n(1610),"Map");e.exports=r},1997:function(e,t,n){var r=n(2375),o=n(2373),a=Object.prototype.hasOwnProperty;e.exports=function assignValue(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},1998:function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function isIndex(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},1999:function(e,t,n){var r=n(3456),o=n(1659),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},2e3:function(e,t){e.exports=function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},2001:function(e,t){e.exports=function arrayPush(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},2002:function(e,t,n){var r=n(2378),o=n(3481),a=n(2381);e.exports=function keys(e){return a(e)?r(e):o(e)}},2003:function(e,t){e.exports=function baseUnary(e){return function(t){return e(t)}}},2004:function(e,t,n){(function(e){var r=n(2369),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}).call(this,n(83)(e))},2005:function(e,t){var n=Object.prototype;e.exports=function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},2006:function(e,t,n){var r=n(3489),o=n(2383),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return a.call(e,t)})))}:o;e.exports=s},2007:function(e,t,n){var r=n(2380)(Object.getPrototypeOf,Object);e.exports=r},2008:function(e,t,n){var r=n(3492),o=n(1996),a=n(3493),i=n(3494),s=n(3495),c=n(1702),u=n(2372),l=u(r),f=u(o),d=u(a),v=u(i),h=u(s),y=c;(r&&"[object DataView]"!=y(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=y(new o)||a&&"[object Promise]"!=y(a.resolve())||i&&"[object Set]"!=y(new i)||s&&"[object WeakMap]"!=y(new s))&&(y=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case v:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=y},2009:function(e,t,n){var r=n(3498);e.exports=function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},2368:function(e,t,n){var r=n(1701),o=n(1857);e.exports=function baseGet(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[o(t[n++])];return n&&n==a?e:void 0}},2369:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(38))},2370:function(e,t,n){var r=n(3429),o=n(3445),a=n(3447),i=n(3448),s=n(3449);function MapCache(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}MapCache.prototype.clear=r,MapCache.prototype.delete=o,MapCache.prototype.get=a,MapCache.prototype.has=i,MapCache.prototype.set=s,e.exports=MapCache},2371:function(e,t,n){var r=n(1702),o=n(1703);e.exports=function isFunction(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},2372:function(e,t){var n=Function.prototype.toString;e.exports=function toSource(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},2373:function(e,t){e.exports=function eq(e,t){return e===t||e!=e&&t!=t}},2374:function(e,t){e.exports=function arrayMap(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},2375:function(e,t,n){var r=n(2376);e.exports=function baseAssignValue(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},2376:function(e,t,n){var r=n(1660),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},2377:function(e,t,n){var r=n(3457),o=n(3460),a=n(3462);e.exports=function flatRest(e){return a(o(e,void 0,r),e+"")}},2378:function(e,t,n){var r=n(3477),o=n(1999),a=n(1638),i=n(2379),s=n(1998),c=n(3479),u=Object.prototype.hasOwnProperty;e.exports=function arrayLikeKeys(e,t){var n=a(e),l=!n&&o(e),f=!n&&!l&&i(e),d=!n&&!l&&!f&&c(e),v=n||l||f||d,h=v?r(e.length,String):[],y=h.length;for(var p in e)!t&&!u.call(e,p)||v&&("length"==p||f&&("offset"==p||"parent"==p)||d&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||s(p,y))||h.push(p);return h}},2379:function(e,t,n){(function(e){var r=n(1610),o=n(3478),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c}).call(this,n(83)(e))},2380:function(e,t){e.exports=function overArg(e,t){return function(n){return e(t(n))}}},2381:function(e,t,n){var r=n(2371),o=n(2e3);e.exports=function isArrayLike(e){return null!=e&&o(e.length)&&!r(e)}},2382:function(e,t,n){var r=n(2378),o=n(3484),a=n(2381);e.exports=function keysIn(e){return a(e)?r(e,!0):o(e)}},2383:function(e,t){e.exports=function stubArray(){return[]}},2384:function(e,t,n){var r=n(2001),o=n(2007),a=n(2006),i=n(2383),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:i;e.exports=s},2385:function(e,t,n){var r=n(2001),o=n(1638);e.exports=function baseGetAllKeys(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},2386:function(e,t,n){var r=n(2385),o=n(2384),a=n(2382);e.exports=function getAllKeysIn(e){return r(e,a,o)}},3417:function(e,t,n){"use strict";(function(r){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function log(){var e;return"object"===("undefined"==typeof console?"undefined":_typeof(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function formatArgs(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function save(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function load(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function localstorage(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(3418)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(119))},3418:function(e,t,n){"use strict";e.exports=function setup(e){function selectColor(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return createDebug.colors[Math.abs(t)%createDebug.colors.length]}function createDebug(e){var t;function debug(){if(debug.enabled){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=debug,a=Number(new Date),i=a-(t||a);o.diff=i,o.prev=t,o.curr=a,t=a,n[0]=createDebug.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var s=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,t){if("%%"===e)return e;s++;var r=createDebug.formatters[t];if("function"==typeof r){var a=n[s];e=r.call(o,a),n.splice(s,1),s--}return e})),createDebug.formatArgs.call(o,n);var c=o.log||createDebug.log;c.apply(o,n)}}return debug.namespace=e,debug.enabled=createDebug.enabled(e),debug.useColors=createDebug.useColors(),debug.color=selectColor(e),debug.destroy=destroy,debug.extend=extend,"function"==typeof createDebug.init&&createDebug.init(debug),createDebug.instances.push(debug),debug}function destroy(){var e=createDebug.instances.indexOf(this);return-1!==e&&(createDebug.instances.splice(e,1),!0)}function extend(e,t){return createDebug(this.namespace+(void 0===t?":":t)+e)}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(e){if(e instanceof Error)return e.stack||e.message;return e},createDebug.disable=function disable(){createDebug.enable("")},createDebug.enable=function enable(e){var t;createDebug.save(e),createDebug.names=[],createDebug.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+e.substr(1)+"$")):createDebug.names.push(new RegExp("^"+e+"$")));for(t=0;t<createDebug.instances.length;t++){var o=createDebug.instances[t];o.enabled=createDebug.enabled(o.namespace)}},createDebug.enabled=function enabled(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=createDebug.skips.length;t<n;t++)if(createDebug.skips[t].test(e))return!1;for(t=0,n=createDebug.names.length;t<n;t++)if(createDebug.names[t].test(e))return!0;return!1},createDebug.humanize=n(2367),Object.keys(e).forEach((function(t){createDebug[t]=e[t]})),createDebug.instances=[],createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=selectColor,createDebug.enable(createDebug.load()),createDebug}},3420:function(e,t,n){var r=n(3421),o=n(2377)((function(e,t){return null==e?{}:r(e,t)}));e.exports=o},3421:function(e,t,n){var r=n(3422),o=n(3453);e.exports=function basePick(e,t){return r(e,t,(function(t,n){return o(e,n)}))}},3422:function(e,t,n){var r=n(2368),o=n(3452),a=n(1701);e.exports=function basePickBy(e,t,n){for(var i=-1,s=t.length,c={};++i<s;){var u=t[i],l=r(e,u);n(l,u)&&o(c,a(u,e),l)}return c}},3423:function(e,t,n){var r=n(1638),o=n(1995),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function isKey(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(i.test(e)||!a.test(e)||null!=t&&e in Object(t))}},3424:function(e,t,n){var r=n(1752),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;e.exports=function getRawTag(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[s]=n:delete e[s]),o}},3425:function(e,t){var n=Object.prototype.toString;e.exports=function objectToString(e){return n.call(e)}},3426:function(e,t,n){var r=n(3427),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)})),t}));e.exports=i},3427:function(e,t,n){var r=n(3428);e.exports=function memoizeCapped(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},3428:function(e,t,n){var r=n(2370);function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var memoized=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=memoized.cache;if(o.has(r))return o.get(r);var a=e.apply(this,n);return memoized.cache=o.set(r,a)||o,a};return memoized.cache=new(memoize.Cache||r),memoized}memoize.Cache=r,e.exports=memoize},3429:function(e,t,n){var r=n(3430),o=n(1854),a=n(1996);e.exports=function mapCacheClear(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},3430:function(e,t,n){var r=n(3431),o=n(3436),a=n(3437),i=n(3438),s=n(3439);function Hash(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Hash.prototype.clear=r,Hash.prototype.delete=o,Hash.prototype.get=a,Hash.prototype.has=i,Hash.prototype.set=s,e.exports=Hash},3431:function(e,t,n){var r=n(1853);e.exports=function hashClear(){this.__data__=r?r(null):{},this.size=0}},3432:function(e,t,n){var r=n(2371),o=n(3433),a=n(1703),i=n(2372),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function baseIsNative(e){return!(!a(e)||o(e))&&(r(e)?d:s).test(i(e))}},3433:function(e,t,n){var r,o=n(3434),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function isMasked(e){return!!a&&a in e}},3434:function(e,t,n){var r=n(1610)["__core-js_shared__"];e.exports=r},3435:function(e,t){e.exports=function getValue(e,t){return null==e?void 0:e[t]}},3436:function(e,t){e.exports=function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},3437:function(e,t,n){var r=n(1853),o=Object.prototype.hasOwnProperty;e.exports=function hashGet(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},3438:function(e,t,n){var r=n(1853),o=Object.prototype.hasOwnProperty;e.exports=function hashHas(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},3439:function(e,t,n){var r=n(1853);e.exports=function hashSet(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},3440:function(e,t){e.exports=function listCacheClear(){this.__data__=[],this.size=0}},3441:function(e,t,n){var r=n(1855),o=Array.prototype.splice;e.exports=function listCacheDelete(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},3442:function(e,t,n){var r=n(1855);e.exports=function listCacheGet(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},3443:function(e,t,n){var r=n(1855);e.exports=function listCacheHas(e){return r(this.__data__,e)>-1}},3444:function(e,t,n){var r=n(1855);e.exports=function listCacheSet(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},3445:function(e,t,n){var r=n(1856);e.exports=function mapCacheDelete(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},3446:function(e,t){e.exports=function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},3447:function(e,t,n){var r=n(1856);e.exports=function mapCacheGet(e){return r(this,e).get(e)}},3448:function(e,t,n){var r=n(1856);e.exports=function mapCacheHas(e){return r(this,e).has(e)}},3449:function(e,t,n){var r=n(1856);e.exports=function mapCacheSet(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},3450:function(e,t,n){var r=n(3451);e.exports=function toString(e){return null==e?"":r(e)}},3451:function(e,t,n){var r=n(1752),o=n(2374),a=n(1638),i=n(1995),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function baseToString(e){if("string"==typeof e)return e;if(a(e))return o(e,baseToString)+"";if(i(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},3452:function(e,t,n){var r=n(1997),o=n(1701),a=n(1998),i=n(1703),s=n(1857);e.exports=function baseSet(e,t,n,c){if(!i(e))return e;for(var u=-1,l=(t=o(t,e)).length,f=l-1,d=e;null!=d&&++u<l;){var v=s(t[u]),h=n;if(u!=f){var y=d[v];void 0===(h=c?c(y,v,d):void 0)&&(h=i(y)?y:a(t[u+1])?[]:{})}r(d,v,h),d=d[v]}return e}},3453:function(e,t,n){var r=n(3454),o=n(3455);e.exports=function hasIn(e,t){return null!=e&&o(e,t,r)}},3454:function(e,t){e.exports=function baseHasIn(e,t){return null!=e&&t in Object(e)}},3455:function(e,t,n){var r=n(1701),o=n(1999),a=n(1638),i=n(1998),s=n(2e3),c=n(1857);e.exports=function hasPath(e,t,n){for(var u=-1,l=(t=r(t,e)).length,f=!1;++u<l;){var d=c(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=l?f:!!(l=null==e?0:e.length)&&s(l)&&i(d,l)&&(a(e)||o(e))}},3456:function(e,t,n){var r=n(1702),o=n(1659);e.exports=function baseIsArguments(e){return o(e)&&"[object Arguments]"==r(e)}},3457:function(e,t,n){var r=n(3458);e.exports=function flatten(e){return(null==e?0:e.length)?r(e,1):[]}},3458:function(e,t,n){var r=n(2001),o=n(3459);e.exports=function baseFlatten(e,t,n,a,i){var s=-1,c=e.length;for(n||(n=o),i||(i=[]);++s<c;){var u=e[s];t>0&&n(u)?t>1?baseFlatten(u,t-1,n,a,i):r(i,u):a||(i[i.length]=u)}return i}},3459:function(e,t,n){var r=n(1752),o=n(1999),a=n(1638),i=r?r.isConcatSpreadable:void 0;e.exports=function isFlattenable(e){return a(e)||o(e)||!!(i&&e&&e[i])}},3460:function(e,t,n){var r=n(3461),o=Math.max;e.exports=function overRest(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=o(a.length-t,0),c=Array(s);++i<s;)c[i]=a[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=a[i];return u[t]=n(c),r(e,this,u)}}},3461:function(e,t){e.exports=function apply(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},3462:function(e,t,n){var r=n(3463),o=n(3466)(r);e.exports=o},3463:function(e,t,n){var r=n(3464),o=n(2376),a=n(3465),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=i},3464:function(e,t){e.exports=function constant(e){return function(){return e}}},3465:function(e,t){e.exports=function identity(e){return e}},3466:function(e,t){var n=Date.now;e.exports=function shortOut(e){var t=0,r=0;return function(){var o=n(),a=16-(o-r);if(r=o,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},3467:function(e,t,n){var r=n(2374),o=n(3468),a=n(3509),i=n(1701),s=n(1753),c=n(3513),u=n(2377),l=n(2386),f=u((function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,(function(t){return t=i(t,e),u||(u=t.length>1),t})),s(e,l(e),n),u&&(n=o(n,7,c));for(var f=t.length;f--;)a(n,t[f]);return n}));e.exports=f},3468:function(e,t,n){var r=n(3469),o=n(3475),a=n(1997),i=n(3476),s=n(3483),c=n(3486),u=n(3487),l=n(3488),f=n(3490),d=n(3491),v=n(2386),h=n(2008),y=n(3496),p=n(3497),g=n(3503),m=n(1638),k=n(2379),b=n(3505),x=n(1703),A=n(3507),O=n(2002),N={};N["[object Arguments]"]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N["[object Object]"]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N["[object Function]"]=N["[object WeakMap]"]=!1,e.exports=function baseClone(e,t,n,S,T,w){var j,E=1&t,P=2&t,B=4&t;if(n&&(j=T?n(e,S,T,w):n(e)),void 0!==j)return j;if(!x(e))return e;var _=m(e);if(_){if(j=y(e),!E)return u(e,j)}else{var F=h(e),C="[object Function]"==F||"[object GeneratorFunction]"==F;if(k(e))return c(e,E);if("[object Object]"==F||"[object Arguments]"==F||C&&!T){if(j=P||C?{}:g(e),!E)return P?f(e,s(j,e)):l(e,i(j,e))}else{if(!N[F])return T?e:{};j=p(e,F,E)}}w||(w=new r);var R=w.get(e);if(R)return R;w.set(e,j),A(e)?e.forEach((function(r){j.add(baseClone(r,t,n,r,e,w))})):b(e)&&e.forEach((function(r,o){j.set(o,baseClone(r,t,n,o,e,w))}));var D=B?P?v:d:P?keysIn:O,L=_?void 0:D(e);return o(L||e,(function(r,o){L&&(r=e[o=r]),a(j,o,baseClone(r,t,n,o,e,w))})),j}},3469:function(e,t,n){var r=n(1854),o=n(3470),a=n(3471),i=n(3472),s=n(3473),c=n(3474);function Stack(e){var t=this.__data__=new r(e);this.size=t.size}Stack.prototype.clear=o,Stack.prototype.delete=a,Stack.prototype.get=i,Stack.prototype.has=s,Stack.prototype.set=c,e.exports=Stack},3470:function(e,t,n){var r=n(1854);e.exports=function stackClear(){this.__data__=new r,this.size=0}},3471:function(e,t){e.exports=function stackDelete(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},3472:function(e,t){e.exports=function stackGet(e){return this.__data__.get(e)}},3473:function(e,t){e.exports=function stackHas(e){return this.__data__.has(e)}},3474:function(e,t,n){var r=n(1854),o=n(1996),a=n(2370);e.exports=function stackSet(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this}},3475:function(e,t){e.exports=function arrayEach(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},3476:function(e,t,n){var r=n(1753),o=n(2002);e.exports=function baseAssign(e,t){return e&&r(t,o(t),e)}},3477:function(e,t){e.exports=function baseTimes(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3478:function(e,t){e.exports=function stubFalse(){return!1}},3479:function(e,t,n){var r=n(3480),o=n(2003),a=n(2004),i=a&&a.isTypedArray,s=i?o(i):r;e.exports=s},3480:function(e,t,n){var r=n(1702),o=n(2e3),a=n(1659),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function baseIsTypedArray(e){return a(e)&&o(e.length)&&!!i[r(e)]}},3481:function(e,t,n){var r=n(2005),o=n(3482),a=Object.prototype.hasOwnProperty;e.exports=function baseKeys(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3482:function(e,t,n){var r=n(2380)(Object.keys,Object);e.exports=r},3483:function(e,t,n){var r=n(1753),o=n(2382);e.exports=function baseAssignIn(e,t){return e&&r(t,o(t),e)}},3484:function(e,t,n){var r=n(1703),o=n(2005),a=n(3485),i=Object.prototype.hasOwnProperty;e.exports=function baseKeysIn(e){if(!r(e))return a(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},3485:function(e,t){e.exports=function nativeKeysIn(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},3486:function(e,t,n){(function(e){var r=n(1610),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function cloneBuffer(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(83)(e))},3487:function(e,t){e.exports=function copyArray(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},3488:function(e,t,n){var r=n(1753),o=n(2006);e.exports=function copySymbols(e,t){return r(e,o(e),t)}},3489:function(e,t){e.exports=function arrayFilter(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},3490:function(e,t,n){var r=n(1753),o=n(2384);e.exports=function copySymbolsIn(e,t){return r(e,o(e),t)}},3491:function(e,t,n){var r=n(2385),o=n(2006),a=n(2002);e.exports=function getAllKeys(e){return r(e,a,o)}},3492:function(e,t,n){var r=n(1660)(n(1610),"DataView");e.exports=r},3493:function(e,t,n){var r=n(1660)(n(1610),"Promise");e.exports=r},3494:function(e,t,n){var r=n(1660)(n(1610),"Set");e.exports=r},3495:function(e,t,n){var r=n(1660)(n(1610),"WeakMap");e.exports=r},3496:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function initCloneArray(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},3497:function(e,t,n){var r=n(2009),o=n(3499),a=n(3500),i=n(3501),s=n(3502);e.exports=function initCloneByTag(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return a(e);case"[object Set]":return new c;case"[object Symbol]":return i(e)}}},3498:function(e,t,n){var r=n(1610).Uint8Array;e.exports=r},3499:function(e,t,n){var r=n(2009);e.exports=function cloneDataView(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3500:function(e,t){var n=/\w*$/;e.exports=function cloneRegExp(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},3501:function(e,t,n){var r=n(1752),o=r?r.prototype:void 0,a=o?o.valueOf:void 0;e.exports=function cloneSymbol(e){return a?Object(a.call(e)):{}}},3502:function(e,t,n){var r=n(2009);e.exports=function cloneTypedArray(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},3503:function(e,t,n){var r=n(3504),o=n(2007),a=n(2005);e.exports=function initCloneObject(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},3504:function(e,t,n){var r=n(1703),o=Object.create,a=function(){function object(){}return function(e){if(!r(e))return{};if(o)return o(e);object.prototype=e;var t=new object;return object.prototype=void 0,t}}();e.exports=a},3505:function(e,t,n){var r=n(3506),o=n(2003),a=n(2004),i=a&&a.isMap,s=i?o(i):r;e.exports=s},3506:function(e,t,n){var r=n(2008),o=n(1659);e.exports=function baseIsMap(e){return o(e)&&"[object Map]"==r(e)}},3507:function(e,t,n){var r=n(3508),o=n(2003),a=n(2004),i=a&&a.isSet,s=i?o(i):r;e.exports=s},3508:function(e,t,n){var r=n(2008),o=n(1659);e.exports=function baseIsSet(e){return o(e)&&"[object Set]"==r(e)}},3509:function(e,t,n){var r=n(1701),o=n(3510),a=n(3511),i=n(1857);e.exports=function baseUnset(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[i(o(t))]}},3510:function(e,t){e.exports=function last(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},3511:function(e,t,n){var r=n(2368),o=n(3512);e.exports=function parent(e,t){return t.length<2?e:r(e,o(t,0,-1))}},3512:function(e,t){e.exports=function baseSlice(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a}},3513:function(e,t,n){var r=n(3514);e.exports=function customOmitClone(e){return r(e)?void 0:e}},3514:function(e,t,n){var r=n(1702),o=n(2007),a=n(1659),i=Function.prototype,s=Object.prototype,c=i.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function isPlainObject(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}}}]);
//# sourceMappingURL=npm.slate-c5b4abc36a10605c3672.js.map