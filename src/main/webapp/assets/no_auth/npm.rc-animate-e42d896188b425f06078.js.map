{"version":3,"sources":["webpack:///./node_modules/rc-animate/es/util/animate.js","webpack:///./node_modules/rc-animate/es/Animate.js","webpack:///./node_modules/rc-animate/es/ChildrenUtils.js","webpack:///./node_modules/rc-animate/es/AnimateChild.js"],"names":["isAppearSupported","props","transitionName","transitionAppear","animation","appear","isEnterSupported","transitionEnter","enter","isLeaveSupported","transitionLeave","leave","allowAppearCallback","allowEnterCallback","allowLeaveCallback","defaultKey","Date","now","getChildrenFromProps","children","isValidElement","key","cloneElement","noop","Animate","_React$Component","this","_this","__proto__","Object","getPrototypeOf","call","_initialiseProps","currentlyAnimatingKeys","keysToEnter","keysToLeave","state","childrenRefs","value","componentDidMount","_this2","showProp","filter","child","forEach","performAppear","componentWillReceiveProps","nextProps","_this3","nextChildren","exclusive","keys","stop","currentChildren","newChildren","currentChild","nextChild","newChild","push","setState","hasPrev","showInNext","hasNext","showInNow","componentDidUpdate","performEnter","performLeave","isValidChildByKey","component","render","_this4","stateChildren","map","Error","createElement","ref","node","Component","passedProps","className","style","componentProps","isAnimate","propTypes","string","object","any","oneOfType","bool","onEnd","func","onEnter","onLeave","onAppear","defaultProps","_this5","componentWillEnter","handleDoneAdding","bind","componentWillAppear","type","componentWillLeave","handleDoneLeaving","end","toArrayChildren","ret","Children","findChildInChildrenByKey","findShownChildInChildrenByKey","findHiddenChildInChildrenByKey","found","isSameChildren","c1","c2","same","length","index","child2","mergeChildren","prev","next","nextChildrenPending","pendingChildren","prototype","hasOwnProperty","concat","transitionMap","AnimateChild","apply","arguments","componentWillUnmount","done","transition","animationType","finishCallback","findDOMNode","nameIsObj","stopper","name","activeName","active"],"mappings":"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","file":"npm.rc-animate-e42d896188b425f06078.js","sourcesContent":["var util = {\n  isAppearSupported: function isAppearSupported(props) {\n    return props.transitionName && props.transitionAppear || props.animation.appear;\n  },\n  isEnterSupported: function isEnterSupported(props) {\n    return props.transitionName && props.transitionEnter || props.animation.enter;\n  },\n  isLeaveSupported: function isLeaveSupported(props) {\n    return props.transitionName && props.transitionLeave || props.animation.leave;\n  },\n  allowAppearCallback: function allowAppearCallback(props) {\n    return props.transitionAppear || props.animation.appear;\n  },\n  allowEnterCallback: function allowEnterCallback(props) {\n    return props.transitionEnter || props.animation.enter;\n  },\n  allowLeaveCallback: function allowLeaveCallback(props) {\n    return props.transitionLeave || props.animation.leave;\n  }\n};\nexport default util;","import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport { toArrayChildren, mergeChildren, findShownChildInChildrenByKey, findChildInChildrenByKey, isSameChildren } from './ChildrenUtils';\nimport AnimateChild from './AnimateChild';\nimport animUtil from './util/animate';\n\nvar defaultKey = 'rc_animate_' + Date.now();\n\nfunction getChildrenFromProps(props) {\n  var children = props.children;\n  if (React.isValidElement(children)) {\n    if (!children.key) {\n      return React.cloneElement(children, {\n        key: defaultKey\n      });\n    }\n  }\n  return children;\n}\n\nfunction noop() {}\n\nvar Animate = function (_React$Component) {\n  _inherits(Animate, _React$Component);\n\n  // eslint-disable-line\n\n  function Animate(props) {\n    _classCallCheck(this, Animate);\n\n    var _this = _possibleConstructorReturn(this, (Animate.__proto__ || Object.getPrototypeOf(Animate)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.currentlyAnimatingKeys = {};\n    _this.keysToEnter = [];\n    _this.keysToLeave = [];\n\n    _this.state = {\n      children: toArrayChildren(getChildrenFromProps(props))\n    };\n\n    _this.childrenRefs = {};\n    return _this;\n  }\n\n  _createClass(Animate, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var showProp = this.props.showProp;\n      var children = this.state.children;\n      if (showProp) {\n        children = children.filter(function (child) {\n          return !!child.props[showProp];\n        });\n      }\n      children.forEach(function (child) {\n        if (child) {\n          _this2.performAppear(child.key);\n        }\n      });\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      this.nextProps = nextProps;\n      var nextChildren = toArrayChildren(getChildrenFromProps(nextProps));\n      var props = this.props;\n      // exclusive needs immediate response\n      if (props.exclusive) {\n        Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\n          _this3.stop(key);\n        });\n      }\n      var showProp = props.showProp;\n      var currentlyAnimatingKeys = this.currentlyAnimatingKeys;\n      // last props children if exclusive\n      var currentChildren = props.exclusive ? toArrayChildren(getChildrenFromProps(props)) : this.state.children;\n      // in case destroy in showProp mode\n      var newChildren = [];\n      if (showProp) {\n        currentChildren.forEach(function (currentChild) {\n          var nextChild = currentChild && findChildInChildrenByKey(nextChildren, currentChild.key);\n          var newChild = void 0;\n          if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\n            newChild = React.cloneElement(nextChild || currentChild, _defineProperty({}, showProp, true));\n          } else {\n            newChild = nextChild;\n          }\n          if (newChild) {\n            newChildren.push(newChild);\n          }\n        });\n        nextChildren.forEach(function (nextChild) {\n          if (!nextChild || !findChildInChildrenByKey(currentChildren, nextChild.key)) {\n            newChildren.push(nextChild);\n          }\n        });\n      } else {\n        newChildren = mergeChildren(currentChildren, nextChildren);\n      }\n\n      // need render to avoid update\n      this.setState({\n        children: newChildren\n      });\n\n      nextChildren.forEach(function (child) {\n        var key = child && child.key;\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n        var hasPrev = child && findChildInChildrenByKey(currentChildren, key);\n        if (showProp) {\n          var showInNext = child.props[showProp];\n          if (hasPrev) {\n            var showInNow = findShownChildInChildrenByKey(currentChildren, key, showProp);\n            if (!showInNow && showInNext) {\n              _this3.keysToEnter.push(key);\n            }\n          } else if (showInNext) {\n            _this3.keysToEnter.push(key);\n          }\n        } else if (!hasPrev) {\n          _this3.keysToEnter.push(key);\n        }\n      });\n\n      currentChildren.forEach(function (child) {\n        var key = child && child.key;\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n        var hasNext = child && findChildInChildrenByKey(nextChildren, key);\n        if (showProp) {\n          var showInNow = child.props[showProp];\n          if (hasNext) {\n            var showInNext = findShownChildInChildrenByKey(nextChildren, key, showProp);\n            if (!showInNext && showInNow) {\n              _this3.keysToLeave.push(key);\n            }\n          } else if (showInNow) {\n            _this3.keysToLeave.push(key);\n          }\n        } else if (!hasNext) {\n          _this3.keysToLeave.push(key);\n        }\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var keysToEnter = this.keysToEnter;\n      this.keysToEnter = [];\n      keysToEnter.forEach(this.performEnter);\n      var keysToLeave = this.keysToLeave;\n      this.keysToLeave = [];\n      keysToLeave.forEach(this.performLeave);\n    }\n  }, {\n    key: 'isValidChildByKey',\n    value: function isValidChildByKey(currentChildren, key) {\n      var showProp = this.props.showProp;\n      if (showProp) {\n        return findShownChildInChildrenByKey(currentChildren, key, showProp);\n      }\n      return findChildInChildrenByKey(currentChildren, key);\n    }\n  }, {\n    key: 'stop',\n    value: function stop(key) {\n      delete this.currentlyAnimatingKeys[key];\n      var component = this.childrenRefs[key];\n      if (component) {\n        component.stop();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var props = this.props;\n      this.nextProps = props;\n      var stateChildren = this.state.children;\n      var children = null;\n      if (stateChildren) {\n        children = stateChildren.map(function (child) {\n          if (child === null || child === undefined) {\n            return child;\n          }\n          if (!child.key) {\n            throw new Error('must set key for <rc-animate> children');\n          }\n          return React.createElement(\n            AnimateChild,\n            {\n              key: child.key,\n              ref: function ref(node) {\n                _this4.childrenRefs[child.key] = node;\n              },\n              animation: props.animation,\n              transitionName: props.transitionName,\n              transitionEnter: props.transitionEnter,\n              transitionAppear: props.transitionAppear,\n              transitionLeave: props.transitionLeave\n            },\n            child\n          );\n        });\n      }\n      var Component = props.component;\n      if (Component) {\n        var passedProps = props;\n        if (typeof Component === 'string') {\n          passedProps = _extends({\n            className: props.className,\n            style: props.style\n          }, props.componentProps);\n        }\n        return React.createElement(\n          Component,\n          passedProps,\n          children\n        );\n      }\n      return children[0] || null;\n    }\n  }]);\n\n  return Animate;\n}(React.Component);\n\nAnimate.isAnimate = true;\nAnimate.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  component: PropTypes.any,\n  componentProps: PropTypes.object,\n  animation: PropTypes.object,\n  transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  transitionEnter: PropTypes.bool,\n  transitionAppear: PropTypes.bool,\n  exclusive: PropTypes.bool,\n  transitionLeave: PropTypes.bool,\n  onEnd: PropTypes.func,\n  onEnter: PropTypes.func,\n  onLeave: PropTypes.func,\n  onAppear: PropTypes.func,\n  showProp: PropTypes.string,\n  children: PropTypes.node\n};\nAnimate.defaultProps = {\n  animation: {},\n  component: 'span',\n  componentProps: {},\n  transitionEnter: true,\n  transitionLeave: true,\n  transitionAppear: false,\n  onEnd: noop,\n  onEnter: noop,\n  onLeave: noop,\n  onAppear: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.performEnter = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillEnter(_this5.handleDoneAdding.bind(_this5, key, 'enter'));\n    }\n  };\n\n  this.performAppear = function (key) {\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillAppear(_this5.handleDoneAdding.bind(_this5, key, 'appear'));\n    }\n  };\n\n  this.handleDoneAdding = function (key, type) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n    if (!_this5.isValidChildByKey(currentChildren, key)) {\n      // exclusive will not need this\n      _this5.performLeave(key);\n    } else if (type === 'appear') {\n      if (animUtil.allowAppearCallback(props)) {\n        props.onAppear(key);\n        props.onEnd(key, true);\n      }\n    } else if (animUtil.allowEnterCallback(props)) {\n      props.onEnter(key);\n      props.onEnd(key, true);\n    }\n  };\n\n  this.performLeave = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillLeave(_this5.handleDoneLeaving.bind(_this5, key));\n    }\n  };\n\n  this.handleDoneLeaving = function (key) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n    // in case state change is too fast\n    if (_this5.isValidChildByKey(currentChildren, key)) {\n      _this5.performEnter(key);\n    } else {\n      var end = function end() {\n        if (animUtil.allowLeaveCallback(props)) {\n          props.onLeave(key);\n          props.onEnd(key, false);\n        }\n      };\n      if (!isSameChildren(_this5.state.children, currentChildren, props.showProp)) {\n        _this5.setState({\n          children: currentChildren\n        }, end);\n      } else {\n        end();\n      }\n    }\n  };\n};\n\nexport default unsafeLifecyclesPolyfill(Animate);","import React from 'react';\n\nexport function toArrayChildren(children) {\n  var ret = [];\n  React.Children.forEach(children, function (child) {\n    ret.push(child);\n  });\n  return ret;\n}\n\nexport function findChildInChildrenByKey(children, key) {\n  var ret = null;\n  if (children) {\n    children.forEach(function (child) {\n      if (ret) {\n        return;\n      }\n      if (child && child.key === key) {\n        ret = child;\n      }\n    });\n  }\n  return ret;\n}\n\nexport function findShownChildInChildrenByKey(children, key, showProp) {\n  var ret = null;\n  if (children) {\n    children.forEach(function (child) {\n      if (child && child.key === key && child.props[showProp]) {\n        if (ret) {\n          throw new Error('two child with same key for <rc-animate> children');\n        }\n        ret = child;\n      }\n    });\n  }\n  return ret;\n}\n\nexport function findHiddenChildInChildrenByKey(children, key, showProp) {\n  var found = 0;\n  if (children) {\n    children.forEach(function (child) {\n      if (found) {\n        return;\n      }\n      found = child && child.key === key && !child.props[showProp];\n    });\n  }\n  return found;\n}\n\nexport function isSameChildren(c1, c2, showProp) {\n  var same = c1.length === c2.length;\n  if (same) {\n    c1.forEach(function (child, index) {\n      var child2 = c2[index];\n      if (child && child2) {\n        if (child && !child2 || !child && child2) {\n          same = false;\n        } else if (child.key !== child2.key) {\n          same = false;\n        } else if (showProp && child.props[showProp] !== child2.props[showProp]) {\n          same = false;\n        }\n      }\n    });\n  }\n  return same;\n}\n\nexport function mergeChildren(prev, next) {\n  var ret = [];\n\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  var nextChildrenPending = {};\n  var pendingChildren = [];\n  prev.forEach(function (child) {\n    if (child && findChildInChildrenByKey(next, child.key)) {\n      if (pendingChildren.length) {\n        nextChildrenPending[child.key] = pendingChildren;\n        pendingChildren = [];\n      }\n    } else {\n      pendingChildren.push(child);\n    }\n  });\n\n  next.forEach(function (child) {\n    if (child && Object.prototype.hasOwnProperty.call(nextChildrenPending, child.key)) {\n      ret = ret.concat(nextChildrenPending[child.key]);\n    }\n    ret.push(child);\n  });\n\n  ret = ret.concat(pendingChildren);\n\n  return ret;\n}","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport cssAnimate, { isCssAnimationSupported } from 'css-animation';\nimport animUtil from './util/animate';\n\nvar transitionMap = {\n  enter: 'transitionEnter',\n  appear: 'transitionAppear',\n  leave: 'transitionLeave'\n};\n\nvar AnimateChild = function (_React$Component) {\n  _inherits(AnimateChild, _React$Component);\n\n  function AnimateChild() {\n    _classCallCheck(this, AnimateChild);\n\n    return _possibleConstructorReturn(this, (AnimateChild.__proto__ || Object.getPrototypeOf(AnimateChild)).apply(this, arguments));\n  }\n\n  _createClass(AnimateChild, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stop();\n    }\n  }, {\n    key: 'componentWillEnter',\n    value: function componentWillEnter(done) {\n      if (animUtil.isEnterSupported(this.props)) {\n        this.transition('enter', done);\n      } else {\n        done();\n      }\n    }\n  }, {\n    key: 'componentWillAppear',\n    value: function componentWillAppear(done) {\n      if (animUtil.isAppearSupported(this.props)) {\n        this.transition('appear', done);\n      } else {\n        done();\n      }\n    }\n  }, {\n    key: 'componentWillLeave',\n    value: function componentWillLeave(done) {\n      if (animUtil.isLeaveSupported(this.props)) {\n        this.transition('leave', done);\n      } else {\n        // always sync, do not interupt with react component life cycle\n        // update hidden -> animate hidden ->\n        // didUpdate -> animate leave -> unmount (if animate is none)\n        done();\n      }\n    }\n  }, {\n    key: 'transition',\n    value: function transition(animationType, finishCallback) {\n      var _this2 = this;\n\n      var node = ReactDOM.findDOMNode(this);\n      var props = this.props;\n      var transitionName = props.transitionName;\n      var nameIsObj = typeof transitionName === 'object';\n      this.stop();\n      var end = function end() {\n        _this2.stopper = null;\n        finishCallback();\n      };\n      if ((isCssAnimationSupported || !props.animation[animationType]) && transitionName && props[transitionMap[animationType]]) {\n        var name = nameIsObj ? transitionName[animationType] : transitionName + '-' + animationType;\n        var activeName = name + '-active';\n        if (nameIsObj && transitionName[animationType + 'Active']) {\n          activeName = transitionName[animationType + 'Active'];\n        }\n        this.stopper = cssAnimate(node, {\n          name: name,\n          active: activeName\n        }, end);\n      } else {\n        this.stopper = props.animation[animationType](node, end);\n      }\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      var stopper = this.stopper;\n      if (stopper) {\n        this.stopper = null;\n        stopper.stop();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return AnimateChild;\n}(React.Component);\n\nAnimateChild.propTypes = {\n  children: PropTypes.any,\n  animation: PropTypes.any,\n  transitionName: PropTypes.any\n};\nexport default AnimateChild;"],"sourceRoot":""}