{"version":3,"sources":["webpack:///./src/main/web/components/search/web-components/SemanticSearchUseResultInExtendedSearchAction.tsx"],"names":["render","SemanticSearchContext","Consumer","context","SemanticSearchUseResultInExtendedSearchActionInner","props","React","Component","SemanticSearchUseResultInExtendedSearchAction","onClick","resultQuery","map","query","baseQueryStructure","queryStructure","useInExtendedFcFrSearch","value","label","SearchSummary","summaryToString","range","domain","get","child","Children","only","this","children","cloneElement"],"mappings":"6IAsBA,OAEA,UAIA,UAEA,uE,+CAQA,OARmE,6DACjE,wDAAAA,OAAA,sBACE,OACE,gBAAC,EAAAC,sBAAsBC,SAAQ,MAC5B,SAACC,GAAY,uBAACC,EAAkD,cAAK,EAAKC,MAAK,CAAEF,QAASA,SAInG,8CARA,CAAmEG,EAAMC,WAA5D,EAAAC,gDAcb,8H,OAUU,EAAAC,QAAU,WAChB,SAAKJ,MAAMF,QAAQO,YAAYC,KAAI,SAACC,GAClC,SAAKP,MAAMF,QAAQU,mBAAmBF,KAAI,SAACG,GACzC,SAAKT,MAAMF,QAAQY,wBAAwB,CACzCC,MAAO,CACLJ,MAAOA,EACPK,MAAO,EAAAC,cAAcC,gBAAgBL,IAEvCM,MAAO,EAAKf,MAAMF,QAAQkB,OAAOC,e,EAI3C,OAtBiE,kEAC/D,6DAAAtB,OAAA,WACE,IAAMuB,EAAQjB,EAAMkB,SAASC,KAAKC,KAAKrB,MAAMsB,UACvCtB,EAAQ,CACZI,QAASiB,KAAKjB,SAGhB,OAAOH,EAAMsB,aAAaL,EAAOlB,IAerC,mDAtBA,CAAiEC,EAAMC,WAuBvE,UAAeC","file":"semantic-search-action-use-result-in-extended-search-dc3e9ae6b64917732da5.js","sourcesContent":["/**\n * ResearchSpace\n * Copyright (C) 2015-2020, Â© Trustees of the British Museum\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * @author Artem Kozlov <ak@metaphacts.com>\n */\n\nimport * as React from 'react';\n\nimport {\n  SemanticSearchContext,\n  ResultContext,\n} from 'platform/components/semantic/search/web-components/SemanticSearchApi';\nimport { SearchSummary } from '../query-builder/SearchSummary';\n\nexport class SemanticSearchUseResultInExtendedSearchAction extends React.Component {\n  render() {\n    return (\n      <SemanticSearchContext.Consumer>\n        {(context) => <SemanticSearchUseResultInExtendedSearchActionInner {...this.props} context={context} />}\n      </SemanticSearchContext.Consumer>\n    );\n  }\n}\n\ninterface InnerProps {\n  context: ResultContext;\n}\n\nclass SemanticSearchUseResultInExtendedSearchActionInner extends React.Component<InnerProps> {\n  render() {\n    const child = React.Children.only(this.props.children) as React.ReactElement<any>;\n    const props = {\n      onClick: this.onClick,\n    };\n\n    return React.cloneElement(child, props);\n  }\n\n  private onClick = () =>\n    this.props.context.resultQuery.map((query) =>\n      this.props.context.baseQueryStructure.map((queryStructure) =>\n        this.props.context.useInExtendedFcFrSearch({\n          value: {\n            query: query,\n            label: SearchSummary.summaryToString(queryStructure),\n          },\n          range: this.props.context.domain.get(),\n        })\n      )\n    );\n}\nexport default SemanticSearchUseResultInExtendedSearchAction;\n"],"sourceRoot":""}