{"version":3,"sources":["webpack:///./node_modules/requestanimationframe-timer/dist/cjs.js","webpack:///./node_modules/requestanimationframe-timer/dist/index.js"],"names":["module","exports","default","Object","defineProperty","value","_raf2","_interopRequireDefault","obj","__esModule","fnStacks","Map","runArray","Set","rafStarted","startId","getTimeStamp","Date","getTime","executeFn","fn","args","apply","undefined","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","loop","currentTimeTick","forEach","checkTick","id","nextTick","ms","mode","add","delete","set","assign","runFunction","size","clear","addId","_ref","_ref$ms","currentId","removeId","has","setTimeout","_len","arguments","_key","clearTimeout","setInterval","_len2","_key2","clearInterval"],"mappings":"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","file":"npm.requestanimationframe-timer-b6cbdf050df1f156b54e.js","sourcesContent":["'use strict';\n\nmodule.exports = require('./index').default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _raf = require('raf');\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar MODE_TIMEOUT = 0;\nvar MODE_INTERVAL = 1;\nvar fnStacks = new Map();\nvar runArray = new Set();\nvar rafStarted = false;\nvar startId = 0;\n\nfunction getTimeStamp() {\n  return new Date().getTime();\n}\n\nfunction executeFn(value) {\n  var fn = value.fn,\n      args = value.args;\n\n  fn.apply(undefined, _toConsumableArray(args));\n}\n\nfunction runFunction() {\n  if (runArray.size === 0) return;\n  runArray.forEach(executeFn);\n  runArray.clear();\n}\n\nvar checkTick = function checkTick(currentTimeTick) {\n  return function (value, id) {\n    var nextTick = value.nextTick,\n        ms = value.ms,\n        mode = value.mode;\n\n    if (currentTimeTick - nextTick >= 0) {\n      runArray.add(value);\n      if (mode === MODE_TIMEOUT) {\n        fnStacks.delete(id);\n      } else {\n        fnStacks.set(id, Object.assign({}, value, {\n          nextTick: nextTick + ms\n        }));\n      }\n    }\n  };\n};\n\nfunction loop() {\n  var currentTimeTick = getTimeStamp();\n  fnStacks.forEach(checkTick(currentTimeTick));\n  runFunction();\n  if (fnStacks.size === 0) {\n    rafStarted = false;\n    return;\n  }\n  (0, _raf2.default)(loop);\n}\n\nfunction addId(_ref) {\n  var fn = _ref.fn,\n      _ref$ms = _ref.ms,\n      ms = _ref$ms === undefined ? 0 : _ref$ms,\n      args = _ref.args,\n      mode = _ref.mode;\n\n  if (!fn) return null;\n  var currentId = startId;\n  fnStacks.set(currentId, {\n    fn: fn,\n    ms: ms,\n    nextTick: getTimeStamp() + ms,\n    args: args,\n    mode: mode\n  });\n  if (!rafStarted) {\n    rafStarted = true;\n    (0, _raf2.default)(loop);\n  }\n  startId += 1;\n  return currentId;\n}\n\nfunction removeId(id) {\n  if (fnStacks.has(id)) {\n    fnStacks.delete(id);\n  }\n  if (fnStacks.size === 0) {\n    rafStarted = false;\n  }\n}\n\nexports.default = {\n  setTimeout: function setTimeout(fn) {\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    var ms = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return addId({ fn: fn, ms: ms, args: args, mode: MODE_TIMEOUT });\n  },\n  clearTimeout: removeId,\n  setInterval: function setInterval(fn) {\n    for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n\n    var ms = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return addId({ fn: fn, ms: ms, args: args, mode: MODE_INTERVAL });\n  },\n  clearInterval: removeId\n};"],"sourceRoot":""}