{"version":3,"sources":["webpack:///./src/main/web/components/collapsible/CollapsibleComponent.tsx"],"names":["props","context","onCollapse","setState","containerOpen","onToggleCollapsed","state","render","toggleClasses","classNames","styles","toggle","open","this","closed","contentClasses","show","hidden","child","React","Children","only","children","onClick","className","TemplateItem","template","source","toggleCollapsibleTemplate","cloneElement","cancelCallback","defaultProps","Component","CollapsibleComponent"],"mappings":"6IAkBA,OACA,OAEA,SAEA,UAWA,cAUE,8BAAYA,EAAOC,GAAnB,MACE,YAAMD,EAAOC,IAAQ,K,OA4Bf,EAAAC,WAAa,WAAM,SAAKC,SAAS,CAAEC,eAAe,KAElD,EAAAC,kBAAoB,WAAM,SAAKF,SAAS,CAAEC,eAAgB,EAAKE,MAAMF,iBA7B3E,EAAKE,MAAQ,CACXF,eAAe,G,EA6BrB,OA1C0C,oCAiBxC,+BAAAG,OAAA,WACE,IAAIC,EAAgBC,EAAWC,EAAOC,OAAQ,CAC5CC,KAAMC,KAAKP,MAAMF,cACjBU,QAASD,KAAKP,MAAMF,gBAElBW,EAAiBN,EAAW,0BAA2B,CACzDO,KAAMH,KAAKP,MAAMF,cACjBa,QAASJ,KAAKP,MAAMF,gBAGhBc,EAAQC,EAAMC,SAASC,KAAKR,KAAKb,MAAMsB,UAE7C,OACE,2BACE,uBAAKC,QAASV,KAAKR,kBAAmBmB,UAAWhB,GAC/C,gBAAC,EAAAiB,aAAY,CAACC,SAAU,CAAEC,OAAQd,KAAKb,MAAM4B,8BAE/C,uBAAKJ,UAAWT,GAAiBI,EAAMU,aAAaX,EAAO,CAAEY,eAAgBjB,KAAKX,gBAjCjF,qBAAA6B,aAAe,CACpBH,0BAA2B,sIAwC/B,qBA1CA,CAA0CT,EAAMa,WAAnC,EAAAC,uBA4Cb,UAAeA","file":"rs-collapsible-dda0a103989e39f8ea6d.js","sourcesContent":["/**\n * ResearchSpace\n * Copyright (C) 2015-2020, Â© Trustees of the British Museum\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport * as React from 'react';\nimport * as classNames from 'classnames';\n\nimport { TemplateItem } from 'platform/components/ui/template';\n\nimport * as styles from './CollapsibleComponent.scss';\n\ninterface Props {\n  toggleCollapsibleTemplate: string;\n  cancelCallback: () => void;\n}\n\ninterface State {\n  containerOpen: boolean;\n}\n\nexport class CollapsibleComponent extends React.Component<Props, State> {\n  static defaultProps = {\n    toggleCollapsibleTemplate: `<div>\n        <i className=\"fa fa-pencil\"></i>\n        <strong>\n          <a>Create new...</a>\n        </strong>\n      </div>`,\n  };\n\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      containerOpen: false,\n    };\n  }\n\n  render() {\n    let toggleClasses = classNames(styles.toggle, {\n      open: this.state.containerOpen,\n      closed: !this.state.containerOpen,\n    });\n    let contentClasses = classNames('rs-collapsible__content', {\n      show: this.state.containerOpen,\n      hidden: !this.state.containerOpen,\n    });\n\n    const child = React.Children.only(this.props.children) as React.ReactElement<any>;\n\n    return (\n      <div>\n        <div onClick={this.onToggleCollapsed} className={toggleClasses}>\n          <TemplateItem template={{ source: this.props.toggleCollapsibleTemplate }} />\n        </div>\n        <div className={contentClasses}>{React.cloneElement(child, { cancelCallback: this.onCollapse })}</div>\n      </div>\n    );\n  }\n\n  private onCollapse = () => this.setState({ containerOpen: false });\n\n  private onToggleCollapsed = () => this.setState({ containerOpen: !this.state.containerOpen });\n}\n\nexport default CollapsibleComponent;\n"],"sourceRoot":""}