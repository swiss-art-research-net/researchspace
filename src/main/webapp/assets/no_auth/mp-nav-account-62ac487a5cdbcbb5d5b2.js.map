{"version":3,"sources":["webpack:///./src/main/web/app/navbar/NavAccountComponent.ts"],"names":["NavDropdown","React","createFactory","ReactBootstrap","NavItem","MenuItem","props","context","state","user","isAuthenticated","componentWillMount","SecurityService","Util","getUser","userObject","setState","render","this","isAnonymous","id","title","disabled","principal","divider","href","Component","NavAccountComponentClass","NavAccount"],"mappings":"6IAmBA,OAEA,WACA,QAEA,SAGMA,EAAcC,EAAMC,cAAcC,EAAeH,aACjDI,EAAUH,EAAMC,cAAcC,EAAeC,SAC7CC,EAAWJ,EAAMC,cAAcC,EAAeE,UAEpD,cACE,kCAAYC,EAAWC,GAAvB,MACE,YAAMD,EAAOC,IAAQ,K,OACrB,EAAKC,MAAQ,CACXC,KAAM,CAAEC,iBAAiB,I,EAyB/B,OA7B8C,wCAQ5C,mCAAAC,mBAAA,sBACEC,EAAgBC,KAAKC,SAAQ,SAACC,GAC5B,SAAKC,SAAS,CACZP,KAAMM,QAKZ,mCAAAE,OAAA,WACE,OAAOC,KAAKV,MAAMC,KAAKC,kBAAoBQ,KAAKV,MAAMC,KAAKU,YACvDnB,EACE,CAAEoB,GAAI,uBAAwBC,MAAO,WAGrChB,EAAS,CAAEgB,MAAO,gBAAiBC,UAAU,GAAQJ,KAAKV,MAAMC,KAAKc,WAErElB,EAAS,CAAEmB,SAAS,GAAQ,IAC5BnB,EAAS,CAAEgB,MAAO,SAAUI,KAAM,WAAa,WAEjDrB,EAAQ,CAAEiB,MAAO,QAASI,KAAM,UAAY,UAEpD,yBA7BA,CAA8CxB,EAAMyB,WAAvC,EAAAC,2BA+BA,EAAAC,WAAa3B,EAAMC,cAAcyB,GAC9C,UAAeA","file":"mp-nav-account-62ac487a5cdbcbb5d5b2.js","sourcesContent":["/**\n * ResearchSpace\n * Copyright (C) 2020, Â© Trustees of the British Museum\n * Copyright (C) 2015-2019, metaphacts GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport '../../styling/main.scss';\n\nimport * as React from 'react';\nimport * as ReactBootstrap from 'react-bootstrap';\n\nimport * as SecurityService from 'platform/api/services/security';\nimport { ResourceLinkContainer } from 'platform/api/navigation/components';\n\nconst NavDropdown = React.createFactory(ReactBootstrap.NavDropdown);\nconst NavItem = React.createFactory(ReactBootstrap.NavItem);\nconst MenuItem = React.createFactory(ReactBootstrap.MenuItem);\n\nexport class NavAccountComponentClass extends React.Component<{}, any> {\n  constructor(props: {}, context: any) {\n    super(props, context);\n    this.state = {\n      user: { isAuthenticated: false },\n    };\n  }\n\n  componentWillMount() {\n    SecurityService.Util.getUser((userObject) =>\n      this.setState({\n        user: userObject,\n      })\n    );\n  }\n\n  render() {\n    return this.state.user.isAuthenticated && !this.state.user.isAnonymous\n      ? NavDropdown(\n          { id: 'main-header-dropdown', title: 'Account' },\n          // React.createElement(ResourceLinkContainer,\n          //  {uri: this.state.user.userURI},\n          MenuItem({ title: 'userPrincipal', disabled: true }, this.state.user.principal),\n          // ),\n          MenuItem({ divider: true }, ''),\n          MenuItem({ title: 'logout', href: '/logout' }, 'Logout')\n        )\n      : NavItem({ title: 'login', href: '/login' }, 'Login');\n  }\n}\n\nexport const NavAccount = React.createFactory(NavAccountComponentClass);\nexport default NavAccountComponentClass;\n"],"sourceRoot":""}