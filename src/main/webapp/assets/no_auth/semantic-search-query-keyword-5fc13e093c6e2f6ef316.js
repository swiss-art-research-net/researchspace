(window.webpackJsonp=window.webpackJsonp||[]).push([[502],{1349:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var t=n(11),o=n(1),a=n(33),i=n(19),u=n(16),c=n(72),s=n(61),p=n(56),l=n(214),y=n(1823),h=n(1569),d=function(e){function KeywordSearch(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(KeywordSearch,e),KeywordSearch.prototype.render=function(){var e=this;return o.createElement(h.SemanticSearchContext.Consumer,null,(function(r){return o.createElement(m,t.__assign({},e.props,{context:r}))}))},KeywordSearch}(p.Component),m=function(e){function KeywordSearchInner(r){var n=e.call(this,r)||this;return n.keys=l.Action(),n.initialize=function(e){var r=s.SparqlUtil.parseQuerySync(e.query),t=e.defaultQuery?a.Just(s.SparqlUtil.parseQuerySync(e.defaultQuery)):a.Nothing(),o=n.keys.$property.filter((function(e){return e.length>=n.props.minSearchTermLength})).debounce(n.props.debounce).map(n.buildQuery(r)),c=n.keys.$property.filter((function(r){return e.defaultQuery&&u.isEmpty(r)})).map((function(){return t.get()})),p=[o];e.defaultQuery&&p.push(i.constant(t.get()),c),i.merge(p).onValue((function(e){return n.props.context.setBaseQuery(a.Just(e))}))},n.onKeyPress=function(e){return n.keys(e.target.value)},n.buildQuery=function(e){return function(r){var t,o=n.props,a=o.searchTermVariable,i=o.escapeLuceneSyntax,u=o.tokenizeLuceneQuery,c=s.SparqlUtil.makeLuceneQuery(r,i,u);return s.SparqlClient.setBindings(e,((t={})[a]=c,t))}},n.state={value:void 0},n}return t.__extends(KeywordSearchInner,e),KeywordSearchInner.prototype.componentDidMount=function(){y.setSearchDomain(this.props.domain,this.props.context),this.initialize(this.props)},KeywordSearchInner.prototype.componentWillReceiveProps=function(e){var r=e.context;r.searchProfileStore.isJust&&r.domain.isNothing&&y.setSearchDomain(e.domain,r)},KeywordSearchInner.prototype.render=function(){var e=this.props,r=e.placeholder,n=e.style,t=e.className;return o.createElement(c.FormGroup,{controlId:"semantic-search-text-input"},o.createElement(c.FormControl,{className:t,style:n,value:this.state.value,placeholder:r,onChange:this.onKeyPress}))},KeywordSearchInner.defaultProps={placeholder:"type to search, minimum 3 symbols ...",searchTermVariable:"__token__",minSearchTermLength:3,debounce:300,escapeLuceneSyntax:!0},KeywordSearchInner}(o.Component);r.default=d}}]);
//# sourceMappingURL=semantic-search-query-keyword-5fc13e093c6e2f6ef316.js.map