(window.webpackJsonp=window.webpackJsonp||[]).push([[320],{1301:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),i=n(1),s=n(72),r=n(43),a=n(33),u=n(23),p=n(63),l=n(1267),c=n(2342),f=n(1988),d=n(1848),A=function(e){function QuickAssertionComponent(t,n){var o=e.call(this,t,n)||this;return o.onBeliefsChange=function(e){return o.setState({beliefs:e})},o.saveAssertion=function(e){return function(){var t=o.state.beliefs.valueSeq().toArray(),n=u.Rdf.iri(o.props.target);f.saveAssertion({iri:a.Nothing(),field:e,target:n,title:"Quick Assertion",note:"",beliefs:t}).flatMap((function(e){return l.invalidateAllCaches().map((function(){return e}))})).onValue((function(e){return o.performPostAction(e.assertion)}))}},o.performPostAction=function(e){"none"!==o.props.postAction&&(o.props.postAction&&"reload"!==o.props.postAction?"redirect"===o.props.postAction?p.navigateToResource(e,{},"assets").onValue((function(e){return e})):p.navigateToResource(u.Rdf.iri(o.props.postAction),{},"assets").onValue((function(e){return e})):p.refresh())},o.state={beliefs:t.initialBeliefs,field:a.Nothing()},o}return o.__extends(QuickAssertionComponent,e),QuickAssertionComponent.prototype.componentDidMount=function(){var e=this;d.getArgumentsFieldDefinition(u.Rdf.iri(this.props.fieldIri)).onValue((function(t){return e.setState({field:a.Just(t)})}))},QuickAssertionComponent.prototype.render=function(){var e=this;return this.state.field.map((function(t){return i.createElement("div",null,i.createElement(c.AssertionsComponent,o.__assign({},e.props,{field:t,target:u.Rdf.iri(e.props.target),title:"Assert new value",beliefs:e.state.beliefs,onBeliefsChange:e.onBeliefsChange,quickAssertion:e.props.editMode})),i.createElement(s.Button,{bsStyle:"success",className:"pull-right",onClick:e.saveAssertion(t)},"Save"))})).getOrElse(null)},QuickAssertionComponent.defaultProps={editMode:!0,initialBeliefs:r.Map()},QuickAssertionComponent}(i.Component);t.QuickAssertionComponent=A,t.default=A}}]);
//# sourceMappingURL=rs-quick-assertion-b5b8333376b6e1e8e3da.js.map