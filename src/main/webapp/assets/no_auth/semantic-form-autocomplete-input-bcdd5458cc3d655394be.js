(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1228:function(e,t,l){Object.defineProperty(t,"__esModule",{value:!0});var a=l(11),n=l(1),o=l(72),r=l(23),s=l(1601),p=l(1208),u=l(1553),i=l(1946),d=l(1619),c=l(1948),m=l(1688),h="autocomplete-text-field",f=function(e){function AutocompleteInput(t,l){var a=e.call(this,t,l)||this;return a.tupleTemplate=null,a.onNestedFormSubmit=function(e){a.setState({nestedFormOpen:!1}),a.setAndValidate(e)},a.toggleNestedForm=function(){a.setState((function(e){return{nestedFormOpen:!e.nestedFormOpen}}))},a.onChange=function(e){var t;t=e?u.FieldValue.fromLabeled({value:e.value,label:e.label.value}):u.FieldValue.empty,a.setState({nestedFormOpen:!1}),a.setAndValidate(t)},a.state={nestedFormOpen:!1},a.tupleTemplate=a.tupleTemplate||a.compileTemplate(),a}return a.__extends(AutocompleteInput,e),AutocompleteInput.prototype.compileTemplate=function(){return this.props.template?this.props.template.replace(/\\/g,""):'<span title="{{label.value}}">{{label.value}}</span>'},AutocompleteInput.prototype.render=function(){var e=this,t=i.tryExtractNestedForm(this.props.children),l=Boolean(t);return n.createElement("div",{className:h},this.renderSelect(l),n.createElement(m.ValidationMessages,{errors:u.FieldValue.getErrors(this.props.value)}),this.state.nestedFormOpen?n.createElement(i.NestedModalForm,{subject:u.FieldValue.isEmpty(this.props.value)?null:this.props.value.value,definition:this.props.definition,onSubmit:this.onNestedFormSubmit,onCancel:function(){return e.setState({nestedFormOpen:!1})}},t):null)},AutocompleteInput.prototype.renderSelect=function(e){var t=this.props.definition,l=u.FieldValue.asRdfNode(this.props.value),a=void 0===this.props.placeholder?this.createDefaultPlaceholder(t):this.props.placeholder,p=u.FieldValue.isAtomic(this.props.value)?{value:l,label:r.Rdf.literal(this.props.value.label||l.value)}:void 0;return n.createElement("div",{className:h+"__main-row"},n.createElement(s.AutoCompletionInput,{key:t.id,className:h+"__select",autofocus:!1,query:this.props.definition.autosuggestionPattern,placeholder:a,droppable:{query:c.createDropAskQueryForField(t),styles:{enabled:{outline:"2px dashed #1D0A6E"},enabledHover:{outline:"4px dashed #1D0A6E"},disabled:{}}},value:p,templates:{suggestion:this.tupleTemplate},actions:{onSelected:this.onChange},minimumInput:3}),e?n.createElement(o.Button,{className:h+"__create-button",bsStyle:"default",onClick:this.toggleNestedForm},void 0===p?n.createElement("span",{className:"fa fa-plus"}):null,void 0===p?n.createElement("span",null," Create new"):n.createElement("span",null,"Edit")):null)},AutocompleteInput.prototype.createDefaultPlaceholder=function(e){return"Search and select "+(p.getPreferredLabel(e.label)||"entity").toLocaleLowerCase()+" here..."},AutocompleteInput.makeHandler=d.AtomicValueInput.makeAtomicHandler,AutocompleteInput}(d.AtomicValueInput);t.AutocompleteInput=f,d.SingleValueInput.assertStatic(f),t.default=f}}]);
//# sourceMappingURL=semantic-form-autocomplete-input-bcdd5458cc3d655394be.js.map