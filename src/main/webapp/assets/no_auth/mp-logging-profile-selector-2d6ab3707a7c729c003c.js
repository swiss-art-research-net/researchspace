(window.webpackJsonp=window.webpackJsonp||[]).push([[365],{1405:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),l=o(1),n=o(36),i=o(34),a=o(116),g=o(72),c=o(1406),s=function(e){function LoggingProfileSelector(t){var o=e.call(this,t)||this;return o.cancellation=new i.Cancellation,o.onSubmit=function(){o.setState({profileError:null});var e=o.state.loggingProfile;o.cancellation.map(o.executePost()).observe({value:function(t){a.addNotification({message:"Logging profile has been changed.",level:"success"}),o.setState({profileError:null,submittedProfile:e})},error:function(e){a.addNotification({message:"Changing profile has failed.",level:"error"}),o.setState({profileError:e})}})},o.onChangeProfile=function(e){var t=e.currentTarget.value;o.setState({loggingProfile:t})},o.state={profileError:void 0,submittedProfile:void 0,loggingProfile:"log4j2",submitting:!1},o}return r.__extends(LoggingProfileSelector,e),LoggingProfileSelector.prototype.componentWillUnmount=function(){this.cancellation.cancelAll()},LoggingProfileSelector.prototype.executePost=function(){var e=n.post("/rest/admin/logs/profile").type("form").send({logprofile:this.state.loggingProfile});return i.requestAsProperty(e).map((function(){}))},LoggingProfileSelector.prototype.render=function(){var e=this.state,t=e.profileError,o=e.loggingProfile,r=e.submittedProfile,n=e.submitting,i=o===r;return l.createElement("div",null,t?l.createElement(g.Alert,{bsStyle:"warning"},l.createElement(a.ErrorPresenter,{error:t})):null,l.createElement("div",{className:"d-flex"},l.createElement("select",{className:c.adminProfileSelector,value:o,onChange:this.onChangeProfile},l.createElement("option",{value:"log4j2"},"Default"),l.createElement("option",{value:"log4j2-debug"},"Debug"),l.createElement("option",{value:"log4j2-trace"},"Trace")),l.createElement("button",{disabled:i&&!n,title:i?"Profile is already submitted":"Submit  profile",onClick:this.onSubmit,className:"btn btn-primary"},"Submit")))},LoggingProfileSelector}(l.Component);t.LoggingProfileSelector=s,t.default=s}}]);
//# sourceMappingURL=mp-logging-profile-selector-2d6ab3707a7c729c003c.js.map