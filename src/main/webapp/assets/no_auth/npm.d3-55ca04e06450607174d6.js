(window.webpackJsonp=window.webpackJsonp||[]).push([[395],{2686:function(n,e,r){var o,i;!function(){var a={version:"3.5.17"},u=[].slice,d3_array=function(n){return u.call(n)},l=this.document;function d3_documentElement(n){return n&&(n.ownerDocument||n.document||n).documentElement}function d3_window(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}if(l)try{d3_array(l.documentElement.childNodes)[0].nodeType}catch(n){d3_array=function(n){for(var e=n.length,r=new Array(e);e--;)r[e]=n[e];return r}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(n){var c=this.Element.prototype,s=c.setAttribute,d=c.setAttributeNS,f=this.CSSStyleDeclaration.prototype,_=f.setProperty;c.setAttribute=function(n,e){s.call(this,n,e+"")},c.setAttributeNS=function(n,e,r){d.call(this,n,e,r+"")},f.setProperty=function(n,e,r){_.call(this,n,e+"",r)}}function d3_ascending(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function d3_number(n){return null===n?NaN:+n}function d3_numeric(n){return!isNaN(n)}function d3_bisector(n){return{left:function(e,r,o,i){for(arguments.length<3&&(o=0),arguments.length<4&&(i=e.length);o<i;){var a=o+i>>>1;n(e[a],r)<0?o=a+1:i=a}return o},right:function(e,r,o,i){for(arguments.length<3&&(o=0),arguments.length<4&&(i=e.length);o<i;){var a=o+i>>>1;n(e[a],r)>0?i=a:o=a+1}return o}}}a.ascending=d3_ascending,a.descending=function(n,e){return e<n?-1:e>n?1:e>=n?0:NaN},a.min=function(n,e){var r,o,i=-1,a=n.length;if(1===arguments.length){for(;++i<a;)if(null!=(o=n[i])&&o>=o){r=o;break}for(;++i<a;)null!=(o=n[i])&&r>o&&(r=o)}else{for(;++i<a;)if(null!=(o=e.call(n,n[i],i))&&o>=o){r=o;break}for(;++i<a;)null!=(o=e.call(n,n[i],i))&&r>o&&(r=o)}return r},a.max=function(n,e){var r,o,i=-1,a=n.length;if(1===arguments.length){for(;++i<a;)if(null!=(o=n[i])&&o>=o){r=o;break}for(;++i<a;)null!=(o=n[i])&&o>r&&(r=o)}else{for(;++i<a;)if(null!=(o=e.call(n,n[i],i))&&o>=o){r=o;break}for(;++i<a;)null!=(o=e.call(n,n[i],i))&&o>r&&(r=o)}return r},a.extent=function(n,e){var r,o,i,a=-1,u=n.length;if(1===arguments.length){for(;++a<u;)if(null!=(o=n[a])&&o>=o){r=i=o;break}for(;++a<u;)null!=(o=n[a])&&(r>o&&(r=o),i<o&&(i=o))}else{for(;++a<u;)if(null!=(o=e.call(n,n[a],a))&&o>=o){r=i=o;break}for(;++a<u;)null!=(o=e.call(n,n[a],a))&&(r>o&&(r=o),i<o&&(i=o))}return[r,i]},a.sum=function(n,e){var r,o=0,i=n.length,a=-1;if(1===arguments.length)for(;++a<i;)d3_numeric(r=+n[a])&&(o+=r);else for(;++a<i;)d3_numeric(r=+e.call(n,n[a],a))&&(o+=r);return o},a.mean=function(n,e){var r,o=0,i=n.length,a=-1,u=i;if(1===arguments.length)for(;++a<i;)d3_numeric(r=d3_number(n[a]))?o+=r:--u;else for(;++a<i;)d3_numeric(r=d3_number(e.call(n,n[a],a)))?o+=r:--u;if(u)return o/u},a.quantile=function(n,e){var r=(n.length-1)*e+1,o=Math.floor(r),i=+n[o-1],a=r-o;return a?i+a*(n[o]-i):i},a.median=function(n,e){var r,o=[],i=n.length,u=-1;if(1===arguments.length)for(;++u<i;)d3_numeric(r=d3_number(n[u]))&&o.push(r);else for(;++u<i;)d3_numeric(r=d3_number(e.call(n,n[u],u)))&&o.push(r);if(o.length)return a.quantile(o.sort(d3_ascending),.5)},a.variance=function(n,e){var r,o,i=n.length,a=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<i;)d3_numeric(r=d3_number(n[l]))&&(u+=(o=r-a)*(r-(a+=o/++c)));else for(;++l<i;)d3_numeric(r=d3_number(e.call(n,n[l],l)))&&(u+=(o=r-a)*(r-(a+=o/++c)));if(c>1)return u/(c-1)},a.deviation=function(){var n=a.variance.apply(this,arguments);return n?Math.sqrt(n):n};var h=d3_bisector(d3_ascending);function d3_transposeLength(n){return n.length}a.bisectLeft=h.left,a.bisect=a.bisectRight=h.right,a.bisector=function(n){return d3_bisector(1===n.length?function(e,r){return d3_ascending(n(e),r)}:n)},a.shuffle=function(n,e,r){(a=arguments.length)<3&&(r=n.length,a<2&&(e=0));for(var o,i,a=r-e;a;)i=Math.random()*a--|0,o=n[a+e],n[a+e]=n[i+e],n[i+e]=o;return n},a.permute=function(n,e){for(var r=e.length,o=new Array(r);r--;)o[r]=n[e[r]];return o},a.pairs=function(n){for(var e=0,r=n.length-1,o=n[0],i=new Array(r<0?0:r);e<r;)i[e]=[o,o=n[++e]];return i},a.transpose=function(n){if(!(i=n.length))return[];for(var e=-1,r=a.min(n,d3_transposeLength),o=new Array(r);++e<r;)for(var i,u=-1,l=o[e]=new Array(i);++u<i;)l[u]=n[u][e];return o},a.zip=function(){return a.transpose(arguments)},a.keys=function(n){var e=[];for(var r in n)e.push(r);return e},a.values=function(n){var e=[];for(var r in n)e.push(n[r]);return e},a.entries=function(n){var e=[];for(var r in n)e.push({key:r,value:n[r]});return e},a.merge=function(n){for(var e,r,o,i=n.length,a=-1,u=0;++a<i;)u+=n[a].length;for(r=new Array(u);--i>=0;)for(e=(o=n[i]).length;--e>=0;)r[--u]=o[e];return r};var g=Math.abs;function d3_range_integerScale(n){for(var e=1;n*e%1;)e*=10;return e}function d3_class(n,e){for(var r in e)Object.defineProperty(n.prototype,r,{value:e[r],enumerable:!1})}function d3_Map(){this._=Object.create(null)}a.range=function(n,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=n,n=0)),(e-n)/r==1/0)throw new Error("infinite range");var o,i=[],a=d3_range_integerScale(g(r)),u=-1;if(n*=a,e*=a,(r*=a)<0)for(;(o=n+r*++u)>e;)i.push(o/a);else for(;(o=n+r*++u)<e;)i.push(o/a);return i},a.map=function(n,e){var r=new d3_Map;if(n instanceof d3_Map)n.forEach((function(n,e){r.set(n,e)}));else if(Array.isArray(n)){var o,i=-1,a=n.length;if(1===arguments.length)for(;++i<a;)r.set(i,n[i]);else for(;++i<a;)r.set(e.call(n,o=n[i],i),o)}else for(var u in n)r.set(u,n[u]);return r};function d3_map_escape(n){return"__proto__"==(n+="")||"\0"===n[0]?"\0"+n:n}function d3_map_unescape(n){return"\0"===(n+="")[0]?n.slice(1):n}function d3_map_has(n){return d3_map_escape(n)in this._}function d3_map_remove(n){return(n=d3_map_escape(n))in this._&&delete this._[n]}function d3_map_keys(){var n=[];for(var e in this._)n.push(d3_map_unescape(e));return n}function d3_map_size(){var n=0;for(var e in this._)++n;return n}function d3_map_empty(){for(var n in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(n){return n}function d3_rebind(n,e,r){return function(){var o=r.apply(e,arguments);return o===e?n:o}}function d3_vendorSymbol(n,e){if(e in n)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var r=0,o=p.length;r<o;++r){var i=p[r]+e;if(i in n)return i}}d3_class(d3_Map,{has:d3_map_has,get:function(n){return this._[d3_map_escape(n)]},set:function(n,e){return this._[d3_map_escape(n)]=e},remove:d3_map_remove,keys:d3_map_keys,values:function(){var n=[];for(var e in this._)n.push(this._[e]);return n},entries:function(){var n=[];for(var e in this._)n.push({key:d3_map_unescape(e),value:this._[e]});return n},size:d3_map_size,empty:d3_map_empty,forEach:function(n){for(var e in this._)n.call(this,d3_map_unescape(e),this._[e])}}),a.nest=function(){var n,e,r={},o=[],i=[];function map(i,a,u){if(u>=o.length)return e?e.call(r,a):n?a.sort(n):a;for(var l,c,s,d,f=-1,_=a.length,h=o[u++],g=new d3_Map;++f<_;)(d=g.get(l=h(c=a[f])))?d.push(c):g.set(l,[c]);return i?(c=i(),s=function(n,e){c.set(n,map(i,e,u))}):(c={},s=function(n,e){c[n]=map(i,e,u)}),g.forEach(s),c}return r.map=function(n,e){return map(e,n,0)},r.entries=function(n){return function entries(n,e){if(e>=o.length)return n;var r=[],a=i[e++];return n.forEach((function(n,o){r.push({key:n,values:entries(o,e)})})),a?r.sort((function(n,e){return a(n.key,e.key)})):r}(map(a.map,n,0),0)},r.key=function(n){return o.push(n),r},r.sortKeys=function(n){return i[o.length-1]=n,r},r.sortValues=function(e){return n=e,r},r.rollup=function(n){return e=n,r},r},a.set=function(n){var e=new d3_Set;if(n)for(var r=0,o=n.length;r<o;++r)e.add(n[r]);return e},d3_class(d3_Set,{has:d3_map_has,add:function(n){return this._[d3_map_escape(n+="")]=!0,n},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(n){for(var e in this._)n.call(this,d3_map_unescape(e))}}),a.behavior={},a.rebind=function(n,e){for(var r,o=1,i=arguments.length;++o<i;)n[r=arguments[o]]=d3_rebind(n,e,e[r]);return n};var p=["webkit","ms","moz","Moz","o","O"];function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(n){var e=[],r=new d3_Map;function event(){for(var r,o=e,i=-1,a=o.length;++i<a;)(r=o[i].on)&&r.apply(this,arguments);return n}return event.on=function(o,i){var a,u=r.get(o);return arguments.length<2?u&&u.on:(u&&(u.on=null,e=e.slice(0,a=e.indexOf(u)).concat(e.slice(a+1)),r.remove(o)),i&&e.push(r.set(o,{on:i})),n)},event}function d3_eventPreventDefault(){a.event.preventDefault()}function d3_eventSource(){for(var n,e=a.event;n=e.sourceEvent;)e=n;return e}function d3_eventDispatch(n){for(var e=new d3_dispatch,r=0,o=arguments.length;++r<o;)e[arguments[r]]=d3_dispatch_event(e);return e.of=function(r,o){return function(i){try{var u=i.sourceEvent=a.event;i.target=n,a.event=i,e[i.type].apply(r,o)}finally{a.event=u}}},e}a.dispatch=function(){for(var n=new d3_dispatch,e=-1,r=arguments.length;++e<r;)n[arguments[e]]=d3_dispatch_event(n);return n},d3_dispatch.prototype.on=function(n,e){var r=n.indexOf("."),o="";if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n)return arguments.length<2?this[n].on(o):this[n].on(o,e);if(2===arguments.length){if(null==e)for(n in this)this.hasOwnProperty(n)&&this[n].on(o,null);return this}},a.event=null,a.requote=function(n){return n.replace(m,"\\$&")};var m=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,y={}.__proto__?function(n,e){n.__proto__=e}:function(n,e){for(var r in e)n[r]=e[r]};function d3_selection(n){return y(n,x),n}var d3_select=function(n,e){return e.querySelector(n)},d3_selectAll=function(n,e){return e.querySelectorAll(n)},d3_selectMatches=function(n,e){var r=n.matches||n[d3_vendorSymbol(n,"matchesSelector")];return(d3_selectMatches=function(n,e){return r.call(n,e)})(n,e)};"function"==typeof Sizzle&&(d3_select=function(n,e){return Sizzle(n,e)[0]||null},d3_selectAll=Sizzle,d3_selectMatches=Sizzle.matchesSelector),a.selection=function(){return a.select(l.documentElement)};var x=a.selection.prototype=[];function d3_selection_selector(n){return"function"==typeof n?n:function(){return d3_select(n,this)}}function d3_selection_selectorAll(n){return"function"==typeof n?n:function(){return d3_selectAll(n,this)}}x.select=function(n){var e,r,o,i,a=[];n=d3_selection_selector(n);for(var u=-1,l=this.length;++u<l;){a.push(e=[]),e.parentNode=(o=this[u]).parentNode;for(var c=-1,s=o.length;++c<s;)(i=o[c])?(e.push(r=n.call(i,i.__data__,c,u)),r&&"__data__"in i&&(r.__data__=i.__data__)):e.push(null)}return d3_selection(a)},x.selectAll=function(n){var e,r,o=[];n=d3_selection_selectorAll(n);for(var i=-1,a=this.length;++i<a;)for(var u=this[i],l=-1,c=u.length;++l<c;)(r=u[l])&&(o.push(e=d3_array(n.call(r,r.__data__,l,i))),e.parentNode=r);return d3_selection(o)};var M="http://www.w3.org/1999/xhtml",b={svg:"http://www.w3.org/2000/svg",xhtml:M,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function d3_selection_attr(n,e){return n=a.ns.qualify(n),null==e?n.local?function attrNullNS(){this.removeAttributeNS(n.space,n.local)}:function attrNull(){this.removeAttribute(n)}:"function"==typeof e?n.local?function attrFunctionNS(){var r=e.apply(this,arguments);null==r?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}:function attrFunction(){var r=e.apply(this,arguments);null==r?this.removeAttribute(n):this.setAttribute(n,r)}:n.local?function attrConstantNS(){this.setAttributeNS(n.space,n.local,e)}:function attrConstant(){this.setAttribute(n,e)}}function d3_collapse(n){return n.trim().replace(/\s+/g," ")}function d3_selection_classedRe(n){return new RegExp("(?:^|\\s+)"+a.requote(n)+"(?:\\s+|$)","g")}function d3_selection_classes(n){return(n+"").trim().split(/^|\s+/)}function d3_selection_classed(n,e){var r=(n=d3_selection_classes(n).map(d3_selection_classedName)).length;return"function"==typeof e?function classedFunction(){for(var o=-1,i=e.apply(this,arguments);++o<r;)n[o](this,i)}:function classedConstant(){for(var o=-1;++o<r;)n[o](this,e)}}function d3_selection_classedName(n){var e=d3_selection_classedRe(n);return function(r,o){if(i=r.classList)return o?i.add(n):i.remove(n);var i=r.getAttribute("class")||"";o?(e.lastIndex=0,e.test(i)||r.setAttribute("class",d3_collapse(i+" "+n))):r.setAttribute("class",d3_collapse(i.replace(e," ")))}}function d3_selection_style(n,e,r){return null==e?function styleNull(){this.style.removeProperty(n)}:"function"==typeof e?function styleFunction(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(n):this.style.setProperty(n,o,r)}:function styleConstant(){this.style.setProperty(n,e,r)}}function d3_selection_property(n,e){return null==e?function propertyNull(){delete this[n]}:"function"==typeof e?function propertyFunction(){var r=e.apply(this,arguments);null==r?delete this[n]:this[n]=r}:function propertyConstant(){this[n]=e}}function d3_selection_creator(n){return"function"==typeof n?n:(n=a.ns.qualify(n)).local?function createNS(){return this.ownerDocument.createElementNS(n.space,n.local)}:function create(){var e=this.ownerDocument,r=this.namespaceURI;return r===M&&e.documentElement.namespaceURI===M?e.createElement(n):e.createElementNS(r,n)}}function d3_selectionRemove(){var n=this.parentNode;n&&n.removeChild(this)}function d3_selection_dataNode(n){return{__data__:n}}function d3_selection_filter(n){return function(){return d3_selectMatches(this,n)}}function d3_selection_sortComparator(n){return arguments.length||(n=d3_ascending),function(e,r){return e&&r?n(e.__data__,r.__data__):!e-!r}}function d3_selection_each(n,e){for(var r=0,o=n.length;r<o;r++)for(var i,a=n[r],u=0,l=a.length;u<l;u++)(i=a[u])&&e(i,u,r);return n}function d3_selection_enter(n){return y(n,w),n}a.ns={prefix:b,qualify:function(n){var e=n.indexOf(":"),r=n;return e>=0&&"xmlns"!==(r=n.slice(0,e))&&(n=n.slice(e+1)),b.hasOwnProperty(r)?{space:b[r],local:n}:n}},x.attr=function(n,e){if(arguments.length<2){if("string"==typeof n){var r=this.node();return(n=a.ns.qualify(n)).local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}for(e in n)this.each(d3_selection_attr(e,n[e]));return this}return this.each(d3_selection_attr(n,e))},x.classed=function(n,e){if(arguments.length<2){if("string"==typeof n){var r=this.node(),o=(n=d3_selection_classes(n)).length,i=-1;if(e=r.classList){for(;++i<o;)if(!e.contains(n[i]))return!1}else for(e=r.getAttribute("class");++i<o;)if(!d3_selection_classedRe(n[i]).test(e))return!1;return!0}for(e in n)this.each(d3_selection_classed(e,n[e]));return this}return this.each(d3_selection_classed(n,e))},x.style=function(n,e,r){var o=arguments.length;if(o<3){if("string"!=typeof n){for(r in o<2&&(e=""),n)this.each(d3_selection_style(r,n[r],e));return this}if(o<2){var i=this.node();return d3_window(i).getComputedStyle(i,null).getPropertyValue(n)}r=""}return this.each(d3_selection_style(n,e,r))},x.property=function(n,e){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(e in n)this.each(d3_selection_property(e,n[e]));return this}return this.each(d3_selection_property(n,e))},x.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var e=n.apply(this,arguments);this.textContent=null==e?"":e}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},x.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var e=n.apply(this,arguments);this.innerHTML=null==e?"":e}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},x.append=function(n){return n=d3_selection_creator(n),this.select((function(){return this.appendChild(n.apply(this,arguments))}))},x.insert=function(n,e){return n=d3_selection_creator(n),e=d3_selection_selector(e),this.select((function(){return this.insertBefore(n.apply(this,arguments),e.apply(this,arguments)||null)}))},x.remove=function(){return this.each(d3_selectionRemove)},x.data=function(n,e){var r,o,i=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(n[i]=o.__data__);return n}function bind(n,r){var o,i,a,s=n.length,d=r.length,f=Math.min(s,d),_=new Array(d),h=new Array(d),g=new Array(s);if(e){var p,m=new d3_Map,y=new Array(s);for(o=-1;++o<s;)(i=n[o])&&(m.has(p=e.call(i,i.__data__,o))?g[o]=i:m.set(p,i),y[o]=p);for(o=-1;++o<d;)(i=m.get(p=e.call(r,a=r[o],o)))?!0!==i&&(_[o]=i,i.__data__=a):h[o]=d3_selection_dataNode(a),m.set(p,!0);for(o=-1;++o<s;)o in y&&!0!==m.get(y[o])&&(g[o]=n[o])}else{for(o=-1;++o<f;)i=n[o],a=r[o],i?(i.__data__=a,_[o]=i):h[o]=d3_selection_dataNode(a);for(;o<d;++o)h[o]=d3_selection_dataNode(r[o]);for(;o<s;++o)g[o]=n[o]}h.update=_,h.parentNode=_.parentNode=g.parentNode=n.parentNode,u.push(h),l.push(_),c.push(g)}var u=d3_selection_enter([]),l=d3_selection([]),c=d3_selection([]);if("function"==typeof n)for(;++i<a;)bind(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<a;)bind(r=this[i],n);return l.enter=function(){return u},l.exit=function(){return c},l},x.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},x.filter=function(n){var e,r,o,i=[];"function"!=typeof n&&(n=d3_selection_filter(n));for(var a=0,u=this.length;a<u;a++){i.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=0,c=r.length;l<c;l++)(o=r[l])&&n.call(o,o.__data__,l,a)&&e.push(o)}return d3_selection(i)},x.order=function(){for(var n=-1,e=this.length;++n<e;)for(var r,o=this[n],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},x.sort=function(n){n=d3_selection_sortComparator.apply(this,arguments);for(var e=-1,r=this.length;++e<r;)this[e].sort(n);return this.order()},x.each=function(n){return d3_selection_each(this,(function(e,r,o){n.call(e,e.__data__,r,o)}))},x.call=function(n){var e=d3_array(arguments);return n.apply(e[0]=this,e),this},x.empty=function(){return!this.node()},x.node=function(){for(var n=0,e=this.length;n<e;n++)for(var r=this[n],o=0,i=r.length;o<i;o++){var a=r[o];if(a)return a}return null},x.size=function(){var n=0;return d3_selection_each(this,(function(){++n})),n};var w=[];function d3_selection_enterInsertBefore(n){var e,r;return function(o,i,a){var u,l=n[a].update,c=l.length;for(a!=r&&(r=a,e=0),i>=e&&(e=i+1);!(u=l[e])&&++e<c;);return u}}function d3_selection_on(n,e,r){var o="__on"+n,i=n.indexOf("."),u=d3_selection_onListener;i>0&&(n=n.slice(0,i));var l=k.get(n);function onRemove(){var e=this[o];e&&(this.removeEventListener(n,e,e.$),delete this[o])}return l&&(n=l,u=d3_selection_onFilter),i?e?function onAdd(){var i=u(e,d3_array(arguments));onRemove.call(this),this.addEventListener(n,this[o]=i,i.$=r),i._=e}:onRemove:e?d3_noop:function removeAll(){var e,r=new RegExp("^__on([^.]+)"+a.requote(n)+"$");for(var o in this)if(e=o.match(r)){var i=this[o];this.removeEventListener(e[1],i,i.$),delete this[o]}}}a.selection.enter=d3_selection_enter,a.selection.enter.prototype=w,w.append=x.append,w.empty=x.empty,w.node=x.node,w.call=x.call,w.size=x.size,w.select=function(n){for(var e,r,o,i,a,u=[],l=-1,c=this.length;++l<c;){o=(i=this[l]).update,u.push(e=[]),e.parentNode=i.parentNode;for(var s=-1,d=i.length;++s<d;)(a=i[s])?(e.push(o[s]=r=n.call(i.parentNode,a.__data__,s,l)),r.__data__=a.__data__):e.push(null)}return d3_selection(u)},w.insert=function(n,e){return arguments.length<2&&(e=d3_selection_enterInsertBefore(this)),x.insert.call(this,n,e)},a.select=function(n){var e;return"string"==typeof n?(e=[d3_select(n,l)]).parentNode=l.documentElement:(e=[n]).parentNode=d3_documentElement(n),d3_selection([e])},a.selectAll=function(n){var e;return"string"==typeof n?(e=d3_array(d3_selectAll(n,l))).parentNode=l.documentElement:(e=d3_array(n)).parentNode=null,d3_selection([e])},x.on=function(n,e,r){var o=arguments.length;if(o<3){if("string"!=typeof n){for(r in o<2&&(e=!1),n)this.each(d3_selection_on(r,n[r],e));return this}if(o<2)return(o=this.node()["__on"+n])&&o._;r=!1}return this.each(d3_selection_on(n,e,r))};var k=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function d3_selection_onListener(n,e){return function(r){var o=a.event;a.event=r,e[0]=this.__data__;try{n.apply(this,e)}finally{a.event=o}}}function d3_selection_onFilter(n,e){var r=d3_selection_onListener(n,e);return function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||r.call(this,n)}}l&&k.forEach((function(n){"on"+n in l&&k.remove(n)}));var S,N=0;function d3_event_dragSuppress(n){var e=".dragsuppress-"+ ++N,r="click"+e,o=a.select(d3_window(n)).on("touchmove"+e,d3_eventPreventDefault).on("dragstart"+e,d3_eventPreventDefault).on("selectstart"+e,d3_eventPreventDefault);if(null==S&&(S=!("onselectstart"in n)&&d3_vendorSymbol(n.style,"userSelect")),S){var i=d3_documentElement(n).style,u=i[S];i[S]="none"}return function(n){if(o.on(e,null),S&&(i[S]=u),n){var off=function(){o.on(r,null)};o.on(r,(function(){d3_eventPreventDefault(),off()}),!0),setTimeout(off,0)}}}a.mouse=function(n){return d3_mousePoint(n,d3_eventSource())};var E=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function d3_mousePoint(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var o=r.createSVGPoint();if(E<0){var i=d3_window(n);if(i.scrollX||i.scrollY){var u=(r=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();E=!(u.f||u.e),r.remove()}}return E?(o.x=e.pageX,o.y=e.pageY):(o.x=e.clientX,o.y=e.clientY),[(o=o.matrixTransform(n.getScreenCTM().inverse())).x,o.y]}var l=n.getBoundingClientRect();return[e.clientX-l.left-n.clientLeft,e.clientY-l.top-n.clientTop]}function d3_behavior_dragTouchId(){return a.event.changedTouches[0].identifier}a.touch=function(n,e,r){if(arguments.length<3&&(r=e,e=d3_eventSource().changedTouches),e)for(var o,i=0,a=e.length;i<a;++i)if((o=e[i]).identifier===r)return d3_mousePoint(n,o)},a.behavior.drag=function(){var n=d3_eventDispatch(drag,"drag","dragstart","dragend"),e=null,r=dragstart(d3_noop,a.mouse,d3_window,"mousemove","mouseup"),o=dragstart(d3_behavior_dragTouchId,a.touch,d3_identity,"touchmove","touchend");function drag(){this.on("mousedown.drag",r).on("touchstart.drag",o)}function dragstart(r,o,i,u,l){return function(){var c,s=this,d=a.event.target.correspondingElement||a.event.target,f=s.parentNode,_=n.of(s,arguments),h=0,g=r(),p=".drag"+(null==g?"":"-"+g),m=a.select(i(d)).on(u+p,moved).on(l+p,ended),y=d3_event_dragSuppress(d),x=o(f,g);function moved(){var n,e,r=o(f,g);r&&(n=r[0]-x[0],e=r[1]-x[1],h|=n|e,x=r,_({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:n,dy:e}))}function ended(){o(f,g)&&(m.on(u+p,null).on(l+p,null),y(h),_({type:"dragend"}))}c=e?[(c=e.apply(s,arguments)).x-x[0],c.y-x[1]]:[0,0],_({type:"dragstart"})}}return drag.origin=function(n){return arguments.length?(e=n,drag):e},a.rebind(drag,n,"on")},a.touches=function(n,e){return arguments.length<2&&(e=d3_eventSource().touches),e?d3_array(e).map((function(e){var r=d3_mousePoint(n,e);return r.identifier=e.identifier,r})):[]};var C=1e-6,R=1e-12,P=Math.PI,A=2*P,z=A-C,L=P/2,T=P/180,q=180/P;function d3_sgn(n){return n>0?1:n<0?-1:0}function d3_cross2d(n,e,r){return(e[0]-n[0])*(r[1]-n[1])-(e[1]-n[1])*(r[0]-n[0])}function d3_acos(n){return n>1?0:n<-1?P:Math.acos(n)}function d3_asin(n){return n>1?L:n<-1?-L:Math.asin(n)}function d3_cosh(n){return((n=Math.exp(n))+1/n)/2}function d3_haversin(n){return(n=Math.sin(n/2))*n}var D=Math.SQRT2;a.interpolateZoom=function(n,e){var r,o,i=n[0],a=n[1],u=n[2],l=e[0],c=e[1],s=e[2],d=l-i,f=c-a,_=d*d+f*f;if(_<R)o=Math.log(s/u)/D,r=function(n){return[i+n*d,a+n*f,u*Math.exp(D*n*o)]};else{var h=Math.sqrt(_),g=(s*s-u*u+4*_)/(2*u*2*h),p=(s*s-u*u-4*_)/(2*s*2*h),m=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(p*p+1)-p);o=(y-m)/D,r=function(n){var e=n*o,r=d3_cosh(m),l=u/(2*h)*(r*function d3_tanh(n){return((n=Math.exp(2*n))-1)/(n+1)}(D*e+m)-function d3_sinh(n){return((n=Math.exp(n))-1/n)/2}(m));return[i+l*d,a+l*f,u*r/d3_cosh(D*e+m)]}}return r.duration=1e3*o,r},a.behavior.zoom=function(){var n,e,r,o,i,u,c,s,d,f={x:0,y:0,k:1},_=[960,500],h=I,g=250,p=0,m="mousedown.zoom",y="mousemove.zoom",x="mouseup.zoom",M="touchstart.zoom",b=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");function zoom(n){n.on(m,mousedowned).on(B+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(M,touchstarted)}function location(n){return[(n[0]-f.x)/f.k,(n[1]-f.y)/f.k]}function scaleTo(n){f.k=Math.max(h[0],Math.min(h[1],n))}function translateTo(n,e){e=function point(n){return[n[0]*f.k+f.x,n[1]*f.k+f.y]}(e),f.x+=n[0]-e[0],f.y+=n[1]-e[1]}function zoomTo(n,r,o,i){n.__chart__={x:f.x,y:f.y,k:f.k},scaleTo(Math.pow(2,i)),translateTo(e=r,o),n=a.select(n),g>0&&(n=n.transition().duration(g)),n.call(zoom.event)}function rescale(){c&&c.domain(u.range().map((function(n){return(n-f.x)/f.k})).map(u.invert)),d&&d.domain(s.range().map((function(n){return(n-f.y)/f.k})).map(s.invert))}function zoomstarted(n){p++||n({type:"zoomstart"})}function zoomed(n){rescale(),n({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function zoomended(n){--p||(n({type:"zoomend"}),e=null)}function mousedowned(){var n=this,e=b.of(n,arguments),r=0,o=a.select(d3_window(n)).on(y,moved).on(x,ended),i=location(a.mouse(n)),u=d3_event_dragSuppress(n);function moved(){r=1,translateTo(a.mouse(n),i),zoomed(e)}function ended(){o.on(y,null).on(x,null),u(r),zoomended(e)}Sn.call(n),zoomstarted(e)}function touchstarted(){var n,e=this,r=b.of(e,arguments),o={},u=0,l=".zoom-"+a.event.changedTouches[0].identifier,c="touchmove"+l,s="touchend"+l,d=[],_=a.select(e),h=d3_event_dragSuppress(e);function relocate(){var r=a.touches(e);return n=f.k,r.forEach((function(n){n.identifier in o&&(o[n.identifier]=location(n))})),r}function started(){var n=a.event.target;a.select(n).on(c,moved).on(s,ended),d.push(n);for(var r=a.event.changedTouches,l=0,_=r.length;l<_;++l)o[r[l].identifier]=null;var h=relocate(),g=Date.now();if(1===h.length){if(g-i<500){var p=h[0];zoomTo(e,p,o[p.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),d3_eventPreventDefault()}i=g}else if(h.length>1){p=h[0];var m=h[1],y=p[0]-m[0],x=p[1]-m[1];u=y*y+x*x}}function moved(){var l,c,s,d,f=a.touches(e);Sn.call(e);for(var _=0,h=f.length;_<h;++_,d=null)if(s=f[_],d=o[s.identifier]){if(c)break;l=s,c=d}if(d){var g=(g=s[0]-l[0])*g+(g=s[1]-l[1])*g,p=u&&Math.sqrt(g/u);l=[(l[0]+s[0])/2,(l[1]+s[1])/2],c=[(c[0]+d[0])/2,(c[1]+d[1])/2],scaleTo(p*n)}i=null,translateTo(l,c),zoomed(r)}function ended(){if(a.event.touches.length){for(var n=a.event.changedTouches,e=0,i=n.length;e<i;++e)delete o[n[e].identifier];for(var u in o)return void relocate()}a.selectAll(d).on(l,null),_.on(m,mousedowned).on(M,touchstarted),h(),zoomended(r)}started(),zoomstarted(r),_.on(m,null).on(M,started)}function mousewheeled(){var i=b.of(this,arguments);o?clearTimeout(o):(Sn.call(this),n=location(e=r||a.mouse(this)),zoomstarted(i)),o=setTimeout((function(){o=null,zoomended(i)}),50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*j())*f.k),translateTo(e,n),zoomed(i)}function dblclicked(){var n=a.mouse(this),e=Math.log(f.k)/Math.LN2;zoomTo(this,n,location(n),a.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return B||(B="onwheel"in l?(j=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(j=function(){return a.event.wheelDelta},"mousewheel"):(j=function(){return-a.event.detail},"MozMousePixelScroll")),zoom.event=function(n){n.each((function(){var n=b.of(this,arguments),r=f;Nn?a.select(this).transition().each("start.zoom",(function(){f=this.__chart__||{x:0,y:0,k:1},zoomstarted(n)})).tween("zoom:zoom",(function(){var o=_[0],i=_[1],u=e?e[0]:o/2,l=e?e[1]:i/2,c=a.interpolateZoom([(u-f.x)/f.k,(l-f.y)/f.k,o/f.k],[(u-r.x)/r.k,(l-r.y)/r.k,o/r.k]);return function(e){var r=c(e),i=o/r[2];this.__chart__=f={x:u-r[0]*i,y:l-r[1]*i,k:i},zoomed(n)}})).each("interrupt.zoom",(function(){zoomended(n)})).each("end.zoom",(function(){zoomended(n)})):(this.__chart__=f,zoomstarted(n),zoomed(n),zoomended(n))}))},zoom.translate=function(n){return arguments.length?(f={x:+n[0],y:+n[1],k:f.k},rescale(),zoom):[f.x,f.y]},zoom.scale=function(n){return arguments.length?(f={x:f.x,y:f.y,k:null},scaleTo(+n),rescale(),zoom):f.k},zoom.scaleExtent=function(n){return arguments.length?(h=null==n?I:[+n[0],+n[1]],zoom):h},zoom.center=function(n){return arguments.length?(r=n&&[+n[0],+n[1]],zoom):r},zoom.size=function(n){return arguments.length?(_=n&&[+n[0],+n[1]],zoom):_},zoom.duration=function(n){return arguments.length?(g=+n,zoom):g},zoom.x=function(n){return arguments.length?(c=n,u=n.copy(),f={x:0,y:0,k:1},zoom):c},zoom.y=function(n){return arguments.length?(d=n,s=n.copy(),f={x:0,y:0,k:1},zoom):d},a.rebind(zoom,b,"on")};var j,B,I=[0,1/0];function d3_color(){}function d3_hsl(n,e,r){return this instanceof d3_hsl?(this.h=+n,this.s=+e,void(this.l=+r)):arguments.length<2?n instanceof d3_hsl?new d3_hsl(n.h,n.s,n.l):d3_rgb_parse(""+n,d3_rgb_hsl,d3_hsl):new d3_hsl(n,e,r)}a.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},a.hsl=d3_hsl;var F=d3_hsl.prototype=new d3_color;function d3_hsl_rgb(n,e,r){var o,i;function vv(n){return Math.round(255*function v(n){return n>360?n-=360:n<0&&(n+=360),n<60?o+(i-o)*n/60:n<180?i:n<240?o+(i-o)*(240-n)/60:o}(n))}return n=isNaN(n)?0:(n%=360)<0?n+360:n,e=isNaN(e)||e<0?0:e>1?1:e,o=2*(r=r<0?0:r>1?1:r)-(i=r<=.5?r*(1+e):r+e-r*e),new d3_rgb(vv(n+120),vv(n),vv(n-120))}function d3_hcl(n,e,r){return this instanceof d3_hcl?(this.h=+n,this.c=+e,void(this.l=+r)):arguments.length<2?n instanceof d3_hcl?new d3_hcl(n.h,n.c,n.l):d3_lab_hcl(n instanceof d3_lab?n.l:(n=d3_rgb_lab((n=a.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new d3_hcl(n,e,r)}F.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new d3_hsl(this.h,this.s,this.l/n)},F.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new d3_hsl(this.h,this.s,n*this.l)},F.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},a.hcl=d3_hcl;var U=d3_hcl.prototype=new d3_color;function d3_hcl_lab(n,e,r){return isNaN(n)&&(n=0),isNaN(e)&&(e=0),new d3_lab(r,Math.cos(n*=T)*e,Math.sin(n)*e)}function d3_lab(n,e,r){return this instanceof d3_lab?(this.l=+n,this.a=+e,void(this.b=+r)):arguments.length<2?n instanceof d3_lab?new d3_lab(n.l,n.a,n.b):n instanceof d3_hcl?d3_hcl_lab(n.h,n.c,n.l):d3_rgb_lab((n=d3_rgb(n)).r,n.g,n.b):new d3_lab(n,e,r)}U.brighter=function(n){return new d3_hcl(this.h,this.c,Math.min(100,this.l+O*(arguments.length?n:1)))},U.darker=function(n){return new d3_hcl(this.h,this.c,Math.max(0,this.l-O*(arguments.length?n:1)))},U.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},a.lab=d3_lab;var O=18,Y=d3_lab.prototype=new d3_color;function d3_lab_rgb(n,e,r){var o=(n+16)/116,i=o+e/500,a=o-r/200;return new d3_rgb(d3_xyz_rgb(3.2404542*(i=.95047*d3_lab_xyz(i))-1.5371385*(o=1*d3_lab_xyz(o))-.4985314*(a=1.08883*d3_lab_xyz(a))),d3_xyz_rgb(-.969266*i+1.8760108*o+.041556*a),d3_xyz_rgb(.0556434*i-.2040259*o+1.0572252*a))}function d3_lab_hcl(n,e,r){return n>0?new d3_hcl(Math.atan2(r,e)*q,Math.sqrt(e*e+r*r),n):new d3_hcl(NaN,NaN,n)}function d3_lab_xyz(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function d3_xyz_lab(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function d3_xyz_rgb(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function d3_rgb(n,e,r){return this instanceof d3_rgb?(this.r=~~n,this.g=~~e,void(this.b=~~r)):arguments.length<2?n instanceof d3_rgb?new d3_rgb(n.r,n.g,n.b):d3_rgb_parse(""+n,d3_rgb,d3_hsl_rgb):new d3_rgb(n,e,r)}function d3_rgbNumber(n){return new d3_rgb(n>>16,n>>8&255,255&n)}function d3_rgbString(n){return d3_rgbNumber(n)+""}Y.brighter=function(n){return new d3_lab(Math.min(100,this.l+O*(arguments.length?n:1)),this.a,this.b)},Y.darker=function(n){return new d3_lab(Math.max(0,this.l-O*(arguments.length?n:1)),this.a,this.b)},Y.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},a.rgb=d3_rgb;var H=d3_rgb.prototype=new d3_color;function d3_rgb_hex(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function d3_rgb_parse(n,e,r){var o,i,a,u=0,l=0,c=0;if(o=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(i=o[2].split(","),o[1]){case"hsl":return r(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(d3_rgb_parseNumber(i[0]),d3_rgb_parseNumber(i[1]),d3_rgb_parseNumber(i[2]))}return(a=V.get(n))?e(a.r,a.g,a.b):(null==n||"#"!==n.charAt(0)||isNaN(a=parseInt(n.slice(1),16))||(4===n.length?(u=(3840&a)>>4,u|=u>>4,l=240&a,l|=l>>4,c=15&a,c|=c<<4):7===n.length&&(u=(16711680&a)>>16,l=(65280&a)>>8,c=255&a)),e(u,l,c))}function d3_rgb_hsl(n,e,r){var o,i,a=Math.min(n/=255,e/=255,r/=255),u=Math.max(n,e,r),l=u-a,c=(u+a)/2;return l?(i=c<.5?l/(u+a):l/(2-u-a),o=n==u?(e-r)/l+(e<r?6:0):e==u?(r-n)/l+2:(n-e)/l+4,o*=60):(o=NaN,i=c>0&&c<1?0:o),new d3_hsl(o,i,c)}function d3_rgb_lab(n,e,r){var o=d3_xyz_lab((.4124564*(n=d3_rgb_xyz(n))+.3575761*(e=d3_rgb_xyz(e))+.1804375*(r=d3_rgb_xyz(r)))/.95047),i=d3_xyz_lab((.2126729*n+.7151522*e+.072175*r)/1);return d3_lab(116*i-16,500*(o-i),200*(i-d3_xyz_lab((.0193339*n+.119192*e+.9503041*r)/1.08883)))}function d3_rgb_xyz(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function d3_rgb_parseNumber(n){var e=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*e):e}H.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var e=this.r,r=this.g,o=this.b,i=30;return e||r||o?(e&&e<i&&(e=i),r&&r<i&&(r=i),o&&o<i&&(o=i),new d3_rgb(Math.min(255,e/n),Math.min(255,r/n),Math.min(255,o/n))):new d3_rgb(i,i,i)},H.darker=function(n){return new d3_rgb((n=Math.pow(.7,arguments.length?n:1))*this.r,n*this.g,n*this.b)},H.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},H.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var V=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function d3_functor(n){return"function"==typeof n?n:function(){return n}}function d3_xhrType(n){return function(e,r,o){return 2===arguments.length&&"function"==typeof r&&(o=r,r=null),d3_xhr(e,r,n,o)}}function d3_xhr(n,e,r,o){var i={},u=a.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,s=null;function respond(){var n,e=c.status;if(!e&&function d3_xhrHasResponse(n){var e=n.responseType;return e&&"text"!==e?n.response:n.responseText}(c)||e>=200&&e<300||304===e){try{n=r.call(i,c)}catch(n){return void u.error.call(i,n)}u.load.call(i,n)}else u.error.call(i,c)}return this.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(n)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=respond:c.onreadystatechange=function(){c.readyState>3&&respond()},c.onprogress=function(n){var e=a.event;a.event=n;try{u.progress.call(i,c)}finally{a.event=e}},i.header=function(n,e){return n=(n+"").toLowerCase(),arguments.length<2?l[n]:(null==e?delete l[n]:l[n]=e+"",i)},i.mimeType=function(n){return arguments.length?(e=null==n?null:n+"",i):e},i.responseType=function(n){return arguments.length?(s=n,i):s},i.response=function(n){return r=n,i},["get","post"].forEach((function(n){i[n]=function(){return i.send.apply(i,[n].concat(d3_array(arguments)))}})),i.send=function(r,o,a){if(2===arguments.length&&"function"==typeof o&&(a=o,o=null),c.open(r,n,!0),null==e||"accept"in l||(l.accept=e+",*/*"),c.setRequestHeader)for(var d in l)c.setRequestHeader(d,l[d]);return null!=e&&c.overrideMimeType&&c.overrideMimeType(e),null!=s&&(c.responseType=s),null!=a&&i.on("error",a).on("load",(function(n){a(null,n)})),u.beforesend.call(i,c),c.send(null==o?null:o),i},i.abort=function(){return c.abort(),i},a.rebind(i,u,"on"),null==o?i:i.get(function d3_xhr_fixCallback(n){return 1===n.length?function(e,r){n(null==e?r:null)}:n}(o))}V.forEach((function(n,e){V.set(n,d3_rgbNumber(e))})),a.functor=d3_functor,a.xhr=d3_xhrType(d3_identity),a.dsv=function(n,e){var r=new RegExp('["'+n+"\n]"),o=n.charCodeAt(0);function dsv(n,r,o){arguments.length<3&&(o=r,r=null);var i=d3_xhr(n,e,null==r?response:typedResponse(r),o);return i.row=function(n){return arguments.length?i.response(null==(r=n)?response:typedResponse(n)):r},i}function response(n){return dsv.parse(n.responseText)}function typedResponse(n){return function(e){return dsv.parse(e.responseText,n)}}function formatRow(e){return e.map(formatValue).join(n)}function formatValue(n){return r.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}return dsv.parse=function(n,e){var r;return dsv.parseRows(n,(function(n,o){if(r)return r(n,o-1);var i=new Function("d","return {"+n.map((function(n,e){return JSON.stringify(n)+": d["+e+"]"})).join(",")+"}");r=e?function(n,r){return e(i(n),r)}:i}))},dsv.parseRows=function(n,e){var r,i,a={},u={},l=[],c=n.length,s=0,d=0;function token(){if(s>=c)return u;if(i)return i=!1,a;var e=s;if(34===n.charCodeAt(e)){for(var r=e;r++<c;)if(34===n.charCodeAt(r)){if(34!==n.charCodeAt(r+1))break;++r}return s=r+2,13===(l=n.charCodeAt(r+1))?(i=!0,10===n.charCodeAt(r+2)&&++s):10===l&&(i=!0),n.slice(e+1,r).replace(/""/g,'"')}for(;s<c;){var l,d=1;if(10===(l=n.charCodeAt(s++)))i=!0;else if(13===l)i=!0,10===n.charCodeAt(s)&&(++s,++d);else if(l!==o)continue;return n.slice(e,s-d)}return n.slice(e)}for(;(r=token())!==u;){for(var f=[];r!==a&&r!==u;)f.push(r),r=token();e&&null==(f=e(f,d++))||l.push(f)}return l},dsv.format=function(e){if(Array.isArray(e[0]))return dsv.formatRows(e);var r=new d3_Set,o=[];return e.forEach((function(n){for(var e in n)r.has(e)||o.push(r.add(e))})),[o.map(formatValue).join(n)].concat(e.map((function(e){return o.map((function(n){return formatValue(e[n])})).join(n)}))).join("\n")},dsv.formatRows=function(n){return n.map(formatRow).join("\n")},dsv},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var X,Z,W,$,G=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};function d3_timer(n,e,r){var o=arguments.length;o<2&&(e=0),o<3&&(r=Date.now());var i=r+e,a={c:n,t:i,n:null};return Z?Z.n=a:X=a,Z=a,W||($=clearTimeout($),W=1,G(d3_timer_step)),a}function d3_timer_step(){var n=d3_timer_mark(),e=d3_timer_sweep()-n;e>24?(isFinite(e)&&(clearTimeout($),$=setTimeout(d3_timer_step,e)),W=0):(W=1,G(d3_timer_step))}function d3_timer_mark(){for(var n=Date.now(),e=X;e;)n>=e.t&&e.c(n-e.t)&&(e.c=null),e=e.n;return n}function d3_timer_sweep(){for(var n,e=X,r=1/0;e;)e.c?(e.t<r&&(r=e.t),e=(n=e).n):e=n?n.n=e.n:X=e.n;return Z=n,r}function d3_format_precision(n,e){return e-(n?Math.ceil(Math.log(n)/Math.LN10):1)}a.timer=function(){d3_timer.apply(this,arguments)},a.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},a.round=function(n,e){return e?Math.round(n*(e=Math.pow(10,e)))/e:Math.round(n)};var J=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function d3_formatPrefix(n,e){var r=Math.pow(10,3*g(8-e));return{scale:e>8?function(n){return n/r}:function(n){return n*r},symbol:n}}));function d3_locale_numberFormat(n){var e=n.decimal,r=n.thousands,o=n.grouping,i=n.currency,u=o&&r?function(n,e){for(var i=n.length,a=[],u=0,l=o[0],c=0;i>0&&l>0&&(c+l+1>e&&(l=Math.max(1,e-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>e));)l=o[u=(u+1)%o.length];return a.reverse().join(r)}:d3_identity;return function(n){var r=K.exec(n),o=r[1]||" ",l=r[2]||">",c=r[3]||"-",s=r[4]||"",d=r[5],f=+r[6],_=r[7],h=r[8],g=r[9],p=1,m="",y="",x=!1,M=!0;switch(h&&(h=+h.substring(1)),(d||"0"===o&&"="===l)&&(d=o="0",l="="),g){case"n":_=!0,g="g";break;case"%":p=100,y="%",g="f";break;case"p":p=100,y="%",g="r";break;case"b":case"o":case"x":case"X":"#"===s&&(m="0"+g.toLowerCase());case"c":M=!1;case"d":x=!0,h=0;break;case"s":p=-1,g="r"}"$"===s&&(m=i[0],y=i[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):"e"!=g&&"f"!=g||(h=Math.max(0,Math.min(20,h)))),g=Q.get(g)||d3_format_typeDefault;var b=d&&_;return function(n){var r=y;if(x&&n%1)return"";var i=n<0||0===n&&1/n<0?(n=-n,"-"):"-"===c?"":c;if(p<0){var s=a.formatPrefix(n,h);n=s.scale(n),r=s.symbol+y}else n*=p;var w,k,S=(n=g(n,h)).lastIndexOf(".");if(S<0){var N=M?n.lastIndexOf("e"):-1;N<0?(w=n,k=""):(w=n.substring(0,N),k=n.substring(N))}else w=n.substring(0,S),k=e+n.substring(S+1);!d&&_&&(w=u(w,1/0));var E=m.length+w.length+k.length+(b?0:i.length),C=E<f?new Array(E=f-E+1).join(o):"";return b&&(w=u(C+w,C.length?f-k.length:1/0)),i+=m,n=w+k,("<"===l?i+n+C:">"===l?C+i+n:"^"===l?C.substring(0,E>>=1)+i+n+C.substring(E):i+(b?n:C+n))+r}}}a.formatPrefix=function(n,e){var r=0;return(n=+n)&&(n<0&&(n*=-1),e&&(n=a.round(n,d3_format_precision(n,e))),r=1+Math.floor(1e-12+Math.log(n)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),J[8+r/3]};var K=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Q=a.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,e){return n.toPrecision(e)},e:function(n,e){return n.toExponential(e)},f:function(n,e){return n.toFixed(e)},r:function(n,e){return(n=a.round(n,d3_format_precision(n,e))).toFixed(Math.max(0,Math.min(20,d3_format_precision(n*(1+1e-15),e))))}});function d3_format_typeDefault(n){return n+""}var tt=a.time={},nt=Date;function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){et.setUTCDate.apply(this._,arguments)},setDay:function(){et.setUTCDay.apply(this._,arguments)},setFullYear:function(){et.setUTCFullYear.apply(this._,arguments)},setHours:function(){et.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){et.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){et.setUTCMinutes.apply(this._,arguments)},setMonth:function(){et.setUTCMonth.apply(this._,arguments)},setSeconds:function(){et.setUTCSeconds.apply(this._,arguments)},setTime:function(){et.setTime.apply(this._,arguments)}};var et=Date.prototype;function d3_time_interval(n,e,r){function round(e){var r=n(e),o=offset(r,1);return e-r<o-e?r:o}function ceil(r){return e(r=n(new nt(r-1)),1),r}function offset(n,r){return e(n=new nt(+n),r),n}function range(n,o,i){var a=ceil(n),u=[];if(i>1)for(;a<o;)r(a)%i||u.push(new Date(+a)),e(a,1);else for(;a<o;)u.push(new Date(+a)),e(a,1);return u}n.floor=n,n.round=round,n.ceil=ceil,n.offset=offset,n.range=range;var o=n.utc=d3_time_interval_utc(n);return o.floor=o,o.round=d3_time_interval_utc(round),o.ceil=d3_time_interval_utc(ceil),o.offset=d3_time_interval_utc(offset),o.range=function range_utc(n,e,r){try{nt=d3_date_utc;var o=new d3_date_utc;return o._=n,range(o,e,r)}finally{nt=Date}},n}function d3_time_interval_utc(n){return function(e,r){try{nt=d3_date_utc;var o=new d3_date_utc;return o._=e,n(o,r)._}finally{nt=Date}}}function d3_locale_timeFormat(n){var e=n.dateTime,r=n.date,o=n.time,i=n.periods,u=n.days,l=n.shortDays,c=n.months,s=n.shortMonths;function d3_time_format(n){var e=n.length;function format(r){for(var o,i,a,u=[],l=-1,c=0;++l<e;)37===n.charCodeAt(l)&&(u.push(n.slice(c,l)),null!=(i=rt[o=n.charAt(++l)])&&(o=n.charAt(++l)),(a=M[o])&&(o=a(r,null==i?"e"===o?" ":"0":i)),u.push(o),c=l+1);return u.push(n.slice(c,l)),u.join("")}return format.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d3_time_parse(r,n,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&nt!==d3_date_utc,i=new(o?d3_date_utc:nt);return"j"in r?i.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?i._:i},format.toString=function(){return n},format}function d3_time_parse(n,e,r,o){for(var i,a,u,l=0,c=e.length,s=r.length;l<c;){if(o>=s)return-1;if(37===(i=e.charCodeAt(l++))){if(u=e.charAt(l++),!(a=b[u in rt?e.charAt(l++):u])||(o=a(n,r,o))<0)return-1}else if(i!=r.charCodeAt(o++))return-1}return o}d3_time_format.utc=function(n){var e=d3_time_format(n);function format(n){try{var r=new(nt=d3_date_utc);return r._=n,e(r)}finally{nt=Date}}return format.parse=function(n){try{nt=d3_date_utc;var r=e.parse(n);return r&&r._}finally{nt=Date}},format.toString=e.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var d=a.map(),f=d3_time_formatRe(u),_=d3_time_formatLookup(u),h=d3_time_formatRe(l),g=d3_time_formatLookup(l),p=d3_time_formatRe(c),m=d3_time_formatLookup(c),y=d3_time_formatRe(s),x=d3_time_formatLookup(s);i.forEach((function(n,e){d.set(n.toLowerCase(),e)}));var M={a:function(n){return l[n.getDay()]},A:function(n){return u[n.getDay()]},b:function(n){return s[n.getMonth()]},B:function(n){return c[n.getMonth()]},c:d3_time_format(e),d:function(n,e){return d3_time_formatPad(n.getDate(),e,2)},e:function(n,e){return d3_time_formatPad(n.getDate(),e,2)},H:function(n,e){return d3_time_formatPad(n.getHours(),e,2)},I:function(n,e){return d3_time_formatPad(n.getHours()%12||12,e,2)},j:function(n,e){return d3_time_formatPad(1+tt.dayOfYear(n),e,3)},L:function(n,e){return d3_time_formatPad(n.getMilliseconds(),e,3)},m:function(n,e){return d3_time_formatPad(n.getMonth()+1,e,2)},M:function(n,e){return d3_time_formatPad(n.getMinutes(),e,2)},p:function(n){return i[+(n.getHours()>=12)]},S:function(n,e){return d3_time_formatPad(n.getSeconds(),e,2)},U:function(n,e){return d3_time_formatPad(tt.sundayOfYear(n),e,2)},w:function(n){return n.getDay()},W:function(n,e){return d3_time_formatPad(tt.mondayOfYear(n),e,2)},x:d3_time_format(r),X:d3_time_format(o),y:function(n,e){return d3_time_formatPad(n.getFullYear()%100,e,2)},Y:function(n,e){return d3_time_formatPad(n.getFullYear()%1e4,e,4)},Z:d3_time_zone,"%":function(){return"%"}},b={a:function d3_time_parseWeekdayAbbrev(n,e,r){h.lastIndex=0;var o=h.exec(e.slice(r));return o?(n.w=g.get(o[0].toLowerCase()),r+o[0].length):-1},A:function d3_time_parseWeekday(n,e,r){f.lastIndex=0;var o=f.exec(e.slice(r));return o?(n.w=_.get(o[0].toLowerCase()),r+o[0].length):-1},b:function d3_time_parseMonthAbbrev(n,e,r){y.lastIndex=0;var o=y.exec(e.slice(r));return o?(n.m=x.get(o[0].toLowerCase()),r+o[0].length):-1},B:function d3_time_parseMonth(n,e,r){p.lastIndex=0;var o=p.exec(e.slice(r));return o?(n.m=m.get(o[0].toLowerCase()),r+o[0].length):-1},c:function d3_time_parseLocaleFull(n,e,r){return d3_time_parse(n,M.c.toString(),e,r)},d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:function d3_time_parseAmPm(n,e,r){var o=d.get(e.slice(r,r+=2).toLowerCase());return null==o?-1:(n.p=o,r)},S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:function d3_time_parseLocaleDate(n,e,r){return d3_time_parse(n,M.x.toString(),e,r)},X:function d3_time_parseLocaleTime(n,e,r){return d3_time_parse(n,M.X.toString(),e,r)},y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}tt.year=d3_time_interval((function(n){return(n=tt.day(n)).setMonth(0,1),n}),(function(n,e){n.setFullYear(n.getFullYear()+e)}),(function(n){return n.getFullYear()})),tt.years=tt.year.range,tt.years.utc=tt.year.utc.range,tt.day=d3_time_interval((function(n){var e=new nt(2e3,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e}),(function(n,e){n.setDate(n.getDate()+e)}),(function(n){return n.getDate()-1})),tt.days=tt.day.range,tt.days.utc=tt.day.utc.range,tt.dayOfYear=function(n){var e=tt.year(n);return Math.floor((n-e-6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(n,e){e=7-e;var r=tt[n]=d3_time_interval((function(n){return(n=tt.day(n)).setDate(n.getDate()-(n.getDay()+e)%7),n}),(function(n,e){n.setDate(n.getDate()+7*Math.floor(e))}),(function(n){var r=tt.year(n).getDay();return Math.floor((tt.dayOfYear(n)+(r+e)%7)/7)-(r!==e)}));tt[n+"s"]=r.range,tt[n+"s"].utc=r.utc.range,tt[n+"OfYear"]=function(n){var r=tt.year(n).getDay();return Math.floor((tt.dayOfYear(n)+(r+e)%7)/7)}})),tt.week=tt.sunday,tt.weeks=tt.sunday.range,tt.weeks.utc=tt.sunday.utc.range,tt.weekOfYear=tt.sundayOfYear;var rt={"-":"",_:" ",0:"0"},ot=/^\s*\d+/,it=/^%/;function d3_time_formatPad(n,e,r){var o=n<0?"-":"",i=(o?-n:n)+"",a=i.length;return o+(a<r?new Array(r-a+1).join(e)+i:i)}function d3_time_formatRe(n){return new RegExp("^(?:"+n.map(a.requote).join("|")+")","i")}function d3_time_formatLookup(n){for(var e=new d3_Map,r=-1,o=n.length;++r<o;)e.set(n[r].toLowerCase(),r);return e}function d3_time_parseWeekdayNumber(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r,r+1));return o?(n.w=+o[0],r+o[0].length):-1}function d3_time_parseWeekNumberSunday(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r));return o?(n.U=+o[0],r+o[0].length):-1}function d3_time_parseWeekNumberMonday(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r));return o?(n.W=+o[0],r+o[0].length):-1}function d3_time_parseFullYear(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r,r+4));return o?(n.y=+o[0],r+o[0].length):-1}function d3_time_parseYear(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r,r+2));return o?(n.y=function d3_time_expandYear(n){return n+(n>68?1900:2e3)}(+o[0]),r+o[0].length):-1}function d3_time_parseZone(n,e,r){return/^[+-]\d{4}$/.test(e=e.slice(r,r+5))?(n.Z=-e,r+5):-1}function d3_time_parseMonthNumber(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r,r+2));return o?(n.m=o[0]-1,r+o[0].length):-1}function d3_time_parseDay(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r,r+2));return o?(n.d=+o[0],r+o[0].length):-1}function d3_time_parseDayOfYear(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r,r+3));return o?(n.j=+o[0],r+o[0].length):-1}function d3_time_parseHour24(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r,r+2));return o?(n.H=+o[0],r+o[0].length):-1}function d3_time_parseMinutes(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r,r+2));return o?(n.M=+o[0],r+o[0].length):-1}function d3_time_parseSeconds(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r,r+2));return o?(n.S=+o[0],r+o[0].length):-1}function d3_time_parseMilliseconds(n,e,r){ot.lastIndex=0;var o=ot.exec(e.slice(r,r+3));return o?(n.L=+o[0],r+o[0].length):-1}function d3_time_zone(n){var e=n.getTimezoneOffset(),r=e>0?"-":"+",o=g(e)/60|0,i=g(e)%60;return r+d3_time_formatPad(o,"0",2)+d3_time_formatPad(i,"0",2)}function d3_time_parseLiteralPercent(n,e,r){it.lastIndex=0;var o=it.exec(e.slice(r,r+1));return o?r+o[0].length:-1}function d3_time_formatMulti(n){for(var e=n.length,r=-1;++r<e;)n[r][0]=this(n[r][0]);return function(e){for(var r=0,o=n[r];!o[1](e);)o=n[++r];return o[0](e)}}a.locale=function(n){return{numberFormat:d3_locale_numberFormat(n),timeFormat:d3_locale_timeFormat(n)}};var at=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d3_adder(){}a.format=at.numberFormat,a.geo={},d3_adder.prototype={s:0,t:0,add:function(n){d3_adderSum(n,this.t,ut),d3_adderSum(ut.s,this.s,this),this.s?this.t+=ut.t:this.s=ut.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ut=new d3_adder;function d3_adderSum(n,e,r){var o=r.s=n+e,i=o-n,a=o-i;r.t=n-a+(e-i)}function d3_geo_streamGeometry(n,e){n&&ct.hasOwnProperty(n.type)&&ct[n.type](n,e)}a.geo.stream=function(n,e){n&&lt.hasOwnProperty(n.type)?lt[n.type](n,e):d3_geo_streamGeometry(n,e)};var lt={Feature:function(n,e){d3_geo_streamGeometry(n.geometry,e)},FeatureCollection:function(n,e){for(var r=n.features,o=-1,i=r.length;++o<i;)d3_geo_streamGeometry(r[o].geometry,e)}},ct={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var r=n.coordinates,o=-1,i=r.length;++o<i;)n=r[o],e.point(n[0],n[1],n[2])},LineString:function(n,e){d3_geo_streamLine(n.coordinates,e,0)},MultiLineString:function(n,e){for(var r=n.coordinates,o=-1,i=r.length;++o<i;)d3_geo_streamLine(r[o],e,0)},Polygon:function(n,e){d3_geo_streamPolygon(n.coordinates,e)},MultiPolygon:function(n,e){for(var r=n.coordinates,o=-1,i=r.length;++o<i;)d3_geo_streamPolygon(r[o],e)},GeometryCollection:function(n,e){for(var r=n.geometries,o=-1,i=r.length;++o<i;)d3_geo_streamGeometry(r[o],e)}};function d3_geo_streamLine(n,e,r){var o,i=-1,a=n.length-r;for(e.lineStart();++i<a;)o=n[i],e.point(o[0],o[1],o[2]);e.lineEnd()}function d3_geo_streamPolygon(n,e){var r=-1,o=n.length;for(e.polygonStart();++r<o;)d3_geo_streamLine(n[r],e,1);e.polygonEnd()}a.geo.area=function(n){return st=0,a.geo.stream(n,wt),st};var st,dt,ft,_t,ht,gt,pt,vt,mt,yt,xt,Mt,bt=new d3_adder,wt={sphere:function(){st+=4*P},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){bt.reset(),wt.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var n=2*bt;st+=n<0?4*P+n:n,wt.lineStart=wt.lineEnd=wt.point=d3_noop}};function d3_geo_areaRingStart(){var n,e,r,o,i;function nextPoint(n,e){e=e*T/2+P/4;var a=(n*=T)-r,u=a>=0?1:-1,l=u*a,c=Math.cos(e),s=Math.sin(e),d=i*s,f=o*c+d*Math.cos(l),_=d*u*Math.sin(l);bt.add(Math.atan2(_,f)),r=n,o=c,i=s}wt.point=function(a,u){wt.point=nextPoint,r=(n=a)*T,o=Math.cos(u=(e=u)*T/2+P/4),i=Math.sin(u)},wt.lineEnd=function(){nextPoint(n,e)}}function d3_geo_cartesian(n){var e=n[0],r=n[1],o=Math.cos(r);return[o*Math.cos(e),o*Math.sin(e),Math.sin(r)]}function d3_geo_cartesianDot(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function d3_geo_cartesianCross(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function d3_geo_cartesianAdd(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function d3_geo_cartesianScale(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function d3_geo_cartesianNormalize(n){var e=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function d3_geo_spherical(n){return[Math.atan2(n[1],n[0]),d3_asin(n[2])]}function d3_geo_sphericalEqual(n,e){return g(n[0]-e[0])<C&&g(n[1]-e[1])<C}a.geo.bounds=function(){var n,e,r,o,i,u,l,c,s,d,f,_={point,lineStart,lineEnd,polygonStart:function(){_.point=ringPoint,_.lineStart=ringStart,_.lineEnd=ringEnd,s=0,wt.polygonStart()},polygonEnd:function(){wt.polygonEnd(),_.point=point,_.lineStart=lineStart,_.lineEnd=lineEnd,bt<0?(n=-(r=180),e=-(o=90)):s>C?o=90:s<-C&&(e=-90),f[0]=n,f[1]=r}};function point(i,a){d.push(f=[n=i,r=i]),a<e&&(e=a),a>o&&(o=a)}function linePoint(a,u){var l=d3_geo_cartesian([a*T,u*T]);if(c){var s=d3_geo_cartesianCross(c,l),d=d3_geo_cartesianCross([s[1],-s[0],0],s);d3_geo_cartesianNormalize(d),d=d3_geo_spherical(d);var f=a-i,_=f>0?1:-1,h=d[0]*q*_,p=g(f)>180;if(p^(_*i<h&&h<_*a))(m=d[1]*q)>o&&(o=m);else if(p^(_*i<(h=(h+360)%360-180)&&h<_*a)){var m;(m=-d[1]*q)<e&&(e=m)}else u<e&&(e=u),u>o&&(o=u);p?a<i?angle(n,a)>angle(n,r)&&(r=a):angle(a,r)>angle(n,r)&&(n=a):r>=n?(a<n&&(n=a),a>r&&(r=a)):a>i?angle(n,a)>angle(n,r)&&(r=a):angle(a,r)>angle(n,r)&&(n=a)}else point(a,u);c=l,i=a}function lineStart(){_.point=linePoint}function lineEnd(){f[0]=n,f[1]=r,_.point=point,c=null}function ringPoint(n,e){if(c){var r=n-i;s+=g(r)>180?r+(r>0?360:-360):r}else u=n,l=e;wt.point(n,e),linePoint(n,e)}function ringStart(){wt.lineStart()}function ringEnd(){ringPoint(u,l),wt.lineEnd(),g(s)>C&&(n=-(r=180)),f[0]=n,f[1]=r,c=null}function angle(n,e){return(e-=n)<0?e+360:e}function compareRanges(n,e){return n[0]-e[0]}function withinRange(n,e){return e[0]<=e[1]?e[0]<=n&&n<=e[1]:n<e[0]||e[1]<n}return function(i){if(o=r=-(n=e=1/0),d=[],a.geo.stream(i,_),s=d.length){d.sort(compareRanges);for(var u=1,l=[p=d[0]];u<s;++u)withinRange((h=d[u])[0],p)||withinRange(h[1],p)?(angle(p[0],h[1])>angle(p[0],p[1])&&(p[1]=h[1]),angle(h[0],p[1])>angle(p[0],p[1])&&(p[0]=h[0])):l.push(p=h);for(var c,s,h,g=-1/0,p=(u=0,l[s=l.length-1]);u<=s;p=h,++u)h=l[u],(c=angle(p[1],h[0]))>g&&(g=c,n=h[0],r=p[1])}return d=f=null,n===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[n,e],[r,o]]}}(),a.geo.centroid=function(n){dt=ft=_t=ht=gt=pt=vt=mt=yt=xt=Mt=0,a.geo.stream(n,kt);var e=yt,r=xt,o=Mt,i=e*e+r*r+o*o;return i<R&&(e=pt,r=vt,o=mt,ft<C&&(e=_t,r=ht,o=gt),(i=e*e+r*r+o*o)<R)?[NaN,NaN]:[Math.atan2(r,e)*q,d3_asin(o/Math.sqrt(i))*q]};var kt={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){kt.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){kt.lineStart=d3_geo_centroidLineStart}};function d3_geo_centroidPoint(n,e){n*=T;var r=Math.cos(e*=T);d3_geo_centroidPointXYZ(r*Math.cos(n),r*Math.sin(n),Math.sin(e))}function d3_geo_centroidPointXYZ(n,e,r){++dt,_t+=(n-_t)/dt,ht+=(e-ht)/dt,gt+=(r-gt)/dt}function d3_geo_centroidLineStart(){var n,e,r;function nextPoint(o,i){o*=T;var a=Math.cos(i*=T),u=a*Math.cos(o),l=a*Math.sin(o),c=Math.sin(i),s=Math.atan2(Math.sqrt((s=e*c-r*l)*s+(s=r*u-n*c)*s+(s=n*l-e*u)*s),n*u+e*l+r*c);ft+=s,pt+=s*(n+(n=u)),vt+=s*(e+(e=l)),mt+=s*(r+(r=c)),d3_geo_centroidPointXYZ(n,e,r)}kt.point=function(o,i){o*=T;var a=Math.cos(i*=T);n=a*Math.cos(o),e=a*Math.sin(o),r=Math.sin(i),kt.point=nextPoint,d3_geo_centroidPointXYZ(n,e,r)}}function d3_geo_centroidLineEnd(){kt.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){var n,e,r,o,i;function nextPoint(n,e){n*=T;var a=Math.cos(e*=T),u=a*Math.cos(n),l=a*Math.sin(n),c=Math.sin(e),s=o*c-i*l,d=i*u-r*c,f=r*l-o*u,_=Math.sqrt(s*s+d*d+f*f),h=r*u+o*l+i*c,g=_&&-d3_acos(h)/_,p=Math.atan2(_,h);yt+=g*s,xt+=g*d,Mt+=g*f,ft+=p,pt+=p*(r+(r=u)),vt+=p*(o+(o=l)),mt+=p*(i+(i=c)),d3_geo_centroidPointXYZ(r,o,i)}kt.point=function(a,u){n=a,e=u,kt.point=nextPoint,a*=T;var l=Math.cos(u*=T);r=l*Math.cos(a),o=l*Math.sin(a),i=Math.sin(u),d3_geo_centroidPointXYZ(r,o,i)},kt.lineEnd=function(){nextPoint(n,e),kt.lineEnd=d3_geo_centroidLineEnd,kt.point=d3_geo_centroidPoint}}function d3_geo_compose(n,e){function compose(r,o){return r=n(r,o),e(r[0],r[1])}return n.invert&&e.invert&&(compose.invert=function(r,o){return(r=e.invert(r,o))&&n.invert(r[0],r[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(n,e,r,o,i){var a=[],u=[];if(n.forEach((function(n){if(!((e=n.length-1)<=0)){var e,r=n[0],o=n[e];if(d3_geo_sphericalEqual(r,o)){i.lineStart();for(var l=0;l<e;++l)i.point((r=n[l])[0],r[1]);i.lineEnd()}else{var c=new d3_geo_clipPolygonIntersection(r,n,null,!0),s=new d3_geo_clipPolygonIntersection(r,null,c,!1);c.o=s,a.push(c),u.push(s),c=new d3_geo_clipPolygonIntersection(o,n,null,!1),s=new d3_geo_clipPolygonIntersection(o,null,c,!0),c.o=s,a.push(c),u.push(s)}}})),u.sort(e),d3_geo_clipPolygonLinkCircular(a),d3_geo_clipPolygonLinkCircular(u),a.length){for(var l=0,c=r,s=u.length;l<s;++l)u[l].e=c=!c;for(var d,f,_=a[0];;){for(var h=_,g=!0;h.v;)if((h=h.n)===_)return;d=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(l=0,s=d.length;l<s;++l)i.point((f=d[l])[0],f[1]);else o(h.x,h.n.x,1,i);h=h.n}else{if(g)for(l=(d=h.p.z).length-1;l>=0;--l)i.point((f=d[l])[0],f[1]);else o(h.x,h.p.x,-1,i);h=h.p}d=(h=h.o).z,g=!g}while(!h.v);i.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(n){if(e=n.length){for(var e,r,o=0,i=n[0];++o<e;)i.n=r=n[o],r.p=i,i=r;i.n=r=n[0],r.p=i}}function d3_geo_clipPolygonIntersection(n,e,r,o){this.x=n,this.z=e,this.o=r,this.e=o,this.v=!1,this.n=this.p=null}function d3_geo_clip(n,e,r,o){return function(i,u){var l,c=e(u),s=i.invert(o[0],o[1]),d={point,lineStart,lineEnd,polygonStart:function(){d.point=pointRing,d.lineStart=ringStart,d.lineEnd=ringEnd,l=[],f=[]},polygonEnd:function(){d.point=point,d.lineStart=lineStart,d.lineEnd=lineEnd,l=a.merge(l);var n=function d3_geo_pointInPolygon(n,e){var r=n[0],o=n[1],i=[Math.sin(r),-Math.cos(r),0],a=0,u=0;bt.reset();for(var l=0,c=e.length;l<c;++l){var s=e[l],d=s.length;if(d)for(var f=s[0],_=f[0],h=f[1]/2+P/4,g=Math.sin(h),p=Math.cos(h),m=1;;){m===d&&(m=0);var y=(n=s[m])[0],x=n[1]/2+P/4,M=Math.sin(x),b=Math.cos(x),w=y-_,k=w>=0?1:-1,S=k*w,N=S>P,E=g*M;if(bt.add(Math.atan2(E*k*Math.sin(S),p*b+E*Math.cos(S))),a+=N?w+k*A:w,N^_>=r^y>=r){var R=d3_geo_cartesianCross(d3_geo_cartesian(f),d3_geo_cartesian(n));d3_geo_cartesianNormalize(R);var z=d3_geo_cartesianCross(i,R);d3_geo_cartesianNormalize(z);var L=(N^w>=0?-1:1)*d3_asin(z[2]);(o>L||o===L&&(R[0]||R[1]))&&(u+=N^w>=0?1:-1)}if(!m++)break;_=y,g=M,p=b,f=n}}return(a<-C||a<C&&bt<-C)^1&u}(s,f);l.length?(p||(u.polygonStart(),p=!0),d3_geo_clipPolygon(l,d3_geo_clipSort,n,r,u)):n&&(p||(u.polygonStart(),p=!0),u.lineStart(),r(null,null,1,u),u.lineEnd()),p&&(u.polygonEnd(),p=!1),l=f=null},sphere:function(){u.polygonStart(),u.lineStart(),r(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function point(e,r){var o=i(e,r);n(e=o[0],r=o[1])&&u.point(e,r)}function pointLine(n,e){var r=i(n,e);c.point(r[0],r[1])}function lineStart(){d.point=pointLine,c.lineStart()}function lineEnd(){d.point=point,c.lineEnd()}var f,_,h=d3_geo_clipBufferListener(),g=e(h),p=!1;function pointRing(n,e){_.push([n,e]);var r=i(n,e);g.point(r[0],r[1])}function ringStart(){g.lineStart(),_=[]}function ringEnd(){pointRing(_[0][0],_[0][1]),g.lineEnd();var n,e=g.clean(),r=h.buffer(),o=r.length;if(_.pop(),f.push(_),_=null,o)if(1&e){var i,a=-1;if((o=(n=r[0]).length-1)>0){for(p||(u.polygonStart(),p=!0),u.lineStart();++a<o;)u.point((i=n[a])[0],i[1]);u.lineEnd()}}else o>1&&2&e&&r.push(r.pop().concat(r.shift())),l.push(r.filter(d3_geo_clipSegmentLength1))}return d}}function d3_geo_clipSegmentLength1(n){return n.length>1}function d3_geo_clipBufferListener(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(e,r){n.push([e,r])},lineEnd:d3_noop,buffer:function(){var r=e;return e=[],n=null,r},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function d3_geo_clipSort(n,e){return((n=n.x)[0]<0?n[1]-L-C:L-n[1])-((e=e.x)[0]<0?e[1]-L-C:L-e[1])}var St=d3_geo_clip(d3_true,(function d3_geo_clipAntimeridianLine(n){var e,r=NaN,o=NaN,i=NaN;return{lineStart:function(){n.lineStart(),e=1},point:function(a,u){var l=a>0?P:-P,c=g(a-r);g(c-P)<C?(n.point(r,o=(o+u)/2>0?L:-L),n.point(i,o),n.lineEnd(),n.lineStart(),n.point(l,o),n.point(a,o),e=0):i!==l&&c>=P&&(g(r-i)<C&&(r-=i*C),g(a-l)<C&&(a-=l*C),o=function d3_geo_clipAntimeridianIntersect(n,e,r,o){var i,a,u=Math.sin(n-r);return g(u)>C?Math.atan((Math.sin(e)*(a=Math.cos(o))*Math.sin(r)-Math.sin(o)*(i=Math.cos(e))*Math.sin(n))/(i*a*u)):(e+o)/2}(r,o,a,u),n.point(i,o),n.lineEnd(),n.lineStart(),n.point(l,o),e=0),n.point(r=a,o=u),i=l},lineEnd:function(){n.lineEnd(),r=o=NaN},clean:function(){return 2-e}}}),(function d3_geo_clipAntimeridianInterpolate(n,e,r,o){var i;if(null==n)i=r*L,o.point(-P,i),o.point(0,i),o.point(P,i),o.point(P,0),o.point(P,-i),o.point(0,-i),o.point(-P,-i),o.point(-P,0),o.point(-P,i);else if(g(n[0]-e[0])>C){var a=n[0]<e[0]?P:-P;i=r*a/2,o.point(-a,i),o.point(0,i),o.point(a,i)}else o.point(e[0],e[1])}),[-P,-P/2]);function d3_geo_clipCircle(n){var e=Math.cos(n),r=e>0,o=g(e)>C;return d3_geo_clip(visible,(function clipLine(n){var e,i,a,u,l;return{lineStart:function(){u=a=!1,l=1},point:function(c,s){var d,f=[c,s],_=visible(c,s),h=r?_?0:code(c,s):_?code(c+(c<0?P:-P),s):0;if(!e&&(u=a=_)&&n.lineStart(),_!==a&&(d=intersect(e,f),(d3_geo_sphericalEqual(e,d)||d3_geo_sphericalEqual(f,d))&&(f[0]+=C,f[1]+=C,_=visible(f[0],f[1]))),_!==a)l=0,_?(n.lineStart(),d=intersect(f,e),n.point(d[0],d[1])):(d=intersect(e,f),n.point(d[0],d[1]),n.lineEnd()),e=d;else if(o&&e&&r^_){var g;h&i||!(g=intersect(f,e,!0))||(l=0,r?(n.lineStart(),n.point(g[0][0],g[0][1]),n.point(g[1][0],g[1][1]),n.lineEnd()):(n.point(g[1][0],g[1][1]),n.lineEnd(),n.lineStart(),n.point(g[0][0],g[0][1])))}!_||e&&d3_geo_sphericalEqual(e,f)||n.point(f[0],f[1]),e=f,a=_,i=h},lineEnd:function(){a&&n.lineEnd(),e=null},clean:function(){return l|(u&&a)<<1}}}),d3_geo_circleInterpolate(n,6*T),r?[0,-n]:[-P,n-P]);function visible(n,r){return Math.cos(n)*Math.cos(r)>e}function intersect(n,r,o){var i=[1,0,0],a=d3_geo_cartesianCross(d3_geo_cartesian(n),d3_geo_cartesian(r)),u=d3_geo_cartesianDot(a,a),l=a[0],c=u-l*l;if(!c)return!o&&n;var s=e*u/c,d=-e*l/c,f=d3_geo_cartesianCross(i,a),_=d3_geo_cartesianScale(i,s);d3_geo_cartesianAdd(_,d3_geo_cartesianScale(a,d));var h=f,p=d3_geo_cartesianDot(_,h),m=d3_geo_cartesianDot(h,h),y=p*p-m*(d3_geo_cartesianDot(_,_)-1);if(!(y<0)){var x=Math.sqrt(y),M=d3_geo_cartesianScale(h,(-p-x)/m);if(d3_geo_cartesianAdd(M,_),M=d3_geo_spherical(M),!o)return M;var b,w=n[0],k=r[0],S=n[1],N=r[1];k<w&&(b=w,w=k,k=b);var E=k-w,R=g(E-P)<C;if(!R&&N<S&&(b=S,S=N,N=b),R||E<C?R?S+N>0^M[1]<(g(M[0]-w)<C?S:N):S<=M[1]&&M[1]<=N:E>P^(w<=M[0]&&M[0]<=k)){var A=d3_geo_cartesianScale(h,(-p+x)/m);return d3_geo_cartesianAdd(A,_),[M,d3_geo_spherical(A)]}}}function code(e,o){var i=r?n:P-n,a=0;return e<-i?a|=1:e>i&&(a|=2),o<-i?a|=4:o>i&&(a|=8),a}}function d3_geom_clipLine(n,e,r,o){return function(i){var a,u=i.a,l=i.b,c=u.x,s=u.y,d=0,f=1,_=l.x-c,h=l.y-s;if(a=n-c,_||!(a>0)){if(a/=_,_<0){if(a<d)return;a<f&&(f=a)}else if(_>0){if(a>f)return;a>d&&(d=a)}if(a=r-c,_||!(a<0)){if(a/=_,_<0){if(a>f)return;a>d&&(d=a)}else if(_>0){if(a<d)return;a<f&&(f=a)}if(a=e-s,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>d&&(d=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<f&&(f=a)}return d>0&&(i.a={x:c+d*_,y:s+d*h}),f<1&&(i.b={x:c+f*_,y:s+f*h}),i}}}}}}function d3_geo_clipExtent(n,e,r,o){return function(i){var u,l,c,s,d,f,_,h,g,p,m,y=i,x=d3_geo_clipBufferListener(),M=d3_geom_clipLine(n,e,r,o),b={point,lineStart:function lineStart(){b.point=linePoint,l&&l.push(c=[]);p=!0,g=!1,_=h=NaN},lineEnd:function lineEnd(){u&&(linePoint(s,d),f&&g&&x.rejoin(),u.push(x.buffer()));b.point=point,g&&i.lineEnd()},polygonStart:function(){i=x,u=[],l=[],m=!0},polygonEnd:function(){i=y,u=a.merge(u);var e=function insidePolygon(n){for(var e=0,r=l.length,o=n[1],i=0;i<r;++i)for(var a,u=1,c=l[i],s=c.length,d=c[0];u<s;++u)a=c[u],d[1]<=o?a[1]>o&&d3_cross2d(d,a,n)>0&&++e:a[1]<=o&&d3_cross2d(d,a,n)<0&&--e,d=a;return 0!==e}([n,o]),r=m&&e,s=u.length;(r||s)&&(i.polygonStart(),r&&(i.lineStart(),interpolate(null,null,1,i),i.lineEnd()),s&&d3_geo_clipPolygon(u,compare,e,interpolate,i),i.polygonEnd()),u=l=c=null}};function interpolate(i,a,u,l){var c=0,s=0;if(null==i||(c=corner(i,u))!==(s=corner(a,u))||comparePoints(i,a)<0^u>0)do{l.point(0===c||3===c?n:r,c>1?o:e)}while((c=(c+u+4)%4)!==s);else l.point(a[0],a[1])}function pointVisible(i,a){return n<=i&&i<=r&&e<=a&&a<=o}function point(n,e){pointVisible(n,e)&&i.point(n,e)}function linePoint(n,e){var r=pointVisible(n=Math.max(-1e9,Math.min(1e9,n)),e=Math.max(-1e9,Math.min(1e9,e)));if(l&&c.push([n,e]),p)s=n,d=e,f=r,p=!1,r&&(i.lineStart(),i.point(n,e));else if(r&&g)i.point(n,e);else{var o={a:{x:_,y:h},b:{x:n,y:e}};M(o)?(g||(i.lineStart(),i.point(o.a.x,o.a.y)),i.point(o.b.x,o.b.y),r||i.lineEnd(),m=!1):r&&(i.lineStart(),i.point(n,e),m=!1)}_=n,h=e,g=r}return b};function corner(o,i){return g(o[0]-n)<C?i>0?0:3:g(o[0]-r)<C?i>0?2:1:g(o[1]-e)<C?i>0?1:0:i>0?3:2}function compare(n,e){return comparePoints(n.x,e.x)}function comparePoints(n,e){var r=corner(n,1),o=corner(e,1);return r!==o?r-o:0===r?e[1]-n[1]:1===r?n[0]-e[0]:2===r?n[1]-e[1]:e[0]-n[0]}}function d3_geo_conic(n){var e=0,r=P/3,o=d3_geo_projectionMutator(n),i=o(e,r);return i.parallels=function(n){return arguments.length?o(e=n[0]*P/180,r=n[1]*P/180):[e/P*180,r/P*180]},i}function d3_geo_conicEqualArea(n,e){var r=Math.sin(n),o=(r+Math.sin(e))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;function forward(n,e){var r=Math.sqrt(i-2*o*Math.sin(e))/o;return[r*Math.sin(n*=o),a-r*Math.cos(n)]}return forward.invert=function(n,e){var r=a-e;return[Math.atan2(n,r)/o,d3_asin((i-(n*n+r*r)*o*o)/(2*o))]},forward}a.geo.clipExtent=function(){var n,e,r,o,i,a,u={stream:function(n){return i&&(i.valid=!1),(i=a(n)).valid=!0,i},extent:function(l){return arguments.length?(a=d3_geo_clipExtent(n=+l[0][0],e=+l[0][1],r=+l[1][0],o=+l[1][1]),i&&(i.valid=!1,i=null),u):[[n,e],[r,o]]}};return u.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){var n,e,r,o,i=a.geo.albers(),u=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,r){n=[e,r]}};function albersUsa(i){var a=i[0],u=i[1];return n=null,e(a,u),n||(r(a,u),n)||o(a,u),n}return albersUsa.invert=function(n){var e=i.scale(),r=i.translate(),o=(n[0]-r[0])/e,a=(n[1]-r[1])/e;return(a>=.12&&a<.234&&o>=-.425&&o<-.214?u:a>=.166&&a<.234&&o>=-.214&&o<-.115?l:i).invert(n)},albersUsa.stream=function(n){var e=i.stream(n),r=u.stream(n),o=l.stream(n);return{point:function(n,i){e.point(n,i),r.point(n,i),o.point(n,i)},sphere:function(){e.sphere(),r.sphere(),o.sphere()},lineStart:function(){e.lineStart(),r.lineStart(),o.lineStart()},lineEnd:function(){e.lineEnd(),r.lineEnd(),o.lineEnd()},polygonStart:function(){e.polygonStart(),r.polygonStart(),o.polygonStart()},polygonEnd:function(){e.polygonEnd(),r.polygonEnd(),o.polygonEnd()}}},albersUsa.precision=function(n){return arguments.length?(i.precision(n),u.precision(n),l.precision(n),albersUsa):i.precision()},albersUsa.scale=function(n){return arguments.length?(i.scale(n),u.scale(.35*n),l.scale(n),albersUsa.translate(i.translate())):i.scale()},albersUsa.translate=function(n){if(!arguments.length)return i.translate();var a=i.scale(),s=+n[0],d=+n[1];return e=i.translate(n).clipExtent([[s-.455*a,d-.238*a],[s+.455*a,d+.238*a]]).stream(c).point,r=u.translate([s-.307*a,d+.201*a]).clipExtent([[s-.425*a+C,d+.12*a+C],[s-.214*a-C,d+.234*a-C]]).stream(c).point,o=l.translate([s-.205*a,d+.212*a]).clipExtent([[s-.214*a+C,d+.166*a+C],[s-.115*a-C,d+.234*a-C]]).stream(c).point,albersUsa},albersUsa.scale(1070)};var Nt,Et,Ct,Rt,Pt,At,zt={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Et=0,zt.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){zt.lineStart=zt.lineEnd=zt.point=d3_noop,Nt+=g(Et/2)}};function d3_geo_pathAreaRingStart(){var n,e,r,o;function nextPoint(n,e){Et+=o*n-r*e,r=n,o=e}zt.point=function(i,a){zt.point=nextPoint,n=r=i,e=o=a},zt.lineEnd=function(){nextPoint(n,e)}}var Lt={point:function d3_geo_pathBoundsPoint(n,e){n<Ct&&(Ct=n);n>Pt&&(Pt=n);e<Rt&&(Rt=e);e>At&&(At=e)},lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_pathBuffer(){var n=d3_geo_pathBufferCircle(4.5),e=[],r={point,lineStart:function(){r.point=pointLineStart},lineEnd,polygonStart:function(){r.lineEnd=lineEndPolygon},polygonEnd:function(){r.lineEnd=lineEnd,r.point=point},pointRadius:function(e){return n=d3_geo_pathBufferCircle(e),r},result:function(){if(e.length){var n=e.join("");return e=[],n}}};function point(r,o){e.push("M",r,",",o,n)}function pointLineStart(n,o){e.push("M",n,",",o),r.point=pointLine}function pointLine(n,r){e.push("L",n,",",r)}function lineEnd(){r.point=point}function lineEndPolygon(){e.push("Z")}return r}function d3_geo_pathBufferCircle(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}var Tt,qt={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){qt.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){qt.point=d3_geo_pathCentroidPoint,qt.lineStart=d3_geo_pathCentroidLineStart,qt.lineEnd=d3_geo_pathCentroidLineEnd}};function d3_geo_pathCentroidPoint(n,e){_t+=n,ht+=e,++gt}function d3_geo_pathCentroidLineStart(){var n,e;function nextPoint(r,o){var i=r-n,a=o-e,u=Math.sqrt(i*i+a*a);pt+=u*(n+r)/2,vt+=u*(e+o)/2,mt+=u,d3_geo_pathCentroidPoint(n=r,e=o)}qt.point=function(r,o){qt.point=nextPoint,d3_geo_pathCentroidPoint(n=r,e=o)}}function d3_geo_pathCentroidLineEnd(){qt.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){var n,e,r,o;function nextPoint(n,e){var i=n-r,a=e-o,u=Math.sqrt(i*i+a*a);pt+=u*(r+n)/2,vt+=u*(o+e)/2,mt+=u,yt+=(u=o*n-r*e)*(r+n),xt+=u*(o+e),Mt+=3*u,d3_geo_pathCentroidPoint(r=n,o=e)}qt.point=function(i,a){qt.point=nextPoint,d3_geo_pathCentroidPoint(n=r=i,e=o=a)},qt.lineEnd=function(){nextPoint(n,e)}}function d3_geo_pathContext(n){var e=4.5,r={point,lineStart:function(){r.point=pointLineStart},lineEnd,polygonStart:function(){r.lineEnd=lineEndPolygon},polygonEnd:function(){r.lineEnd=lineEnd,r.point=point},pointRadius:function(n){return e=n,r},result:d3_noop};function point(r,o){n.moveTo(r+e,o),n.arc(r,o,e,0,A)}function pointLineStart(e,o){n.moveTo(e,o),r.point=pointLine}function pointLine(e,r){n.lineTo(e,r)}function lineEnd(){r.point=point}function lineEndPolygon(){n.closePath()}return r}function d3_geo_resample(n){var e=.5,r=Math.cos(30*T),o=16;function resample(n){return(o?resampleRecursive:resampleNone)(n)}function resampleNone(e){return d3_geo_transformPoint(e,(function(r,o){r=n(r,o),e.point(r[0],r[1])}))}function resampleRecursive(e){var r,i,a,u,l,c,s,d,f,_,h,g,p={point,lineStart,lineEnd,polygonStart:function(){e.polygonStart(),p.lineStart=ringStart},polygonEnd:function(){e.polygonEnd(),p.lineStart=lineStart}};function point(r,o){r=n(r,o),e.point(r[0],r[1])}function lineStart(){d=NaN,p.point=linePoint,e.lineStart()}function linePoint(r,i){var a=d3_geo_cartesian([r,i]),u=n(r,i);resampleLineTo(d,f,s,_,h,g,d=u[0],f=u[1],s=r,_=a[0],h=a[1],g=a[2],o,e),e.point(d,f)}function lineEnd(){p.point=point,e.lineEnd()}function ringStart(){lineStart(),p.point=ringPoint,p.lineEnd=ringEnd}function ringPoint(n,e){linePoint(r=n,e),i=d,a=f,u=_,l=h,c=g,p.point=linePoint}function ringEnd(){resampleLineTo(d,f,s,_,h,g,i,a,r,u,l,c,o,e),p.lineEnd=lineEnd,lineEnd()}return p}function resampleLineTo(o,i,a,u,l,c,s,d,f,_,h,p,m,y){var x=s-o,M=d-i,b=x*x+M*M;if(b>4*e&&m--){var w=u+_,k=l+h,S=c+p,N=Math.sqrt(w*w+k*k+S*S),E=Math.asin(S/=N),R=g(g(S)-1)<C||g(a-f)<C?(a+f)/2:Math.atan2(k,w),P=n(R,E),A=P[0],z=P[1],L=A-o,T=z-i,q=M*L-x*T;(q*q/b>e||g((x*L+M*T)/b-.5)>.3||u*_+l*h+c*p<r)&&(resampleLineTo(o,i,a,u,l,c,A,z,R,w/=N,k/=N,S,m,y),y.point(A,z),resampleLineTo(A,z,R,w,k,S,s,d,f,_,h,p,m,y))}}return resample.precision=function(n){return arguments.length?(o=(e=n*n)>0&&16,resample):Math.sqrt(e)},resample}function d3_geo_pathProjectStream(n){var e=d3_geo_resample((function(e,r){return n([e*q,r*q])}));return function(n){return d3_geo_projectionRadians(e(n))}}function d3_geo_transform(n){this.stream=n}function d3_geo_transformPoint(n,e){return{point:e,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function d3_geo_projection(n){return d3_geo_projectionMutator((function(){return n}))()}function d3_geo_projectionMutator(n){var e,r,o,i,u,l,c=d3_geo_resample((function(n,r){return[(n=e(n,r))[0]*s+i,u-n[1]*s]})),s=150,d=480,f=250,_=0,h=0,g=0,p=0,m=0,y=St,x=d3_identity,M=null,b=null;function projection(n){return[(n=o(n[0]*T,n[1]*T))[0]*s+i,u-n[1]*s]}function invert(n){return(n=o.invert((n[0]-i)/s,(u-n[1])/s))&&[n[0]*q,n[1]*q]}function reset(){o=d3_geo_compose(r=d3_geo_rotation(g,p,m),e);var n=e(_,h);return i=d-n[0]*s,u=f+n[1]*s,invalidate()}function invalidate(){return l&&(l.valid=!1,l=null),projection}return projection.stream=function(n){return l&&(l.valid=!1),(l=d3_geo_projectionRadians(y(r,c(x(n))))).valid=!0,l},projection.clipAngle=function(n){return arguments.length?(y=null==n?(M=n,St):d3_geo_clipCircle((M=+n)*T),invalidate()):M},projection.clipExtent=function(n){return arguments.length?(b=n,x=n?d3_geo_clipExtent(n[0][0],n[0][1],n[1][0],n[1][1]):d3_identity,invalidate()):b},projection.scale=function(n){return arguments.length?(s=+n,reset()):s},projection.translate=function(n){return arguments.length?(d=+n[0],f=+n[1],reset()):[d,f]},projection.center=function(n){return arguments.length?(_=n[0]%360*T,h=n[1]%360*T,reset()):[_*q,h*q]},projection.rotate=function(n){return arguments.length?(g=n[0]%360*T,p=n[1]%360*T,m=n.length>2?n[2]%360*T:0,reset()):[g*q,p*q,m*q]},a.rebind(projection,c,"precision"),function(){return e=n.apply(this,arguments),projection.invert=e.invert&&invert,reset()}}function d3_geo_projectionRadians(n){return d3_geo_transformPoint(n,(function(e,r){n.point(e*T,r*T)}))}function d3_geo_equirectangular(n,e){return[n,e]}function d3_geo_identityRotation(n,e){return[n>P?n-A:n<-P?n+A:n,e]}function d3_geo_rotation(n,e,r){return n?e||r?d3_geo_compose(d3_geo_rotationλ(n),d3_geo_rotationφγ(e,r)):d3_geo_rotationλ(n):e||r?d3_geo_rotationφγ(e,r):d3_geo_identityRotation}function d3_geo_forwardRotationλ(n){return function(e,r){return[(e+=n)>P?e-A:e<-P?e+A:e,r]}}function d3_geo_rotationλ(n){var e=d3_geo_forwardRotationλ(n);return e.invert=d3_geo_forwardRotationλ(-n),e}function d3_geo_rotationφγ(n,e){var r=Math.cos(n),o=Math.sin(n),i=Math.cos(e),a=Math.sin(e);function rotation(n,e){var u=Math.cos(e),l=Math.cos(n)*u,c=Math.sin(n)*u,s=Math.sin(e),d=s*r+l*o;return[Math.atan2(c*i-d*a,l*r-s*o),d3_asin(d*i+c*a)]}return rotation.invert=function(n,e){var u=Math.cos(e),l=Math.cos(n)*u,c=Math.sin(n)*u,s=Math.sin(e),d=s*i-c*a;return[Math.atan2(c*i+s*a,l*r+d*o),d3_asin(d*r-l*o)]},rotation}function d3_geo_circleInterpolate(n,e){var r=Math.cos(n),o=Math.sin(n);return function(i,a,u,l){var c=u*e;null!=i?(i=d3_geo_circleAngle(r,i),a=d3_geo_circleAngle(r,a),(u>0?i<a:i>a)&&(i+=u*A)):(i=n+u*A,a=n-.5*c);for(var s,d=i;u>0?d>a:d<a;d-=c)l.point((s=d3_geo_spherical([r,-o*Math.cos(d),-o*Math.sin(d)]))[0],s[1])}}function d3_geo_circleAngle(n,e){var r=d3_geo_cartesian(e);r[0]-=n,d3_geo_cartesianNormalize(r);var o=d3_acos(-r[1]);return((-r[2]<0?-o:o)+2*Math.PI-C)%(2*Math.PI)}function d3_geo_graticuleX(n,e,r){var o=a.range(n,e-C,r).concat(e);return function(n){return o.map((function(e){return[n,e]}))}}function d3_geo_graticuleY(n,e,r){var o=a.range(n,e-C,r).concat(e);return function(n){return o.map((function(e){return[e,n]}))}}function d3_source(n){return n.source}function d3_target(n){return n.target}a.geo.path=function(){var n,e,r,o,i,u=4.5;function path(n){return n&&("function"==typeof u&&o.pointRadius(+u.apply(this,arguments)),i&&i.valid||(i=r(o)),a.geo.stream(n,i)),o.result()}function reset(){return i=null,path}return path.area=function(n){return Nt=0,a.geo.stream(n,r(zt)),Nt},path.centroid=function(n){return _t=ht=gt=pt=vt=mt=yt=xt=Mt=0,a.geo.stream(n,r(qt)),Mt?[yt/Mt,xt/Mt]:mt?[pt/mt,vt/mt]:gt?[_t/gt,ht/gt]:[NaN,NaN]},path.bounds=function(n){return Pt=At=-(Ct=Rt=1/0),a.geo.stream(n,r(Lt)),[[Ct,Rt],[Pt,At]]},path.projection=function(e){return arguments.length?(r=(n=e)?e.stream||d3_geo_pathProjectStream(e):d3_identity,reset()):n},path.context=function(n){return arguments.length?(o=null==(e=n)?new d3_geo_pathBuffer:new d3_geo_pathContext(n),"function"!=typeof u&&o.pointRadius(u),reset()):e},path.pointRadius=function(n){return arguments.length?(u="function"==typeof n?n:(o.pointRadius(+n),+n),path):u},path.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(n){return{stream:function(e){var r=new d3_geo_transform(e);for(var o in n)r[o]=n[o];return r}}},d3_geo_transform.prototype={point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=d3_geo_projection,a.geo.projectionMutator=d3_geo_projectionMutator,(a.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,a.geo.rotation=function(n){function forward(e){return(e=n(e[0]*T,e[1]*T))[0]*=q,e[1]*=q,e}return n=d3_geo_rotation(n[0]%360*T,n[1]*T,n.length>2?n[2]*T:0),forward.invert=function(e){return(e=n.invert(e[0]*T,e[1]*T))[0]*=q,e[1]*=q,e},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,a.geo.circle=function(){var n,e,r=[0,0],o=6;function circle(){var n="function"==typeof r?r.apply(this,arguments):r,o=d3_geo_rotation(-n[0]*T,-n[1]*T,0).invert,i=[];return e(null,null,1,{point:function(n,e){i.push(n=o(n,e)),n[0]*=q,n[1]*=q}}),{type:"Polygon",coordinates:[i]}}return circle.origin=function(n){return arguments.length?(r=n,circle):r},circle.angle=function(r){return arguments.length?(e=d3_geo_circleInterpolate((n=+r)*T,o*T),circle):n},circle.precision=function(r){return arguments.length?(e=d3_geo_circleInterpolate(n*T,(o=+r)*T),circle):o},circle.angle(90)},a.geo.distance=function(n,e){var r,o=(e[0]-n[0])*T,i=n[1]*T,a=e[1]*T,u=Math.sin(o),l=Math.cos(o),c=Math.sin(i),s=Math.cos(i),d=Math.sin(a),f=Math.cos(a);return Math.atan2(Math.sqrt((r=f*u)*r+(r=s*d-c*f*l)*r),c*d+s*f*l)},a.geo.graticule=function(){var n,e,r,o,i,u,l,c,s,d,f,_,h=10,p=h,m=90,y=360,x=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return a.range(Math.ceil(o/m)*m,r,m).map(f).concat(a.range(Math.ceil(c/y)*y,l,y).map(_)).concat(a.range(Math.ceil(e/h)*h,n,h).filter((function(n){return g(n%m)>C})).map(s)).concat(a.range(Math.ceil(u/p)*p,i,p).filter((function(n){return g(n%y)>C})).map(d))}return graticule.lines=function(){return lines().map((function(n){return{type:"LineString",coordinates:n}}))},graticule.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(_(l).slice(1),f(r).reverse().slice(1),_(c).reverse().slice(1))]}},graticule.extent=function(n){return arguments.length?graticule.majorExtent(n).minorExtent(n):graticule.minorExtent()},graticule.majorExtent=function(n){return arguments.length?(o=+n[0][0],r=+n[1][0],c=+n[0][1],l=+n[1][1],o>r&&(n=o,o=r,r=n),c>l&&(n=c,c=l,l=n),graticule.precision(x)):[[o,c],[r,l]]},graticule.minorExtent=function(r){return arguments.length?(e=+r[0][0],n=+r[1][0],u=+r[0][1],i=+r[1][1],e>n&&(r=e,e=n,n=r),u>i&&(r=u,u=i,i=r),graticule.precision(x)):[[e,u],[n,i]]},graticule.step=function(n){return arguments.length?graticule.majorStep(n).minorStep(n):graticule.minorStep()},graticule.majorStep=function(n){return arguments.length?(m=+n[0],y=+n[1],graticule):[m,y]},graticule.minorStep=function(n){return arguments.length?(h=+n[0],p=+n[1],graticule):[h,p]},graticule.precision=function(a){return arguments.length?(x=+a,s=d3_geo_graticuleX(u,i,90),d=d3_geo_graticuleY(e,n,x),f=d3_geo_graticuleX(c,l,90),_=d3_geo_graticuleY(o,r,x),graticule):x},graticule.majorExtent([[-180,-90+C],[180,90-C]]).minorExtent([[-180,-80-C],[180,80+C]])},a.geo.greatArc=function(){var n,e,r=d3_source,o=d3_target;function greatArc(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),e||o.apply(this,arguments)]}}return greatArc.distance=function(){return a.geo.distance(n||r.apply(this,arguments),e||o.apply(this,arguments))},greatArc.source=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,greatArc):r},greatArc.target=function(n){return arguments.length?(o=n,e="function"==typeof n?null:n,greatArc):o},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},a.geo.interpolate=function(n,e){return function d3_geo_interpolate(n,e,r,o){var i=Math.cos(e),a=Math.sin(e),u=Math.cos(o),l=Math.sin(o),c=i*Math.cos(n),s=i*Math.sin(n),d=u*Math.cos(r),f=u*Math.sin(r),_=2*Math.asin(Math.sqrt(d3_haversin(o-e)+i*u*d3_haversin(r-n))),h=1/Math.sin(_),g=_?function(n){var e=Math.sin(n*=_)*h,r=Math.sin(_-n)*h,o=r*c+e*d,i=r*s+e*f,u=r*a+e*l;return[Math.atan2(i,o)*q,Math.atan2(u,Math.sqrt(o*o+i*i))*q]}:function(){return[n*q,e*q]};return g.distance=_,g}(n[0]*T,n[1]*T,e[0]*T,e[1]*T)},a.geo.length=function(n){return Tt=0,a.geo.stream(n,Dt),Tt};var Dt={sphere:d3_noop,point:d3_noop,lineStart:function d3_geo_lengthLineStart(){var n,e,r;function nextPoint(o,i){var a=Math.sin(i*=T),u=Math.cos(i),l=g((o*=T)-n),c=Math.cos(l);Tt+=Math.atan2(Math.sqrt((l=u*Math.sin(l))*l+(l=r*a-e*u*c)*l),e*a+r*u*c),n=o,e=a,r=u}Dt.point=function(o,i){n=o*T,e=Math.sin(i*=T),r=Math.cos(i),Dt.point=nextPoint},Dt.lineEnd=function(){Dt.point=Dt.lineEnd=d3_noop}},lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_azimuthal(n,e){function azimuthal(e,r){var o=Math.cos(e),i=Math.cos(r),a=n(o*i);return[a*i*Math.sin(e),a*Math.sin(r)]}return azimuthal.invert=function(n,r){var o=Math.sqrt(n*n+r*r),i=e(o),a=Math.sin(i),u=Math.cos(i);return[Math.atan2(n*a,o*u),Math.asin(o&&r*a/o)]},azimuthal}var jt=d3_geo_azimuthal((function(n){return Math.sqrt(2/(1+n))}),(function(n){return 2*Math.asin(n/2)}));(a.geo.azimuthalEqualArea=function(){return d3_geo_projection(jt)}).raw=jt;var Bt=d3_geo_azimuthal((function(n){var e=Math.acos(n);return e&&e/Math.sin(e)}),d3_identity);function d3_geo_conicConformal(n,e){var r=Math.cos(n),t=function(n){return Math.tan(P/4+n/2)},o=n===e?Math.sin(n):Math.log(r/Math.cos(e))/Math.log(t(e)/t(n)),i=r*Math.pow(t(n),o)/o;if(!o)return d3_geo_mercator;function forward(n,e){i>0?e<-L+C&&(e=-L+C):e>L-C&&(e=L-C);var r=i/Math.pow(t(e),o);return[r*Math.sin(o*n),i-r*Math.cos(o*n)]}return forward.invert=function(n,e){var r=i-e,a=d3_sgn(o)*Math.sqrt(n*n+r*r);return[Math.atan2(n,r)/o,2*Math.atan(Math.pow(i/a,1/o))-L]},forward}function d3_geo_conicEquidistant(n,e){var r=Math.cos(n),o=n===e?Math.sin(n):(r-Math.cos(e))/(e-n),i=r/o+n;if(g(o)<C)return d3_geo_equirectangular;function forward(n,e){var r=i-e;return[r*Math.sin(o*n),i-r*Math.cos(o*n)]}return forward.invert=function(n,e){var r=i-e;return[Math.atan2(n,r)/o,i-d3_sgn(o)*Math.sqrt(n*n+r*r)]},forward}(a.geo.azimuthalEquidistant=function(){return d3_geo_projection(Bt)}).raw=Bt,(a.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(a.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var It=d3_geo_azimuthal((function(n){return 1/n}),Math.atan);function d3_geo_mercator(n,e){return[n,Math.log(Math.tan(P/4+e/2))]}function d3_geo_mercatorProjection(n){var e,r=d3_geo_projection(n),o=r.scale,i=r.translate,a=r.clipExtent;return r.scale=function(){var n=o.apply(r,arguments);return n===r?e?r.clipExtent(null):r:n},r.translate=function(){var n=i.apply(r,arguments);return n===r?e?r.clipExtent(null):r:n},r.clipExtent=function(n){var u=a.apply(r,arguments);if(u===r){if(e=null==n){var l=P*o(),c=i();a([[c[0]-l,c[1]-l],[c[0]+l,c[1]+l]])}}else e&&(u=null);return u},r.clipExtent(null)}(a.geo.gnomonic=function(){return d3_geo_projection(It)}).raw=It,d3_geo_mercator.invert=function(n,e){return[n,2*Math.atan(Math.exp(e))-L]},(a.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var Ft=d3_geo_azimuthal((function(){return 1}),Math.asin);(a.geo.orthographic=function(){return d3_geo_projection(Ft)}).raw=Ft;var Ut=d3_geo_azimuthal((function(n){return 1/(1+n)}),(function(n){return 2*Math.atan(n)}));function d3_geo_transverseMercator(n,e){return[Math.log(Math.tan(P/4+e/2)),-n]}function d3_geom_pointX(n){return n[0]}function d3_geom_pointY(n){return n[1]}function d3_geom_hullUpper(n){for(var e=n.length,r=[0,1],o=2,i=2;i<e;i++){for(;o>1&&d3_cross2d(n[r[o-2]],n[r[o-1]],n[i])<=0;)--o;r[o++]=i}return r.slice(0,o)}function d3_geom_hullOrder(n,e){return n[0]-e[0]||n[1]-e[1]}(a.geo.stereographic=function(){return d3_geo_projection(Ut)}).raw=Ut,d3_geo_transverseMercator.invert=function(n,e){return[-e,2*Math.atan(Math.exp(n))-L]},(a.geo.transverseMercator=function(){var n=d3_geo_mercatorProjection(d3_geo_transverseMercator),e=n.center,r=n.rotate;return n.center=function(n){return n?e([-n[1],n[0]]):[(n=e())[1],-n[0]]},n.rotate=function(n){return n?r([n[0],n[1],n.length>2?n[2]+90:90]):[(n=r())[0],n[1],n[2]-90]},r([0,0,90])}).raw=d3_geo_transverseMercator,a.geom={},a.geom.hull=function(n){var e=d3_geom_pointX,r=d3_geom_pointY;if(arguments.length)return hull(n);function hull(n){if(n.length<3)return[];var o,i=d3_functor(e),a=d3_functor(r),u=n.length,l=[],c=[];for(o=0;o<u;o++)l.push([+i.call(this,n[o],o),+a.call(this,n[o],o),o]);for(l.sort(d3_geom_hullOrder),o=0;o<u;o++)c.push([l[o][0],-l[o][1]]);var s=d3_geom_hullUpper(l),d=d3_geom_hullUpper(c),f=d[0]===s[0],_=d[d.length-1]===s[s.length-1],h=[];for(o=s.length-1;o>=0;--o)h.push(n[l[s[o]][2]]);for(o=+f;o<d.length-_;++o)h.push(n[l[d[o]][2]]);return h}return hull.x=function(n){return arguments.length?(e=n,hull):e},hull.y=function(n){return arguments.length?(r=n,hull):r},hull},a.geom.polygon=function(n){return y(n,Ot),n};var Ot=a.geom.polygon.prototype=[];function d3_geom_polygonInside(n,e,r){return(r[0]-e[0])*(n[1]-e[1])<(r[1]-e[1])*(n[0]-e[0])}function d3_geom_polygonIntersect(n,e,r,o){var i=n[0],a=r[0],u=e[0]-i,l=o[0]-a,c=n[1],s=r[1],d=e[1]-c,f=o[1]-s,_=(l*(c-s)-f*(i-a))/(f*u-l*d);return[i+_*u,c+_*d]}function d3_geom_polygonClosed(n){var e=n[0],r=n[n.length-1];return!(e[0]-r[0]||e[1]-r[1])}Ot.area=function(){for(var n,e=-1,r=this.length,o=this[r-1],i=0;++e<r;)n=o,o=this[e],i+=n[1]*o[0]-n[0]*o[1];return.5*i},Ot.centroid=function(n){var e,r,o=-1,i=this.length,a=0,u=0,l=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++o<i;)e=l,l=this[o],r=e[0]*l[1]-l[0]*e[1],a+=(e[0]+l[0])*r,u+=(e[1]+l[1])*r;return[a*n,u*n]},Ot.clip=function(n){for(var e,r,o,i,a,u,l=d3_geom_polygonClosed(n),c=-1,s=this.length-d3_geom_polygonClosed(this),d=this[s-1];++c<s;){for(e=n.slice(),n.length=0,i=this[c],a=e[(o=e.length-l)-1],r=-1;++r<o;)d3_geom_polygonInside(u=e[r],d,i)?(d3_geom_polygonInside(a,d,i)||n.push(d3_geom_polygonIntersect(a,u,d,i)),n.push(u)):d3_geom_polygonInside(a,d,i)&&n.push(d3_geom_polygonIntersect(a,u,d,i)),a=u;l&&n.push(n[0]),d=i}return n};var Yt,Ht,Vt,Xt,Zt,Wt=[],$t=[];function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(n){var e=Wt.pop()||new d3_geom_voronoiBeach;return e.site=n,e}function d3_geom_voronoiDetachBeach(n){d3_geom_voronoiDetachCircle(n),Vt.remove(n),Wt.push(n),d3_geom_voronoiRedBlackNode(n)}function d3_geom_voronoiRemoveBeach(n){var e=n.circle,r=e.x,o=e.cy,i={x:r,y:o},a=n.P,u=n.N,l=[n];d3_geom_voronoiDetachBeach(n);for(var c=a;c.circle&&g(r-c.circle.x)<C&&g(o-c.circle.cy)<C;)a=c.P,l.unshift(c),d3_geom_voronoiDetachBeach(c),c=a;l.unshift(c),d3_geom_voronoiDetachCircle(c);for(var s=u;s.circle&&g(r-s.circle.x)<C&&g(o-s.circle.cy)<C;)u=s.N,l.push(s),d3_geom_voronoiDetachBeach(s),s=u;l.push(s),d3_geom_voronoiDetachCircle(s);var d,f=l.length;for(d=1;d<f;++d)s=l[d],c=l[d-1],d3_geom_voronoiSetEdgeEnd(s.edge,c.site,s.site,i);c=l[0],(s=l[f-1]).edge=d3_geom_voronoiCreateEdge(c.site,s.site,null,i),d3_geom_voronoiAttachCircle(c),d3_geom_voronoiAttachCircle(s)}function d3_geom_voronoiAddBeach(n){for(var e,r,o,i,a=n.x,u=n.y,l=Vt._;l;)if((o=d3_geom_voronoiLeftBreakPoint(l,u)-a)>C)l=l.L;else{if(!((i=a-d3_geom_voronoiRightBreakPoint(l,u))>C)){o>-C?(e=l.P,r=l):i>-C?(e=l,r=l.N):e=r=l;break}if(!l.R){e=l;break}l=l.R}var c=d3_geom_voronoiCreateBeach(n);if(Vt.insert(e,c),e||r){if(e===r)return d3_geom_voronoiDetachCircle(e),r=d3_geom_voronoiCreateBeach(e.site),Vt.insert(c,r),c.edge=r.edge=d3_geom_voronoiCreateEdge(e.site,c.site),d3_geom_voronoiAttachCircle(e),void d3_geom_voronoiAttachCircle(r);if(r){d3_geom_voronoiDetachCircle(e),d3_geom_voronoiDetachCircle(r);var s=e.site,d=s.x,f=s.y,_=n.x-d,h=n.y-f,g=r.site,p=g.x-d,m=g.y-f,y=2*(_*m-h*p),x=_*_+h*h,M=p*p+m*m,b={x:(m*x-h*M)/y+d,y:(_*M-p*x)/y+f};d3_geom_voronoiSetEdgeEnd(r.edge,s,g,b),c.edge=d3_geom_voronoiCreateEdge(s,n,null,b),r.edge=d3_geom_voronoiCreateEdge(n,g,null,b),d3_geom_voronoiAttachCircle(e),d3_geom_voronoiAttachCircle(r)}else c.edge=d3_geom_voronoiCreateEdge(e.site,c.site)}}function d3_geom_voronoiLeftBreakPoint(n,e){var r=n.site,o=r.x,i=r.y,a=i-e;if(!a)return o;var u=n.P;if(!u)return-1/0;var l=(r=u.site).x,c=r.y,s=c-e;if(!s)return l;var d=l-o,f=1/a-1/s,_=d/s;return f?(-_+Math.sqrt(_*_-2*f*(d*d/(-2*s)-c+s/2+i-a/2)))/f+o:(o+l)/2}function d3_geom_voronoiRightBreakPoint(n,e){var r=n.N;if(r)return d3_geom_voronoiLeftBreakPoint(r,e);var o=n.site;return o.y===e?o.x:1/0}function d3_geom_voronoiCell(n){this.site=n,this.edges=[]}function d3_geom_voronoiHalfEdgeOrder(n,e){return e.angle-n.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(n){var e=n.P,r=n.N;if(e&&r){var o=e.site,i=n.site,a=r.site;if(o!==a){var u=i.x,l=i.y,c=o.x-u,s=o.y-l,d=a.x-u,f=2*(c*(m=a.y-l)-s*d);if(!(f>=-R)){var _=c*c+s*s,h=d*d+m*m,g=(m*_-s*h)/f,p=(c*h-d*_)/f,m=p+l,y=$t.pop()||new d3_geom_voronoiCircle;y.arc=n,y.site=i,y.x=g+u,y.y=m+Math.sqrt(g*g+p*p),y.cy=m,n.circle=y;for(var x=null,M=Zt._;M;)if(y.y<M.y||y.y===M.y&&y.x<=M.x){if(!M.L){x=M.P;break}M=M.L}else{if(!M.R){x=M;break}M=M.R}Zt.insert(x,y),x||(Xt=y)}}}}function d3_geom_voronoiDetachCircle(n){var e=n.circle;e&&(e.P||(Xt=e.N),Zt.remove(e),$t.push(e),d3_geom_voronoiRedBlackNode(e),n.circle=null)}function d3_geom_voronoiConnectEdge(n,e){var r=n.b;if(r)return!0;var o,i,a=n.a,u=e[0][0],l=e[1][0],c=e[0][1],s=e[1][1],d=n.l,f=n.r,_=d.x,h=d.y,g=f.x,p=f.y,m=(_+g)/2,y=(h+p)/2;if(p===h){if(m<u||m>=l)return;if(_>g){if(a){if(a.y>=s)return}else a={x:m,y:c};r={x:m,y:s}}else{if(a){if(a.y<c)return}else a={x:m,y:s};r={x:m,y:c}}}else if(i=y-(o=(_-g)/(p-h))*m,o<-1||o>1)if(_>g){if(a){if(a.y>=s)return}else a={x:(c-i)/o,y:c};r={x:(s-i)/o,y:s}}else{if(a){if(a.y<c)return}else a={x:(s-i)/o,y:s};r={x:(c-i)/o,y:c}}else if(h<p){if(a){if(a.x>=l)return}else a={x:u,y:o*u+i};r={x:l,y:o*l+i}}else{if(a){if(a.x<u)return}else a={x:l,y:o*l+i};r={x:u,y:o*u+i}}return n.a=a,n.b=r,!0}function d3_geom_voronoiEdge(n,e){this.l=n,this.r=e,this.a=this.b=null}function d3_geom_voronoiCreateEdge(n,e,r,o){var i=new d3_geom_voronoiEdge(n,e);return Yt.push(i),r&&d3_geom_voronoiSetEdgeEnd(i,n,e,r),o&&d3_geom_voronoiSetEdgeEnd(i,e,n,o),Ht[n.i].edges.push(new d3_geom_voronoiHalfEdge(i,n,e)),Ht[e.i].edges.push(new d3_geom_voronoiHalfEdge(i,e,n)),i}function d3_geom_voronoiCreateBorderEdge(n,e,r){var o=new d3_geom_voronoiEdge(n,null);return o.a=e,o.b=r,Yt.push(o),o}function d3_geom_voronoiSetEdgeEnd(n,e,r,o){n.a||n.b?n.l===r?n.b=o:n.a=o:(n.a=o,n.l=e,n.r=r)}function d3_geom_voronoiHalfEdge(n,e,r){var o=n.a,i=n.b;this.edge=n,this.site=e,this.angle=r?Math.atan2(r.y-e.y,r.x-e.x):n.l===e?Math.atan2(i.x-o.x,o.y-i.y):Math.atan2(o.x-i.x,i.y-o.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function d3_geom_voronoiRedBlackRotateLeft(n,e){var r=e,o=e.R,i=r.U;i?i.L===r?i.L=o:i.R=o:n._=o,o.U=i,r.U=o,r.R=o.L,r.R&&(r.R.U=r),o.L=r}function d3_geom_voronoiRedBlackRotateRight(n,e){var r=e,o=e.L,i=r.U;i?i.L===r?i.L=o:i.R=o:n._=o,o.U=i,r.U=o,r.L=o.R,r.L&&(r.L.U=r),o.R=r}function d3_geom_voronoiRedBlackFirst(n){for(;n.L;)n=n.L;return n}function d3_geom_voronoi(n,e){var r,o,i,a=n.sort(d3_geom_voronoiVertexOrder).pop();for(Yt=[],Ht=new Array(n.length),Vt=new d3_geom_voronoiRedBlackTree,Zt=new d3_geom_voronoiRedBlackTree;;)if(i=Xt,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===r&&a.y===o||(Ht[a.i]=new d3_geom_voronoiCell(a),d3_geom_voronoiAddBeach(a),r=a.x,o=a.y),a=n.pop();else{if(!i)break;d3_geom_voronoiRemoveBeach(i.arc)}e&&(function d3_geom_voronoiClipEdges(n){for(var e,r=Yt,o=d3_geom_clipLine(n[0][0],n[0][1],n[1][0],n[1][1]),i=r.length;i--;)(!d3_geom_voronoiConnectEdge(e=r[i],n)||!o(e)||g(e.a.x-e.b.x)<C&&g(e.a.y-e.b.y)<C)&&(e.a=e.b=null,r.splice(i,1))}(e),function d3_geom_voronoiCloseCells(n){for(var e,r,o,i,a,u,l,c,s,d,f=n[0][0],_=n[1][0],h=n[0][1],p=n[1][1],m=Ht,y=m.length;y--;)if((a=m[y])&&a.prepare())for(c=(l=a.edges).length,u=0;u<c;)o=(d=l[u].end()).x,i=d.y,e=(s=l[++u%c].start()).x,r=s.y,(g(o-e)>C||g(i-r)>C)&&(l.splice(u,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(a.site,d,g(o-f)<C&&p-i>C?{x:f,y:g(e-f)<C?r:p}:g(i-p)<C&&_-o>C?{x:g(r-p)<C?e:_,y:p}:g(o-_)<C&&i-h>C?{x:_,y:g(e-_)<C?r:h}:g(i-h)<C&&o-f>C?{x:g(r-h)<C?e:f,y:h}:null),a.site,null)),++c)}(e));var u={cells:Ht,edges:Yt};return Vt=Zt=Yt=Ht=null,u}function d3_geom_voronoiVertexOrder(n,e){return e.y-n.y||e.x-n.x}d3_geom_voronoiCell.prototype.prepare=function(){for(var n,e=this.edges,r=e.length;r--;)(n=e[r].edge).b&&n.a||e.splice(r,1);return e.sort(d3_geom_voronoiHalfEdgeOrder),e.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(n,e){var r,o,i;if(n){if(e.P=n,e.N=n.N,n.N&&(n.N.P=e),n.N=e,n.R){for(n=n.R;n.L;)n=n.L;n.L=e}else n.R=e;r=n}else this._?(n=d3_geom_voronoiRedBlackFirst(this._),e.P=null,e.N=n,n.P=n.L=e,r=n):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,n=e;r&&r.C;)r===(o=r.U).L?(i=o.R)&&i.C?(r.C=i.C=!1,o.C=!0,n=o):(n===r.R&&(d3_geom_voronoiRedBlackRotateLeft(this,r),r=(n=r).U),r.C=!1,o.C=!0,d3_geom_voronoiRedBlackRotateRight(this,o)):(i=o.L)&&i.C?(r.C=i.C=!1,o.C=!0,n=o):(n===r.L&&(d3_geom_voronoiRedBlackRotateRight(this,r),r=(n=r).U),r.C=!1,o.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,o)),r=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var e,r,o,i=n.U,a=n.L,u=n.R;if(r=a?u?d3_geom_voronoiRedBlackFirst(u):a:u,i?i.L===n?i.L=r:i.R=r:this._=r,a&&u?(o=r.C,r.C=n.C,r.L=a,a.U=r,r!==u?(i=r.U,r.U=n.U,n=r.R,i.L=n,r.R=u,u.U=r):(r.U=i,i=r,n=r.R)):(o=n.C,n=r),n&&(n.U=i),!o)if(n&&n.C)n.C=!1;else{do{if(n===this._)break;if(n===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,d3_geom_voronoiRedBlackRotateRight(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,i),n=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,d3_geom_voronoiRedBlackRotateRight(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,i),n=this._;break}e.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}},a.geom.voronoi=function(n){var e=d3_geom_pointX,r=d3_geom_pointY,o=e,i=r,a=Gt;if(n)return voronoi(n);function voronoi(n){var e=new Array(n.length),r=a[0][0],o=a[0][1],i=a[1][0],u=a[1][1];return d3_geom_voronoi(sites(n),a).cells.forEach((function(a,l){var c=a.edges,s=a.site;(e[l]=c.length?c.map((function(n){var e=n.start();return[e.x,e.y]})):s.x>=r&&s.x<=i&&s.y>=o&&s.y<=u?[[r,u],[i,u],[i,o],[r,o]]:[]).point=n[l]})),e}function sites(n){return n.map((function(n,e){return{x:Math.round(o(n,e)/C)*C,y:Math.round(i(n,e)/C)*C,i:e}}))}return voronoi.links=function(n){return d3_geom_voronoi(sites(n)).edges.filter((function(n){return n.l&&n.r})).map((function(e){return{source:n[e.l.i],target:n[e.r.i]}}))},voronoi.triangles=function(n){var e=[];return d3_geom_voronoi(sites(n)).cells.forEach((function(r,o){for(var i,a,u,l,c=r.site,s=r.edges.sort(d3_geom_voronoiHalfEdgeOrder),d=-1,f=s.length,_=s[f-1].edge,h=_.l===c?_.r:_.l;++d<f;)_,i=h,h=(_=s[d].edge).l===c?_.r:_.l,o<i.i&&o<h.i&&(u=i,l=h,((a=c).x-l.x)*(u.y-a.y)-(a.x-u.x)*(l.y-a.y)<0)&&e.push([n[o],n[i.i],n[h.i]])})),e},voronoi.x=function(n){return arguments.length?(o=d3_functor(e=n),voronoi):e},voronoi.y=function(n){return arguments.length?(i=d3_functor(r=n),voronoi):r},voronoi.clipExtent=function(n){return arguments.length?(a=null==n?Gt:n,voronoi):a===Gt?null:a},voronoi.size=function(n){return arguments.length?voronoi.clipExtent(n&&[[0,0],n]):a===Gt?null:a&&a[1]},voronoi};var Gt=[[-1e6,-1e6],[1e6,1e6]];function d3_geom_quadtreeCompatX(n){return n.x}function d3_geom_quadtreeCompatY(n){return n.y}function d3_geom_quadtreeVisit(n,e,r,o,i,a){if(!n(e,r,o,i,a)){var u=.5*(r+i),l=.5*(o+a),c=e.nodes;c[0]&&d3_geom_quadtreeVisit(n,c[0],r,o,u,l),c[1]&&d3_geom_quadtreeVisit(n,c[1],u,o,i,l),c[2]&&d3_geom_quadtreeVisit(n,c[2],r,l,u,a),c[3]&&d3_geom_quadtreeVisit(n,c[3],u,l,i,a)}}function d3_geom_quadtreeFind(n,e,r,o,i,a,u){var l,c=1/0;return function find(n,s,d,f,_){if(!(s>a||d>u||f<o||_<i)){if(h=n.point){var h,g=e-n.x,p=r-n.y,m=g*g+p*p;if(m<c){var y=Math.sqrt(c=m);o=e-y,i=r-y,a=e+y,u=r+y,l=h}}for(var x=n.nodes,M=.5*(s+f),b=.5*(d+_),w=(r>=b)<<1|e>=M,k=w+4;w<k;++w)if(n=x[3&w])switch(3&w){case 0:find(n,s,d,M,b);break;case 1:find(n,M,d,f,b);break;case 2:find(n,s,b,M,_);break;case 3:find(n,M,b,f,_)}}}(n,o,i,a,u),l}function d3_interpolateRgb(n,e){n=a.rgb(n),e=a.rgb(e);var r=n.r,o=n.g,i=n.b,u=e.r-r,l=e.g-o,c=e.b-i;return function(n){return"#"+d3_rgb_hex(Math.round(r+u*n))+d3_rgb_hex(Math.round(o+l*n))+d3_rgb_hex(Math.round(i+c*n))}}function d3_interpolateObject(n,e){var r,o={},i={};for(r in n)r in e?o[r]=d3_interpolate(n[r],e[r]):i[r]=n[r];for(r in e)r in n||(i[r]=e[r]);return function(n){for(r in o)i[r]=o[r](n);return i}}function d3_interpolateNumber(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}function d3_interpolateString(n,e){var r,o,i,a=Jt.lastIndex=Kt.lastIndex=0,u=-1,l=[],c=[];for(n+="",e+="";(r=Jt.exec(n))&&(o=Kt.exec(e));)(i=o.index)>a&&(i=e.slice(a,i),l[u]?l[u]+=i:l[++u]=i),(r=r[0])===(o=o[0])?l[u]?l[u]+=o:l[++u]=o:(l[++u]=null,c.push({i:u,x:d3_interpolateNumber(r,o)})),a=Kt.lastIndex;return a<e.length&&(i=e.slice(a),l[u]?l[u]+=i:l[++u]=i),l.length<2?c[0]?(e=c[0].x,function(n){return e(n)+""}):function(){return e}:(e=c.length,function(n){for(var r,o=0;o<e;++o)l[(r=c[o]).i]=r.x(n);return l.join("")})}a.geom.delaunay=function(n){return a.geom.voronoi().triangles(n)},a.geom.quadtree=function(n,e,r,o,i){var a,u=d3_geom_pointX,l=d3_geom_pointY;if(a=arguments.length)return u=d3_geom_quadtreeCompatX,l=d3_geom_quadtreeCompatY,3===a&&(i=r,o=e,r=e=0),quadtree(n);function quadtree(n){var c,s,d,f,_,h,p,m,y,x=d3_functor(u),M=d3_functor(l);if(null!=e)h=e,p=r,m=o,y=i;else if(m=y=-(h=p=1/0),s=[],d=[],_=n.length,a)for(f=0;f<_;++f)(c=n[f]).x<h&&(h=c.x),c.y<p&&(p=c.y),c.x>m&&(m=c.x),c.y>y&&(y=c.y),s.push(c.x),d.push(c.y);else for(f=0;f<_;++f){var b=+x(c=n[f],f),w=+M(c,f);b<h&&(h=b),w<p&&(p=w),b>m&&(m=b),w>y&&(y=w),s.push(b),d.push(w)}var k=m-h,S=y-p;function insert(n,e,r,o,i,a,u,l){if(!isNaN(r)&&!isNaN(o))if(n.leaf){var c=n.x,s=n.y;if(null!=c)if(g(c-r)+g(s-o)<.01)insertChild(n,e,r,o,i,a,u,l);else{var d=n.point;n.x=n.y=n.point=null,insertChild(n,d,c,s,i,a,u,l),insertChild(n,e,r,o,i,a,u,l)}else n.x=r,n.y=o,n.point=e}else insertChild(n,e,r,o,i,a,u,l)}function insertChild(n,e,r,o,i,a,u,l){var c=.5*(i+u),s=.5*(a+l),d=r>=c,f=o>=s,_=f<<1|d;n.leaf=!1,d?i=c:u=c,f?a=s:l=s,insert(n=n.nodes[_]||(n.nodes[_]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,r,o,i,a,u,l)}k>S?y=p+k:m=h+S;var N={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(n){insert(N,n,+x(n,++f),+M(n,f),h,p,m,y)},visit:function(n){d3_geom_quadtreeVisit(n,N,h,p,m,y)},find:function(n){return d3_geom_quadtreeFind(N,n[0],n[1],h,p,m,y)}};if(f=-1,null==e){for(;++f<_;)insert(N,n[f],s[f],d[f],h,p,m,y);--f}else n.forEach(N.add);return s=d=n=c=null,N}return quadtree.x=function(n){return arguments.length?(u=n,quadtree):u},quadtree.y=function(n){return arguments.length?(l=n,quadtree):l},quadtree.extent=function(n){return arguments.length?(null==n?e=r=o=i=null:(e=+n[0][0],r=+n[0][1],o=+n[1][0],i=+n[1][1]),quadtree):null==e?null:[[e,r],[o,i]]},quadtree.size=function(n){return arguments.length?(null==n?e=r=o=i=null:(e=r=0,o=+n[0],i=+n[1]),quadtree):null==e?null:[o-e,i-r]},quadtree},a.interpolateRgb=d3_interpolateRgb,a.interpolateObject=d3_interpolateObject,a.interpolateNumber=d3_interpolateNumber,a.interpolateString=d3_interpolateString;var Jt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kt=new RegExp(Jt.source,"g");function d3_interpolate(n,e){for(var r,o=a.interpolators.length;--o>=0&&!(r=a.interpolators[o](n,e)););return r}function d3_interpolateArray(n,e){var r,o=[],i=[],a=n.length,u=e.length,l=Math.min(n.length,e.length);for(r=0;r<l;++r)o.push(d3_interpolate(n[r],e[r]));for(;r<a;++r)i[r]=n[r];for(;r<u;++r)i[r]=e[r];return function(n){for(r=0;r<l;++r)i[r]=o[r](n);return i}}a.interpolate=d3_interpolate,a.interpolators=[function(n,e){var r=typeof e;return("string"===r?V.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?d3_interpolateRgb:d3_interpolateString:e instanceof d3_color?d3_interpolateRgb:Array.isArray(e)?d3_interpolateArray:"object"===r&&isNaN(e)?d3_interpolateObject:d3_interpolateNumber)(n,e)}],a.interpolateArray=d3_interpolateArray;var d3_ease_default=function(){return d3_identity},Qt=a.map({linear:d3_ease_default,poly:function d3_ease_poly(n){return function(e){return Math.pow(e,n)}},quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:function d3_ease_elastic(n,e){var r;arguments.length<2&&(e=.45);arguments.length?r=e/A*Math.asin(1/n):(n=1,r=e/4);return function(o){return 1+n*Math.pow(2,-10*o)*Math.sin((o-r)*A/e)}},back:function d3_ease_back(n){n||(n=1.70158);return function(e){return e*e*((n+1)*e-n)}},bounce:function(){return d3_ease_bounce}}),tn=a.map({in:d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(n){return d3_ease_reflect(d3_ease_reverse(n))}});function d3_ease_clamp(n){return function(e){return e<=0?0:e>=1?1:n(e)}}function d3_ease_reverse(n){return function(e){return 1-n(1-e)}}function d3_ease_reflect(n){return function(e){return.5*(e<.5?n(2*e):2-n(2-2*e))}}function d3_ease_quad(n){return n*n}function d3_ease_cubic(n){return n*n*n}function d3_ease_cubicInOut(n){if(n<=0)return 0;if(n>=1)return 1;var e=n*n,r=e*n;return 4*(n<.5?r:3*(n-e)+r-.75)}function d3_ease_sin(n){return 1-Math.cos(n*L)}function d3_ease_exp(n){return Math.pow(2,10*(n-1))}function d3_ease_circle(n){return 1-Math.sqrt(1-n*n)}function d3_ease_bounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function d3_interpolateRound(n,e){return e-=n,function(r){return Math.round(n+e*r)}}function d3_transform(n){var e=[n.a,n.b],r=[n.c,n.d],o=d3_transformNormalize(e),i=d3_transformDot(e,r),a=d3_transformNormalize(function d3_transformCombine(n,e,r){return n[0]+=r*e[0],n[1]+=r*e[1],n}(r,e,-i))||0;e[0]*r[1]<r[0]*e[1]&&(e[0]*=-1,e[1]*=-1,o*=-1,i*=-1),this.rotate=(o?Math.atan2(e[1],e[0]):Math.atan2(-r[0],r[1]))*q,this.translate=[n.e,n.f],this.scale=[o,a],this.skew=a?Math.atan2(i,a)*q:0}function d3_transformDot(n,e){return n[0]*e[0]+n[1]*e[1]}function d3_transformNormalize(n){var e=Math.sqrt(d3_transformDot(n,n));return e&&(n[0]/=e,n[1]/=e),e}a.ease=function(n){var e=n.indexOf("-"),r=e>=0?n.slice(0,e):n,o=e>=0?n.slice(e+1):"in";return r=Qt.get(r)||d3_ease_default,d3_ease_clamp((o=tn.get(o)||d3_identity)(r.apply(null,u.call(arguments,1))))},a.interpolateHcl=function d3_interpolateHcl(n,e){n=a.hcl(n),e=a.hcl(e);var r=n.h,o=n.c,i=n.l,u=e.h-r,l=e.c-o,c=e.l-i;isNaN(l)&&(l=0,o=isNaN(o)?e.c:o);isNaN(u)?(u=0,r=isNaN(r)?e.h:r):u>180?u-=360:u<-180&&(u+=360);return function(n){return d3_hcl_lab(r+u*n,o+l*n,i+c*n)+""}},a.interpolateHsl=function d3_interpolateHsl(n,e){n=a.hsl(n),e=a.hsl(e);var r=n.h,o=n.s,i=n.l,u=e.h-r,l=e.s-o,c=e.l-i;isNaN(l)&&(l=0,o=isNaN(o)?e.s:o);isNaN(u)?(u=0,r=isNaN(r)?e.h:r):u>180?u-=360:u<-180&&(u+=360);return function(n){return d3_hsl_rgb(r+u*n,o+l*n,i+c*n)+""}},a.interpolateLab=function d3_interpolateLab(n,e){n=a.lab(n),e=a.lab(e);var r=n.l,o=n.a,i=n.b,u=e.l-r,l=e.a-o,c=e.b-i;return function(n){return d3_lab_rgb(r+u*n,o+l*n,i+c*n)+""}},a.interpolateRound=d3_interpolateRound,a.transform=function(n){var e=l.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(n){if(null!=n){e.setAttribute("transform",n);var r=e.transform.baseVal.consolidate()}return new d3_transform(r?r.matrix:nn)})(n)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var nn={a:1,b:0,c:0,d:1,e:0,f:0};function d3_interpolateTransformPop(n){return n.length?n.pop()+",":""}function d3_interpolateTransform(n,e){var r=[],o=[];return n=a.transform(n),e=a.transform(e),function d3_interpolateTranslate(n,e,r,o){if(n[0]!==e[0]||n[1]!==e[1]){var i=r.push("translate(",null,",",null,")");o.push({i:i-4,x:d3_interpolateNumber(n[0],e[0])},{i:i-2,x:d3_interpolateNumber(n[1],e[1])})}else(e[0]||e[1])&&r.push("translate("+e+")")}(n.translate,e.translate,r,o),function d3_interpolateRotate(n,e,r,o){n!==e?(n-e>180?e+=360:e-n>180&&(n+=360),o.push({i:r.push(d3_interpolateTransformPop(r)+"rotate(",null,")")-2,x:d3_interpolateNumber(n,e)})):e&&r.push(d3_interpolateTransformPop(r)+"rotate("+e+")")}(n.rotate,e.rotate,r,o),function d3_interpolateSkew(n,e,r,o){n!==e?o.push({i:r.push(d3_interpolateTransformPop(r)+"skewX(",null,")")-2,x:d3_interpolateNumber(n,e)}):e&&r.push(d3_interpolateTransformPop(r)+"skewX("+e+")")}(n.skew,e.skew,r,o),function d3_interpolateScale(n,e,r,o){if(n[0]!==e[0]||n[1]!==e[1]){var i=r.push(d3_interpolateTransformPop(r)+"scale(",null,",",null,")");o.push({i:i-4,x:d3_interpolateNumber(n[0],e[0])},{i:i-2,x:d3_interpolateNumber(n[1],e[1])})}else 1===e[0]&&1===e[1]||r.push(d3_interpolateTransformPop(r)+"scale("+e+")")}(n.scale,e.scale,r,o),n=e=null,function(n){for(var e,i=-1,a=o.length;++i<a;)r[(e=o[i]).i]=e.x(n);return r.join("")}}function d3_uninterpolateNumber(n,e){return e=(e-=n=+n)||1/e,function(r){return(r-n)/e}}function d3_uninterpolateClamp(n,e){return e=(e-=n=+n)||1/e,function(r){return Math.max(0,Math.min(1,(r-n)/e))}}function d3_layout_bundlePath(n){for(var e=n.source,r=n.target,o=function d3_layout_bundleLeastCommonAncestor(n,e){if(n===e)return n;var r=d3_layout_bundleAncestors(n),o=d3_layout_bundleAncestors(e),i=r.pop(),a=o.pop(),u=null;for(;i===a;)u=i,i=r.pop(),a=o.pop();return u}(e,r),i=[e];e!==o;)e=e.parent,i.push(e);for(var a=i.length;r!==o;)i.splice(a,0,r),r=r.parent;return i}function d3_layout_bundleAncestors(n){for(var e=[],r=n.parent;null!=r;)e.push(n),n=r,r=r.parent;return e.push(n),e}function d3_layout_forceDragstart(n){n.fixed|=2}function d3_layout_forceDragend(n){n.fixed&=-7}function d3_layout_forceMouseover(n){n.fixed|=4,n.px=n.x,n.py=n.y}function d3_layout_forceMouseout(n){n.fixed&=-5}a.interpolateTransform=d3_interpolateTransform,a.layout={},a.layout.bundle=function(){return function(n){for(var e=[],r=-1,o=n.length;++r<o;)e.push(d3_layout_bundlePath(n[r]));return e}},a.layout.chord=function(){var n,e,r,o,i,u,l,c={},s=0;function relayout(){var c,d,f,_,h,g={},p=[],m=a.range(o),y=[];for(n=[],e=[],c=0,_=-1;++_<o;){for(d=0,h=-1;++h<o;)d+=r[_][h];p.push(d),y.push(a.range(o)),c+=d}for(i&&m.sort((function(n,e){return i(p[n],p[e])})),u&&y.forEach((function(n,e){n.sort((function(n,o){return u(r[e][n],r[e][o])}))})),c=(A-s*o)/c,d=0,_=-1;++_<o;){for(f=d,h=-1;++h<o;){var x=m[_],M=y[x][h],b=r[x][M],w=d,k=d+=b*c;g[x+"-"+M]={index:x,subindex:M,startAngle:w,endAngle:k,value:b}}e[x]={index:x,startAngle:f,endAngle:d,value:p[x]},d+=s}for(_=-1;++_<o;)for(h=_-1;++h<o;){var S=g[_+"-"+h],N=g[h+"-"+_];(S.value||N.value)&&n.push(S.value<N.value?{source:N,target:S}:{source:S,target:N})}l&&resort()}function resort(){n.sort((function(n,e){return l((n.source.value+n.target.value)/2,(e.source.value+e.target.value)/2)}))}return c.matrix=function(i){return arguments.length?(o=(r=i)&&r.length,n=e=null,c):r},c.padding=function(r){return arguments.length?(s=r,n=e=null,c):s},c.sortGroups=function(r){return arguments.length?(i=r,n=e=null,c):i},c.sortSubgroups=function(e){return arguments.length?(u=e,n=null,c):u},c.sortChords=function(e){return arguments.length?(l=e,n&&resort(),c):l},c.chords=function(){return n||relayout(),n},c.groups=function(){return e||relayout(),e},c},a.layout.force=function(){var n,e,r,o,i,u,l={},c=a.dispatch("start","tick","end"),s=[1,1],d=.9,f=en,_=rn,h=-30,g=on,p=.1,m=.64,y=[],x=[];function repulse(n){return function(e,r,o,i){if(e.point!==n){var a=e.cx-n.x,u=e.cy-n.y,l=i-r,c=a*a+u*u;if(l*l/m<c){if(c<g){var s=e.charge/c;n.px-=a*s,n.py-=u*s}return!0}if(e.point&&c&&c<g){s=e.pointCharge/c;n.px-=a*s,n.py-=u*s}}return!e.charge}}function dragmove(n){n.px=a.event.x,n.py=a.event.y,l.resume()}return l.tick=function(){if((r*=.99)<.005)return n=null,c.end({type:"end",alpha:r=0}),!0;var e,l,f,_,g,m,M,b,w,k=y.length,S=x.length;for(l=0;l<S;++l)_=(f=x[l]).source,(m=(b=(g=f.target).x-_.x)*b+(w=g.y-_.y)*w)&&(b*=m=r*i[l]*((m=Math.sqrt(m))-o[l])/m,w*=m,g.x-=b*(M=_.weight+g.weight?_.weight/(_.weight+g.weight):.5),g.y-=w*M,_.x+=b*(M=1-M),_.y+=w*M);if((M=r*p)&&(b=s[0]/2,w=s[1]/2,l=-1,M))for(;++l<k;)(f=y[l]).x+=(b-f.x)*M,f.y+=(w-f.y)*M;if(h)for(!function d3_layout_forceAccumulate(n,e,r){var o=0,i=0;if(n.charge=0,!n.leaf)for(var a,u=n.nodes,l=u.length,c=-1;++c<l;)null!=(a=u[c])&&(d3_layout_forceAccumulate(a,e,r),n.charge+=a.charge,o+=a.charge*a.cx,i+=a.charge*a.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var s=e*r[n.point.index];n.charge+=n.pointCharge=s,o+=s*n.point.x,i+=s*n.point.y}n.cx=o/n.charge,n.cy=i/n.charge}(e=a.geom.quadtree(y),r,u),l=-1;++l<k;)(f=y[l]).fixed||e.visit(repulse(f));for(l=-1;++l<k;)(f=y[l]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*d,f.y-=(f.py-(f.py=f.y))*d);c.tick({type:"tick",alpha:r})},l.nodes=function(n){return arguments.length?(y=n,l):y},l.links=function(n){return arguments.length?(x=n,l):x},l.size=function(n){return arguments.length?(s=n,l):s},l.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,l):f},l.distance=l.linkDistance,l.linkStrength=function(n){return arguments.length?(_="function"==typeof n?n:+n,l):_},l.friction=function(n){return arguments.length?(d=+n,l):d},l.charge=function(n){return arguments.length?(h="function"==typeof n?n:+n,l):h},l.chargeDistance=function(n){return arguments.length?(g=n*n,l):Math.sqrt(g)},l.gravity=function(n){return arguments.length?(p=+n,l):p},l.theta=function(n){return arguments.length?(m=n*n,l):Math.sqrt(m)},l.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(n.c=null,n.t=NaN,n=null,c.end({type:"end",alpha:r=0})):e>0&&(c.start({type:"start",alpha:r=e}),n=d3_timer(l.tick)),l):r},l.start=function(){var n,e,r,a=y.length,c=x.length,d=s[0],g=s[1];for(n=0;n<a;++n)(r=y[n]).index=n,r.weight=0;for(n=0;n<c;++n)"number"==typeof(r=x[n]).source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(n=0;n<a;++n)r=y[n],isNaN(r.x)&&(r.x=position("x",d)),isNaN(r.y)&&(r.y=position("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof f)for(n=0;n<c;++n)o[n]=+f.call(this,x[n],n);else for(n=0;n<c;++n)o[n]=f;if(i=[],"function"==typeof _)for(n=0;n<c;++n)i[n]=+_.call(this,x[n],n);else for(n=0;n<c;++n)i[n]=_;if(u=[],"function"==typeof h)for(n=0;n<a;++n)u[n]=+h.call(this,y[n],n);else for(n=0;n<a;++n)u[n]=h;function position(r,o){if(!e){for(e=new Array(a),s=0;s<a;++s)e[s]=[];for(s=0;s<c;++s){var i=x[s];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var u,l=e[n],s=-1,d=l.length;++s<d;)if(!isNaN(u=l[s][r]))return u;return Math.random()*o}return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(e||(e=a.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),!arguments.length)return e;this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(e)},a.rebind(l,c,"on")};var en=20,rn=1,on=1/0;function d3_layout_hierarchyRebind(n,e){return a.rebind(n,e,"sort","children","value"),n.nodes=n,n.links=d3_layout_hierarchyLinks,n}function d3_layout_hierarchyVisitBefore(n,e){for(var r=[n];null!=(n=r.pop());)if(e(n),(i=n.children)&&(o=i.length))for(var o,i;--o>=0;)r.push(i[o])}function d3_layout_hierarchyVisitAfter(n,e){for(var r=[n],o=[];null!=(n=r.pop());)if(o.push(n),(a=n.children)&&(i=a.length))for(var i,a,u=-1;++u<i;)r.push(a[u]);for(;null!=(n=o.pop());)e(n)}function d3_layout_hierarchyChildren(n){return n.children}function d3_layout_hierarchyValue(n){return n.value}function d3_layout_hierarchySort(n,e){return e.value-n.value}function d3_layout_hierarchyLinks(n){return a.merge(n.map((function(n){return(n.children||[]).map((function(e){return{source:n,target:e}}))})))}a.layout.hierarchy=function(){var n=d3_layout_hierarchySort,e=d3_layout_hierarchyChildren,r=d3_layout_hierarchyValue;function hierarchy(o){var i,a=[o],u=[];for(o.depth=0;null!=(i=a.pop());)if(u.push(i),(c=e.call(hierarchy,i,i.depth))&&(l=c.length)){for(var l,c,s;--l>=0;)a.push(s=c[l]),s.parent=i,s.depth=i.depth+1;r&&(i.value=0),i.children=c}else r&&(i.value=+r.call(hierarchy,i,i.depth)||0),delete i.children;return d3_layout_hierarchyVisitAfter(o,(function(e){var o,i;n&&(o=e.children)&&o.sort(n),r&&(i=e.parent)&&(i.value+=e.value)})),u}return hierarchy.sort=function(e){return arguments.length?(n=e,hierarchy):n},hierarchy.children=function(n){return arguments.length?(e=n,hierarchy):e},hierarchy.value=function(n){return arguments.length?(r=n,hierarchy):r},hierarchy.revalue=function(n){return r&&(d3_layout_hierarchyVisitBefore(n,(function(n){n.children&&(n.value=0)})),d3_layout_hierarchyVisitAfter(n,(function(n){var e;n.children||(n.value=+r.call(hierarchy,n,n.depth)||0),(e=n.parent)&&(e.value+=n.value)}))),n},hierarchy},a.layout.partition=function(){var n=a.layout.hierarchy(),e=[1,1];function partition(r,o){var i=n.call(this,r,o);return function position(n,e,r,o){var i=n.children;if(n.x=e,n.y=n.depth*o,n.dx=r,n.dy=o,i&&(a=i.length)){var a,u,l,c=-1;for(r=n.value?r/n.value:0;++c<a;)position(u=i[c],e,l=u.value*r,o),e+=l}}(i[0],0,e[0],e[1]/function depth(n){var e=n.children,r=0;if(e&&(o=e.length))for(var o,i=-1;++i<o;)r=Math.max(r,depth(e[i]));return 1+r}(i[0])),i}return partition.size=function(n){return arguments.length?(e=n,partition):e},d3_layout_hierarchyRebind(partition,n)},a.layout.pie=function(){var n=Number,e=an,r=0,o=A,i=0;function pie(u){var l,c=u.length,s=u.map((function(e,r){return+n.call(pie,e,r)})),d=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof o?o.apply(this,arguments):o)-d,_=Math.min(Math.abs(f)/c,+("function"==typeof i?i.apply(this,arguments):i)),h=_*(f<0?-1:1),g=a.sum(s),p=g?(f-c*h)/g:0,m=a.range(c),y=[];return null!=e&&m.sort(e===an?function(n,e){return s[e]-s[n]}:function(n,r){return e(u[n],u[r])}),m.forEach((function(n){y[n]={data:u[n],value:l=s[n],startAngle:d,endAngle:d+=l*p+h,padAngle:_}})),y}return pie.value=function(e){return arguments.length?(n=e,pie):n},pie.sort=function(n){return arguments.length?(e=n,pie):e},pie.startAngle=function(n){return arguments.length?(r=n,pie):r},pie.endAngle=function(n){return arguments.length?(o=n,pie):o},pie.padAngle=function(n){return arguments.length?(i=n,pie):i},pie};var an={};function d3_layout_stackX(n){return n.x}function d3_layout_stackY(n){return n.y}function d3_layout_stackOut(n,e,r){n.y0=e,n.y=r}a.layout.stack=function(){var n=d3_identity,e=d3_layout_stackOrderDefault,r=d3_layout_stackOffsetZero,o=d3_layout_stackOut,i=d3_layout_stackX,u=d3_layout_stackY;function stack(l,c){if(!(_=l.length))return l;var s=l.map((function(e,r){return n.call(stack,e,r)})),d=s.map((function(n){return n.map((function(n,e){return[i.call(stack,n,e),u.call(stack,n,e)]}))})),f=e.call(stack,d,c);s=a.permute(s,f),d=a.permute(d,f);var _,h,g,p,m=r.call(stack,d,c),y=s[0].length;for(g=0;g<y;++g)for(o.call(stack,s[0][g],p=m[g],d[0][g][1]),h=1;h<_;++h)o.call(stack,s[h][g],p+=d[h-1][g][1],d[h][g][1]);return l}return stack.values=function(e){return arguments.length?(n=e,stack):n},stack.order=function(n){return arguments.length?(e="function"==typeof n?n:un.get(n)||d3_layout_stackOrderDefault,stack):e},stack.offset=function(n){return arguments.length?(r="function"==typeof n?n:ln.get(n)||d3_layout_stackOffsetZero,stack):r},stack.x=function(n){return arguments.length?(i=n,stack):i},stack.y=function(n){return arguments.length?(u=n,stack):u},stack.out=function(n){return arguments.length?(o=n,stack):o},stack};var un=a.map({"inside-out":function(n){var e,r,o=n.length,i=n.map(d3_layout_stackMaxIndex),u=n.map(d3_layout_stackReduceSum),l=a.range(o).sort((function(n,e){return i[n]-i[e]})),c=0,s=0,d=[],f=[];for(e=0;e<o;++e)r=l[e],c<s?(c+=u[r],d.push(r)):(s+=u[r],f.push(r));return f.reverse().concat(d)},reverse:function(n){return a.range(n.length).reverse()},default:d3_layout_stackOrderDefault}),ln=a.map({silhouette:function(n){var e,r,o,i=n.length,a=n[0].length,u=[],l=0,c=[];for(r=0;r<a;++r){for(e=0,o=0;e<i;e++)o+=n[e][r][1];o>l&&(l=o),u.push(o)}for(r=0;r<a;++r)c[r]=(l-u[r])/2;return c},wiggle:function(n){var e,r,o,i,a,u,l,c,s,d=n.length,f=n[0],_=f.length,h=[];for(h[0]=c=s=0,r=1;r<_;++r){for(e=0,i=0;e<d;++e)i+=n[e][r][1];for(e=0,a=0,l=f[r][0]-f[r-1][0];e<d;++e){for(o=0,u=(n[e][r][1]-n[e][r-1][1])/(2*l);o<e;++o)u+=(n[o][r][1]-n[o][r-1][1])/l;a+=u*n[e][r][1]}h[r]=c-=i?a/i*l:0,c<s&&(s=c)}for(r=0;r<_;++r)h[r]-=s;return h},expand:function(n){var e,r,o,i=n.length,a=n[0].length,u=1/i,l=[];for(r=0;r<a;++r){for(e=0,o=0;e<i;e++)o+=n[e][r][1];if(o)for(e=0;e<i;e++)n[e][r][1]/=o;else for(e=0;e<i;e++)n[e][r][1]=u}for(r=0;r<a;++r)l[r]=0;return l},zero:d3_layout_stackOffsetZero});function d3_layout_stackOrderDefault(n){return a.range(n.length)}function d3_layout_stackOffsetZero(n){for(var e=-1,r=n[0].length,o=[];++e<r;)o[e]=0;return o}function d3_layout_stackMaxIndex(n){for(var e,r=1,o=0,i=n[0][1],a=n.length;r<a;++r)(e=n[r][1])>i&&(o=r,i=e);return o}function d3_layout_stackReduceSum(n){return n.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(n,e){return n+e[1]}function d3_layout_histogramBinSturges(n,e){return d3_layout_histogramBinFixed(n,Math.ceil(Math.log(e.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(n,e){for(var r=-1,o=+n[0],i=(n[1]-o)/e,a=[];++r<=e;)a[r]=i*r+o;return a}function d3_layout_histogramRange(n){return[a.min(n),a.max(n)]}function d3_layout_packSort(n,e){return n.value-e.value}function d3_layout_packInsert(n,e){var r=n._pack_next;n._pack_next=e,e._pack_prev=n,e._pack_next=r,r._pack_prev=e}function d3_layout_packSplice(n,e){n._pack_next=e,e._pack_prev=n}function d3_layout_packIntersects(n,e){var r=e.x-n.x,o=e.y-n.y,i=n.r+e.r;return.999*i*i>r*r+o*o}function d3_layout_packSiblings(n){if((e=n.children)&&(c=e.length)){var e,r,o,i,a,u,l,c,s=1/0,d=-1/0,f=1/0,_=-1/0;if(e.forEach(d3_layout_packLink),(r=e[0]).x=-r.r,r.y=0,bound(r),c>1&&((o=e[1]).x=o.r,o.y=0,bound(o),c>2))for(d3_layout_packPlace(r,o,i=e[2]),bound(i),d3_layout_packInsert(r,i),r._pack_prev=i,d3_layout_packInsert(i,o),o=r._pack_next,a=3;a<c;a++){d3_layout_packPlace(r,o,i=e[a]);var h=0,g=1,p=1;for(u=o._pack_next;u!==o;u=u._pack_next,g++)if(d3_layout_packIntersects(u,i)){h=1;break}if(1==h)for(l=r._pack_prev;l!==u._pack_prev&&!d3_layout_packIntersects(l,i);l=l._pack_prev,p++);h?(g<p||g==p&&o.r<r.r?d3_layout_packSplice(r,o=u):d3_layout_packSplice(r=l,o),a--):(d3_layout_packInsert(r,i),o=i,bound(i))}var m=(s+d)/2,y=(f+_)/2,x=0;for(a=0;a<c;a++)(i=e[a]).x-=m,i.y-=y,x=Math.max(x,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=x,e.forEach(d3_layout_packUnlink)}function bound(n){s=Math.min(n.x-n.r,s),d=Math.max(n.x+n.r,d),f=Math.min(n.y-n.r,f),_=Math.max(n.y+n.r,_)}}function d3_layout_packLink(n){n._pack_next=n._pack_prev=n}function d3_layout_packUnlink(n){delete n._pack_next,delete n._pack_prev}function d3_layout_packPlace(n,e,r){var o=n.r+r.r,i=e.x-n.x,a=e.y-n.y;if(o&&(i||a)){var u=e.r+r.r,l=i*i+a*a,c=.5+((o*=o)-(u*=u))/(2*l),s=Math.sqrt(Math.max(0,2*u*(o+l)-(o-=l)*o-u*u))/(2*l);r.x=n.x+c*i+s*a,r.y=n.y+c*a-s*i}else r.x=n.x+o,r.y=n.y}function d3_layout_treeSeparation(n,e){return n.parent==e.parent?1:2}function d3_layout_treeLeft(n){var e=n.children;return e.length?e[0]:n.t}function d3_layout_treeRight(n){var e,r=n.children;return(e=r.length)?r[e-1]:n.t}function d3_layout_treeMove(n,e,r){var o=r/(e.i-n.i);e.c-=o,e.s+=r,n.c+=o,e.z+=r,e.m+=r}function d3_layout_treeAncestor(n,e,r){return n.a.parent===e.parent?n.a:r}function d3_layout_treemapPadNull(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function d3_layout_treemapPad(n,e){var r=n.x+e[3],o=n.y+e[0],i=n.dx-e[1]-e[3],a=n.dy-e[0]-e[2];return i<0&&(r+=i/2,i=0),a<0&&(o+=a/2,a=0),{x:r,y:o,dx:i,dy:a}}function d3_scaleExtent(n){var e=n[0],r=n[n.length-1];return e<r?[e,r]:[r,e]}function d3_scaleRange(n){return n.rangeExtent?n.rangeExtent():d3_scaleExtent(n.range())}function d3_scale_bilinear(n,e,r,o){var i=r(n[0],n[1]),a=o(e[0],e[1]);return function(n){return a(i(n))}}function d3_scale_nice(n,e){var r,o=0,i=n.length-1,a=n[o],u=n[i];return u<a&&(r=o,o=i,i=r,r=a,a=u,u=r),n[o]=e.floor(a),n[i]=e.ceil(u),n}function d3_scale_niceStep(n){return n?{floor:function(e){return Math.floor(e/n)*n},ceil:function(e){return Math.ceil(e/n)*n}}:cn}a.layout.histogram=function(){var n=!0,e=Number,r=d3_layout_histogramRange,o=d3_layout_histogramBinSturges;function histogram(i,u){for(var l,c,s=[],d=i.map(e,this),f=r.call(this,d,u),_=o.call(this,f,d,u),h=(u=-1,d.length),g=_.length-1,p=n?1:1/h;++u<g;)(l=s[u]=[]).dx=_[u+1]-(l.x=_[u]),l.y=0;if(g>0)for(u=-1;++u<h;)(c=d[u])>=f[0]&&c<=f[1]&&((l=s[a.bisect(_,c,1,g)-1]).y+=p,l.push(i[u]));return s}return histogram.value=function(n){return arguments.length?(e=n,histogram):e},histogram.range=function(n){return arguments.length?(r=d3_functor(n),histogram):r},histogram.bins=function(n){return arguments.length?(o="number"==typeof n?function(e){return d3_layout_histogramBinFixed(e,n)}:d3_functor(n),histogram):o},histogram.frequency=function(e){return arguments.length?(n=!!e,histogram):n},histogram},a.layout.pack=function(){var n,e=a.layout.hierarchy().sort(d3_layout_packSort),r=0,o=[1,1];function pack(i,a){var u=e.call(this,i,a),l=u[0],c=o[0],s=o[1],d=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(l.x=l.y=0,d3_layout_hierarchyVisitAfter(l,(function(n){n.r=+d(n.value)})),d3_layout_hierarchyVisitAfter(l,d3_layout_packSiblings),r){var f=r*(n?1:Math.max(2*l.r/c,2*l.r/s))/2;d3_layout_hierarchyVisitAfter(l,(function(n){n.r+=f})),d3_layout_hierarchyVisitAfter(l,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(l,(function(n){n.r-=f}))}return function d3_layout_packTransform(n,e,r,o){var i=n.children;if(n.x=e+=o*n.x,n.y=r+=o*n.y,n.r*=o,i)for(var a=-1,u=i.length;++a<u;)d3_layout_packTransform(i[a],e,r,o)}(l,c/2,s/2,n?1:1/Math.max(2*l.r/c,2*l.r/s)),u}return pack.size=function(n){return arguments.length?(o=n,pack):o},pack.radius=function(e){return arguments.length?(n=null==e||"function"==typeof e?e:+e,pack):n},pack.padding=function(n){return arguments.length?(r=+n,pack):r},d3_layout_hierarchyRebind(pack,e)},a.layout.tree=function(){var n=a.layout.hierarchy().sort(null).value(null),e=d3_layout_treeSeparation,r=[1,1],o=null;function tree(i,a){var u=n.call(this,i,a),l=u[0],c=function wrapTree(n){var e,r={A:null,children:[n]},o=[r];for(;null!=(e=o.pop());)for(var i,a=e.children,u=0,l=a.length;u<l;++u)o.push((a[u]=i={_:a[u],parent:e,children:(i=a[u].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:u}).a=i);return r.children[0]}(l);if(d3_layout_hierarchyVisitAfter(c,firstWalk),c.parent.m=-c.z,d3_layout_hierarchyVisitBefore(c,secondWalk),o)d3_layout_hierarchyVisitBefore(l,sizeNode);else{var s=l,d=l,f=l;d3_layout_hierarchyVisitBefore(l,(function(n){n.x<s.x&&(s=n),n.x>d.x&&(d=n),n.depth>f.depth&&(f=n)}));var _=e(s,d)/2-s.x,h=r[0]/(d.x+e(d,s)/2+_),g=r[1]/(f.depth||1);d3_layout_hierarchyVisitBefore(l,(function(n){n.x=(n.x+_)*h,n.y=n.depth*g}))}return u}function firstWalk(n){var r=n.children,o=n.parent.children,i=n.i?o[n.i-1]:null;if(r.length){!function d3_layout_treeShift(n){var e,r=0,o=0,i=n.children,a=i.length;for(;--a>=0;)(e=i[a]).z+=r,e.m+=r,r+=e.s+(o+=e.c)}(n);var a=(r[0].z+r[r.length-1].z)/2;i?(n.z=i.z+e(n._,i._),n.m=n.z-a):n.z=a}else i&&(n.z=i.z+e(n._,i._));n.parent.A=function apportion(n,r,o){if(r){for(var i,a=n,u=n,l=r,c=a.parent.children[0],s=a.m,d=u.m,f=l.m,_=c.m;l=d3_layout_treeRight(l),a=d3_layout_treeLeft(a),l&&a;)c=d3_layout_treeLeft(c),(u=d3_layout_treeRight(u)).a=n,(i=l.z+f-a.z-s+e(l._,a._))>0&&(d3_layout_treeMove(d3_layout_treeAncestor(l,n,o),n,i),s+=i,d+=i),f+=l.m,s+=a.m,_+=c.m,d+=u.m;l&&!d3_layout_treeRight(u)&&(u.t=l,u.m+=f-d),a&&!d3_layout_treeLeft(c)&&(c.t=a,c.m+=s-_,o=n)}return o}(n,i,n.parent.A||o[0])}function secondWalk(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function sizeNode(n){n.x*=r[0],n.y=n.depth*r[1]}return tree.separation=function(n){return arguments.length?(e=n,tree):e},tree.size=function(n){return arguments.length?(o=null==(r=n)?sizeNode:null,tree):o?null:r},tree.nodeSize=function(n){return arguments.length?(o=null==(r=n)?null:sizeNode,tree):o?r:null},d3_layout_hierarchyRebind(tree,n)},a.layout.cluster=function(){var n=a.layout.hierarchy().sort(null).value(null),e=d3_layout_treeSeparation,r=[1,1],o=!1;function cluster(i,u){var l,c=n.call(this,i,u),s=c[0],d=0;d3_layout_hierarchyVisitAfter(s,(function(n){var r=n.children;r&&r.length?(n.x=function d3_layout_clusterX(n){return n.reduce((function(n,e){return n+e.x}),0)/n.length}(r),n.y=function d3_layout_clusterY(n){return 1+a.max(n,(function(n){return n.y}))}(r)):(n.x=l?d+=e(n,l):0,n.y=0,l=n)}));var f=function d3_layout_clusterLeft(n){var e=n.children;return e&&e.length?d3_layout_clusterLeft(e[0]):n}(s),_=function d3_layout_clusterRight(n){var e,r=n.children;return r&&(e=r.length)?d3_layout_clusterRight(r[e-1]):n}(s),h=f.x-e(f,_)/2,g=_.x+e(_,f)/2;return d3_layout_hierarchyVisitAfter(s,o?function(n){n.x=(n.x-s.x)*r[0],n.y=(s.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(s.y?n.y/s.y:1))*r[1]}),c}return cluster.separation=function(n){return arguments.length?(e=n,cluster):e},cluster.size=function(n){return arguments.length?(o=null==(r=n),cluster):o?null:r},cluster.nodeSize=function(n){return arguments.length?(o=null!=(r=n),cluster):o?r:null},d3_layout_hierarchyRebind(cluster,n)},a.layout.treemap=function(){var n,e=a.layout.hierarchy(),r=Math.round,o=[1,1],i=null,u=d3_layout_treemapPadNull,l=!1,c="squarify",s=.5*(1+Math.sqrt(5));function scale(n,e){for(var r,o,i=-1,a=n.length;++i<a;)o=(r=n[i]).value*(e<0?0:e),r.area=isNaN(o)||o<=0?0:o}function squarify(n){var e=n.children;if(e&&e.length){var r,o,i,a=u(n),l=[],s=e.slice(),d=1/0,f="slice"===c?a.dx:"dice"===c?a.dy:"slice-dice"===c?1&n.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(scale(s,a.dx*a.dy/n.value),l.area=0;(i=s.length)>0;)l.push(r=s[i-1]),l.area+=r.area,"squarify"!==c||(o=worst(l,f))<=d?(s.pop(),d=o):(l.area-=l.pop().area,position(l,f,a,!1),f=Math.min(a.dx,a.dy),l.length=l.area=0,d=1/0);l.length&&(position(l,f,a,!0),l.length=l.area=0),e.forEach(squarify)}}function stickify(n){var e=n.children;if(e&&e.length){var r,o=u(n),i=e.slice(),a=[];for(scale(i,o.dx*o.dy/n.value),a.area=0;r=i.pop();)a.push(r),a.area+=r.area,null!=r.z&&(position(a,r.z?o.dx:o.dy,o,!i.length),a.length=a.area=0);e.forEach(stickify)}}function worst(n,e){for(var r,o=n.area,i=0,a=1/0,u=-1,l=n.length;++u<l;)(r=n[u].area)&&(r<a&&(a=r),r>i&&(i=r));return e*=e,(o*=o)?Math.max(e*i*s/o,o/(e*a*s)):1/0}function position(n,e,o,i){var a,u=-1,l=n.length,c=o.x,s=o.y,d=e?r(n.area/e):0;if(e==o.dx){for((i||d>o.dy)&&(d=o.dy);++u<l;)(a=n[u]).x=c,a.y=s,a.dy=d,c+=a.dx=Math.min(o.x+o.dx-c,d?r(a.area/d):0);a.z=!0,a.dx+=o.x+o.dx-c,o.y+=d,o.dy-=d}else{for((i||d>o.dx)&&(d=o.dx);++u<l;)(a=n[u]).x=c,a.y=s,a.dx=d,s+=a.dy=Math.min(o.y+o.dy-s,d?r(a.area/d):0);a.z=!1,a.dy+=o.y+o.dy-s,o.x+=d,o.dx-=d}}function treemap(r){var i=n||e(r),a=i[0];return a.x=a.y=0,a.value?(a.dx=o[0],a.dy=o[1]):a.dx=a.dy=0,n&&e.revalue(a),scale([a],a.dx*a.dy/a.value),(n?stickify:squarify)(a),l&&(n=i),i}return treemap.size=function(n){return arguments.length?(o=n,treemap):o},treemap.padding=function(n){if(!arguments.length)return i;function padFunction(e){var r=n.call(treemap,e,e.depth);return null==r?d3_layout_treemapPadNull(e):d3_layout_treemapPad(e,"number"==typeof r?[r,r,r,r]:r)}function padConstant(e){return d3_layout_treemapPad(e,n)}var e;return u=null==(i=n)?d3_layout_treemapPadNull:"function"==(e=typeof n)?padFunction:"number"===e?(n=[n,n,n,n],padConstant):padConstant,treemap},treemap.round=function(n){return arguments.length?(r=n?Math.round:Number,treemap):r!=Number},treemap.sticky=function(e){return arguments.length?(l=e,n=null,treemap):l},treemap.ratio=function(n){return arguments.length?(s=n,treemap):s},treemap.mode=function(n){return arguments.length?(c=n+"",treemap):c},d3_layout_hierarchyRebind(treemap,e)},a.random={normal:function(n,e){var r=arguments.length;return r<2&&(e=1),r<1&&(n=0),function(){var r,o,i;do{i=(r=2*Math.random()-1)*r+(o=2*Math.random()-1)*o}while(!i||i>1);return n+e*r*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=a.random.normal.apply(a,arguments);return function(){return Math.exp(n())}},bates:function(n){var e=a.random.irwinHall(n);return function(){return e()/n}},irwinHall:function(n){return function(){for(var e=0,r=0;r<n;r++)e+=Math.random();return e}}},a.scale={};var cn={floor:d3_identity,ceil:d3_identity};function d3_scale_polylinear(n,e,r,o){var i=[],u=[],l=0,c=Math.min(n.length,e.length)-1;for(n[c]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++l<=c;)i.push(r(n[l-1],n[l])),u.push(o(e[l-1],e[l]));return function(e){var r=a.bisect(n,e,1,c)-1;return u[r](i[r](e))}}function d3_scale_linearRebind(n,e){return a.rebind(n,e,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(n,e){return d3_scale_nice(n,d3_scale_niceStep(d3_scale_linearTickRange(n,e)[2])),d3_scale_nice(n,d3_scale_niceStep(d3_scale_linearTickRange(n,e)[2])),n}function d3_scale_linearTickRange(n,e){null==e&&(e=10);var r=d3_scaleExtent(n),o=r[1]-r[0],i=Math.pow(10,Math.floor(Math.log(o/e)/Math.LN10)),a=e/o*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),r[0]=Math.ceil(r[0]/i)*i,r[1]=Math.floor(r[1]/i)*i+.5*i,r[2]=i,r}function d3_scale_linearTicks(n,e){return a.range.apply(a,d3_scale_linearTickRange(n,e))}function d3_scale_linearTickFormat(n,e,r){var o=d3_scale_linearTickRange(n,e);if(r){var i=K.exec(r);if(i.shift(),"s"===i[8]){var u=a.formatPrefix(Math.max(g(o[0]),g(o[1])));return i[7]||(i[7]="."+d3_scale_linearPrecision(u.scale(o[2]))),i[8]="f",r=a.format(i.join("")),function(n){return r(u.scale(n))+u.symbol}}i[7]||(i[7]="."+function d3_scale_linearFormatPrecision(n,e){var r=d3_scale_linearPrecision(e[2]);return n in sn?Math.abs(r-d3_scale_linearPrecision(Math.max(g(e[0]),g(e[1]))))+ +("e"!==n):r-2*("%"===n)}(i[8],o)),r=i.join("")}else r=",."+d3_scale_linearPrecision(o[2])+"f";return a.format(r)}a.scale.linear=function(){return function d3_scale_linear(n,e,r,o){var i,a;function rescale(){var u=Math.min(n.length,e.length)>2?d3_scale_polylinear:d3_scale_bilinear,l=o?d3_uninterpolateClamp:d3_uninterpolateNumber;return i=u(n,e,l,r),a=u(e,n,l,d3_interpolate),scale}function scale(n){return i(n)}return scale.invert=function(n){return a(n)},scale.domain=function(e){return arguments.length?(n=e.map(Number),rescale()):n},scale.range=function(n){return arguments.length?(e=n,rescale()):e},scale.rangeRound=function(n){return scale.range(n).interpolate(d3_interpolateRound)},scale.clamp=function(n){return arguments.length?(o=n,rescale()):o},scale.interpolate=function(n){return arguments.length?(r=n,rescale()):r},scale.ticks=function(e){return d3_scale_linearTicks(n,e)},scale.tickFormat=function(e,r){return d3_scale_linearTickFormat(n,e,r)},scale.nice=function(e){return d3_scale_linearNice(n,e),rescale()},scale.copy=function(){return d3_scale_linear(n,e,r,o)},rescale()}([0,1],[0,1],d3_interpolate,!1)};var sn={s:1,g:1,p:1,r:1,e:1};function d3_scale_linearPrecision(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}a.scale.log=function(){return function d3_scale_log(n,e,r,o){function log(n){return(r?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(e)}function pow(n){return r?Math.pow(e,n):-Math.pow(e,-n)}function scale(e){return n(log(e))}return scale.invert=function(e){return pow(n.invert(e))},scale.domain=function(e){return arguments.length?(r=e[0]>=0,n.domain((o=e.map(Number)).map(log)),scale):o},scale.base=function(r){return arguments.length?(e=+r,n.domain(o.map(log)),scale):e},scale.nice=function(){var e=d3_scale_nice(o.map(log),r?Math:fn);return n.domain(e),o=e.map(pow),scale},scale.ticks=function(){var n=d3_scaleExtent(o),i=[],a=n[0],u=n[1],l=Math.floor(log(a)),c=Math.ceil(log(u)),s=e%1?2:e;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var d=1;d<s;d++)i.push(pow(l)*d);i.push(pow(l))}else for(i.push(pow(l));l++<c;)for(d=s-1;d>0;d--)i.push(pow(l)*d);for(l=0;i[l]<a;l++);for(c=i.length;i[c-1]>u;c--);i=i.slice(l,c)}return i},scale.tickFormat=function(n,r){if(!arguments.length)return dn;arguments.length<2?r=dn:"function"!=typeof r&&(r=a.format(r));var o=Math.max(1,e*n/scale.ticks().length);return function(n){var i=n/pow(Math.round(log(n)));return i*e<e-.5&&(i*=e),i<=o?r(n):""}},scale.copy=function(){return d3_scale_log(n.copy(),e,r,o)},d3_scale_linearRebind(scale,n)}(a.scale.linear().domain([0,1]),10,!0,[1,10])};var dn=a.format(".0e"),fn={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};function d3_scale_powPow(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}a.scale.pow=function(){return function d3_scale_pow(n,e,r){var o=d3_scale_powPow(e),i=d3_scale_powPow(1/e);function scale(e){return n(o(e))}return scale.invert=function(e){return i(n.invert(e))},scale.domain=function(e){return arguments.length?(n.domain((r=e.map(Number)).map(o)),scale):r},scale.ticks=function(n){return d3_scale_linearTicks(r,n)},scale.tickFormat=function(n,e){return d3_scale_linearTickFormat(r,n,e)},scale.nice=function(n){return scale.domain(d3_scale_linearNice(r,n))},scale.exponent=function(a){return arguments.length?(o=d3_scale_powPow(e=a),i=d3_scale_powPow(1/e),n.domain(r.map(o)),scale):e},scale.copy=function(){return d3_scale_pow(n.copy(),e,r)},d3_scale_linearRebind(scale,n)}(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return function d3_scale_ordinal(n,e){var r,o,i;function scale(i){return o[((r.get(i)||("range"===e.t?r.set(i,n.push(i)):NaN))-1)%o.length]}function steps(e,r){return a.range(n.length).map((function(n){return e+r*n}))}return scale.domain=function(o){if(!arguments.length)return n;n=[],r=new d3_Map;for(var i,a=-1,u=o.length;++a<u;)r.has(i=o[a])||r.set(i,n.push(i));return scale[e.t].apply(scale,e.a)},scale.range=function(n){return arguments.length?(o=n,i=0,e={t:"range",a:arguments},scale):o},scale.rangePoints=function(r,a){arguments.length<2&&(a=0);var u=r[0],l=r[1],c=n.length<2?(u=(u+l)/2,0):(l-u)/(n.length-1+a);return o=steps(u+c*a/2,c),i=0,e={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(r,a){arguments.length<2&&(a=0);var u=r[0],l=r[1],c=n.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(n.length-1+a)|0;return o=steps(u+Math.round(c*a/2+(l-u-(n.length-1+a)*c)/2),c),i=0,e={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(r,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=r[1]<r[0],c=r[l-0],s=r[1-l],d=(s-c)/(n.length-a+2*u);return o=steps(c+d*u,d),l&&o.reverse(),i=d*(1-a),e={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(r,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=r[1]<r[0],c=r[l-0],s=r[1-l],d=Math.floor((s-c)/(n.length-a+2*u));return o=steps(c+Math.round((s-c-(n.length-a)*d)/2),d),l&&o.reverse(),i=Math.round(d*(1-a)),e={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return i},scale.rangeExtent=function(){return d3_scaleExtent(e.a[0])},scale.copy=function(){return d3_scale_ordinal(n,e)},scale.domain(n)}([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(_n)},a.scale.category20=function(){return a.scale.ordinal().range(hn)},a.scale.category20b=function(){return a.scale.ordinal().range(gn)},a.scale.category20c=function(){return a.scale.ordinal().range(pn)};var _n=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),hn=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),gn=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),pn=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);function d3_zero(){return 0}a.scale.quantile=function(){return function d3_scale_quantile(n,e){var r;function rescale(){var o=0,i=e.length;for(r=[];++o<i;)r[o-1]=a.quantile(n,o/i);return scale}function scale(n){if(!isNaN(n=+n))return e[a.bisect(r,n)]}return scale.domain=function(e){return arguments.length?(n=e.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):n},scale.range=function(n){return arguments.length?(e=n,rescale()):e},scale.quantiles=function(){return r},scale.invertExtent=function(o){return(o=e.indexOf(o))<0?[NaN,NaN]:[o>0?r[o-1]:n[0],o<r.length?r[o]:n[n.length-1]]},scale.copy=function(){return d3_scale_quantile(n,e)},rescale()}([],[])},a.scale.quantize=function(){return function d3_scale_quantize(n,e,r){var o,i;function scale(e){return r[Math.max(0,Math.min(i,Math.floor(o*(e-n))))]}function rescale(){return o=r.length/(e-n),i=r.length-1,scale}return scale.domain=function(r){return arguments.length?(n=+r[0],e=+r[r.length-1],rescale()):[n,e]},scale.range=function(n){return arguments.length?(r=n,rescale()):r},scale.invertExtent=function(e){return[e=(e=r.indexOf(e))<0?NaN:e/o+n,e+1/o]},scale.copy=function(){return d3_scale_quantize(n,e,r)},rescale()}(0,1,[0,1])},a.scale.threshold=function(){return function d3_scale_threshold(n,e){function scale(r){if(r<=r)return e[a.bisect(n,r)]}return scale.domain=function(e){return arguments.length?(n=e,scale):n},scale.range=function(n){return arguments.length?(e=n,scale):e},scale.invertExtent=function(r){return r=e.indexOf(r),[n[r-1],n[r]]},scale.copy=function(){return d3_scale_threshold(n,e)},scale}([.5],[0,1])},a.scale.identity=function(){return function d3_scale_identity(n){function identity(n){return+n}return identity.invert=identity,identity.domain=identity.range=function(e){return arguments.length?(n=e.map(identity),identity):n},identity.ticks=function(e){return d3_scale_linearTicks(n,e)},identity.tickFormat=function(e,r){return d3_scale_linearTickFormat(n,e,r)},identity.copy=function(){return d3_scale_identity(n)},identity}([0,1])},a.svg={},a.svg.arc=function(){var n=d3_svg_arcInnerRadius,e=d3_svg_arcOuterRadius,r=d3_zero,o=vn,i=d3_svg_arcStartAngle,a=d3_svg_arcEndAngle,u=d3_svg_arcPadAngle;function arc(){var l=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+e.apply(this,arguments)),s=i.apply(this,arguments)-L,d=a.apply(this,arguments)-L,f=Math.abs(d-s),_=s>d?0:1;if(c<l&&(h=c,c=l,l=h),f>=z)return circleSegment(c,_)+(l?circleSegment(l,1-_):"")+"Z";var h,g,p,m,y,x,M,b,w,k,S,N,E=0,R=0,A=[];if((m=(+u.apply(this,arguments)||0)/2)&&(p=o===vn?Math.sqrt(l*l+c*c):+o.apply(this,arguments),_||(R*=-1),c&&(R=d3_asin(p/c*Math.sin(m))),l&&(E=d3_asin(p/l*Math.sin(m)))),c){y=c*Math.cos(s+R),x=c*Math.sin(s+R),M=c*Math.cos(d-R),b=c*Math.sin(d-R);var T=Math.abs(d-s-2*R)<=P?0:1;if(R&&d3_svg_arcSweep(y,x,M,b)===_^T){var q=(s+d)/2;y=c*Math.cos(q),x=c*Math.sin(q),M=b=null}}else y=x=0;if(l){w=l*Math.cos(d-E),k=l*Math.sin(d-E),S=l*Math.cos(s+E),N=l*Math.sin(s+E);var D=Math.abs(s-d+2*E)<=P?0:1;if(E&&d3_svg_arcSweep(w,k,S,N)===1-_^D){var j=(s+d)/2;w=l*Math.cos(j),k=l*Math.sin(j),S=N=null}}else w=k=0;if(f>C&&(h=Math.min(Math.abs(c-l)/2,+r.apply(this,arguments)))>.001){g=l<c^_?0:1;var B=h,I=h;if(f<P){var F=null==S?[w,k]:null==M?[y,x]:d3_geom_polygonIntersect([y,x],[S,N],[M,b],[w,k]),U=y-F[0],O=x-F[1],Y=M-F[0],H=b-F[1],V=1/Math.sin(Math.acos((U*Y+O*H)/(Math.sqrt(U*U+O*O)*Math.sqrt(Y*Y+H*H)))/2),X=Math.sqrt(F[0]*F[0]+F[1]*F[1]);I=Math.min(h,(l-X)/(V-1)),B=Math.min(h,(c-X)/(V+1))}if(null!=M){var Z=d3_svg_arcCornerTangents(null==S?[w,k]:[S,N],[y,x],c,B,_),W=d3_svg_arcCornerTangents([M,b],[w,k],c,B,_);h===B?A.push("M",Z[0],"A",B,",",B," 0 0,",g," ",Z[1],"A",c,",",c," 0 ",1-_^d3_svg_arcSweep(Z[1][0],Z[1][1],W[1][0],W[1][1]),",",_," ",W[1],"A",B,",",B," 0 0,",g," ",W[0]):A.push("M",Z[0],"A",B,",",B," 0 1,",g," ",W[0])}else A.push("M",y,",",x);if(null!=S){var $=d3_svg_arcCornerTangents([y,x],[S,N],l,-I,_),G=d3_svg_arcCornerTangents([w,k],null==M?[y,x]:[M,b],l,-I,_);h===I?A.push("L",G[0],"A",I,",",I," 0 0,",g," ",G[1],"A",l,",",l," 0 ",_^d3_svg_arcSweep(G[1][0],G[1][1],$[1][0],$[1][1]),",",1-_," ",$[1],"A",I,",",I," 0 0,",g," ",$[0]):A.push("L",G[0],"A",I,",",I," 0 0,",g," ",$[0])}else A.push("L",w,",",k)}else A.push("M",y,",",x),null!=M&&A.push("A",c,",",c," 0 ",T,",",_," ",M,",",b),A.push("L",w,",",k),null!=S&&A.push("A",l,",",l," 0 ",D,",",1-_," ",S,",",N);return A.push("Z"),A.join("")}function circleSegment(n,e){return"M0,"+n+"A"+n+","+n+" 0 1,"+e+" 0,"+-n+"A"+n+","+n+" 0 1,"+e+" 0,"+n}return arc.innerRadius=function(e){return arguments.length?(n=d3_functor(e),arc):n},arc.outerRadius=function(n){return arguments.length?(e=d3_functor(n),arc):e},arc.cornerRadius=function(n){return arguments.length?(r=d3_functor(n),arc):r},arc.padRadius=function(n){return arguments.length?(o=n==vn?vn:d3_functor(n),arc):o},arc.startAngle=function(n){return arguments.length?(i=d3_functor(n),arc):i},arc.endAngle=function(n){return arguments.length?(a=d3_functor(n),arc):a},arc.padAngle=function(n){return arguments.length?(u=d3_functor(n),arc):u},arc.centroid=function(){var r=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,o=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-L;return[Math.cos(o)*r,Math.sin(o)*r]},arc};var vn="auto";function d3_svg_arcInnerRadius(n){return n.innerRadius}function d3_svg_arcOuterRadius(n){return n.outerRadius}function d3_svg_arcStartAngle(n){return n.startAngle}function d3_svg_arcEndAngle(n){return n.endAngle}function d3_svg_arcPadAngle(n){return n&&n.padAngle}function d3_svg_arcSweep(n,e,r,o){return(n-r)*e-(e-o)*n>0?0:1}function d3_svg_arcCornerTangents(n,e,r,o,i){var a=n[0]-e[0],u=n[1]-e[1],l=(i?o:-o)/Math.sqrt(a*a+u*u),c=l*u,s=-l*a,d=n[0]+c,f=n[1]+s,_=e[0]+c,h=e[1]+s,g=(d+_)/2,p=(f+h)/2,m=_-d,y=h-f,x=m*m+y*y,M=r-o,b=d*h-_*f,w=(y<0?-1:1)*Math.sqrt(Math.max(0,M*M*x-b*b)),k=(b*y-m*w)/x,S=(-b*m-y*w)/x,N=(b*y+m*w)/x,E=(-b*m+y*w)/x,C=k-g,R=S-p,P=N-g,A=E-p;return C*C+R*R>P*P+A*A&&(k=N,S=E),[[k-c,S-s],[k*r/M,S*r/M]]}function d3_svg_line(n){var e=d3_geom_pointX,r=d3_geom_pointY,o=d3_true,i=d3_svg_lineLinear,a=i.key,u=.7;function line(a){var l,c=[],s=[],d=-1,f=a.length,_=d3_functor(e),h=d3_functor(r);function segment(){c.push("M",i(n(s),u))}for(;++d<f;)o.call(this,l=a[d],d)?s.push([+_.call(this,l,d),+h.call(this,l,d)]):s.length&&(segment(),s=[]);return s.length&&segment(),c.length?c.join(""):null}return line.x=function(n){return arguments.length?(e=n,line):e},line.y=function(n){return arguments.length?(r=n,line):r},line.defined=function(n){return arguments.length?(o=n,line):o},line.interpolate=function(n){return arguments.length?(a="function"==typeof n?i=n:(i=mn.get(n)||d3_svg_lineLinear).key,line):a},line.tension=function(n){return arguments.length?(u=n,line):u},line}a.svg.line=function(){return d3_svg_line(d3_identity)};var mn=a.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:function d3_svg_lineStep(n){var e=0,r=n.length,o=n[0],i=[o[0],",",o[1]];for(;++e<r;)i.push("H",(o[0]+(o=n[e])[0])/2,"V",o[1]);r>1&&i.push("H",o[0]);return i.join("")},"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":function d3_svg_lineBasisOpen(n){if(n.length<4)return d3_svg_lineLinear(n);var e,r=[],o=-1,i=n.length,a=[0],u=[0];for(;++o<3;)e=n[o],a.push(e[0]),u.push(e[1]);r.push(d3_svg_lineDot4(Mn,a)+","+d3_svg_lineDot4(Mn,u)),--o;for(;++o<i;)e=n[o],a.shift(),a.push(e[0]),u.shift(),u.push(e[1]),d3_svg_lineBasisBezier(r,a,u);return r.join("")},"basis-closed":function d3_svg_lineBasisClosed(n){var e,r,o=-1,i=n.length,a=i+4,u=[],l=[];for(;++o<4;)r=n[o%i],u.push(r[0]),l.push(r[1]);e=[d3_svg_lineDot4(Mn,u),",",d3_svg_lineDot4(Mn,l)],--o;for(;++o<a;)r=n[o%i],u.shift(),u.push(r[0]),l.shift(),l.push(r[1]),d3_svg_lineBasisBezier(e,u,l);return e.join("")},bundle:function d3_svg_lineBundle(n,e){var r=n.length-1;if(r)for(var o,i,a=n[0][0],u=n[0][1],l=n[r][0]-a,c=n[r][1]-u,s=-1;++s<=r;)o=n[s],i=s/r,o[0]=e*o[0]+(1-e)*(a+i*l),o[1]=e*o[1]+(1-e)*(u+i*c);return d3_svg_lineBasis(n)},cardinal:function d3_svg_lineCardinal(n,e){return n.length<3?d3_svg_lineLinear(n):n[0]+d3_svg_lineHermite(n,d3_svg_lineCardinalTangents(n,e))},"cardinal-open":function d3_svg_lineCardinalOpen(n,e){return n.length<4?d3_svg_lineLinear(n):n[1]+d3_svg_lineHermite(n.slice(1,-1),d3_svg_lineCardinalTangents(n,e))},"cardinal-closed":function d3_svg_lineCardinalClosed(n,e){return n.length<3?d3_svg_lineLinearClosed(n):n[0]+d3_svg_lineHermite((n.push(n[0]),n),d3_svg_lineCardinalTangents([n[n.length-2]].concat(n,[n[1]]),e))},monotone:function d3_svg_lineMonotone(n){return n.length<3?d3_svg_lineLinear(n):n[0]+d3_svg_lineHermite(n,function d3_svg_lineMonotoneTangents(n){var e,r,o,i,a=[],u=function d3_svg_lineFiniteDifferences(n){var e=0,r=n.length-1,o=[],i=n[0],a=n[1],u=o[0]=d3_svg_lineSlope(i,a);for(;++e<r;)o[e]=(u+(u=d3_svg_lineSlope(i=a,a=n[e+1])))/2;return o[e]=u,o}(n),l=-1,c=n.length-1;for(;++l<c;)e=d3_svg_lineSlope(n[l],n[l+1]),g(e)<C?u[l]=u[l+1]=0:(r=u[l]/e,o=u[l+1]/e,(i=r*r+o*o)>9&&(i=3*e/Math.sqrt(i),u[l]=i*r,u[l+1]=i*o));l=-1;for(;++l<=c;)i=(n[Math.min(c,l+1)][0]-n[Math.max(0,l-1)][0])/(6*(1+u[l]*u[l])),a.push([i||0,u[l]*i||0]);return a}(n))}});function d3_svg_lineLinear(n){return n.length>1?n.join("L"):n+"Z"}function d3_svg_lineLinearClosed(n){return n.join("L")+"Z"}function d3_svg_lineStepBefore(n){for(var e=0,r=n.length,o=n[0],i=[o[0],",",o[1]];++e<r;)i.push("V",(o=n[e])[1],"H",o[0]);return i.join("")}function d3_svg_lineStepAfter(n){for(var e=0,r=n.length,o=n[0],i=[o[0],",",o[1]];++e<r;)i.push("H",(o=n[e])[0],"V",o[1]);return i.join("")}function d3_svg_lineHermite(n,e){if(e.length<1||n.length!=e.length&&n.length!=e.length+2)return d3_svg_lineLinear(n);var r=n.length!=e.length,o="",i=n[0],a=n[1],u=e[0],l=u,c=1;if(r&&(o+="Q"+(a[0]-2*u[0]/3)+","+(a[1]-2*u[1]/3)+","+a[0]+","+a[1],i=n[1],c=2),e.length>1){l=e[1],a=n[c],c++,o+="C"+(i[0]+u[0])+","+(i[1]+u[1])+","+(a[0]-l[0])+","+(a[1]-l[1])+","+a[0]+","+a[1];for(var s=2;s<e.length;s++,c++)a=n[c],l=e[s],o+="S"+(a[0]-l[0])+","+(a[1]-l[1])+","+a[0]+","+a[1]}if(r){var d=n[c];o+="Q"+(a[0]+2*l[0]/3)+","+(a[1]+2*l[1]/3)+","+d[0]+","+d[1]}return o}function d3_svg_lineCardinalTangents(n,e){for(var r,o=[],i=(1-e)/2,a=n[0],u=n[1],l=1,c=n.length;++l<c;)r=a,a=u,u=n[l],o.push([i*(u[0]-r[0]),i*(u[1]-r[1])]);return o}function d3_svg_lineBasis(n){if(n.length<3)return d3_svg_lineLinear(n);var e=1,r=n.length,o=n[0],i=o[0],a=o[1],u=[i,i,i,(o=n[1])[0]],l=[a,a,a,o[1]],c=[i,",",a,"L",d3_svg_lineDot4(Mn,u),",",d3_svg_lineDot4(Mn,l)];for(n.push(n[r-1]);++e<=r;)o=n[e],u.shift(),u.push(o[0]),l.shift(),l.push(o[1]),d3_svg_lineBasisBezier(c,u,l);return n.pop(),c.push("L",o),c.join("")}function d3_svg_lineDot4(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}mn.forEach((function(n,e){e.key=n,e.closed=/-closed$/.test(n)}));var yn=[0,2/3,1/3,0],xn=[0,1/3,2/3,0],Mn=[0,1/6,2/3,1/6];function d3_svg_lineBasisBezier(n,e,r){n.push("C",d3_svg_lineDot4(yn,e),",",d3_svg_lineDot4(yn,r),",",d3_svg_lineDot4(xn,e),",",d3_svg_lineDot4(xn,r),",",d3_svg_lineDot4(Mn,e),",",d3_svg_lineDot4(Mn,r))}function d3_svg_lineSlope(n,e){return(e[1]-n[1])/(e[0]-n[0])}function d3_svg_lineRadial(n){for(var e,r,o,i=-1,a=n.length;++i<a;)r=(e=n[i])[0],o=e[1]-L,e[0]=r*Math.cos(o),e[1]=r*Math.sin(o);return n}function d3_svg_area(n){var e=d3_geom_pointX,r=d3_geom_pointX,o=0,i=d3_geom_pointY,a=d3_true,u=d3_svg_lineLinear,l=u.key,c=u,s="L",d=.7;function area(l){var f,_,h,g=[],p=[],m=[],y=-1,x=l.length,M=d3_functor(e),b=d3_functor(o),w=e===r?function(){return _}:d3_functor(r),k=o===i?function(){return h}:d3_functor(i);function segment(){g.push("M",u(n(m),d),s,c(n(p.reverse()),d),"Z")}for(;++y<x;)a.call(this,f=l[y],y)?(p.push([_=+M.call(this,f,y),h=+b.call(this,f,y)]),m.push([+w.call(this,f,y),+k.call(this,f,y)])):p.length&&(segment(),p=[],m=[]);return p.length&&segment(),g.length?g.join(""):null}return area.x=function(n){return arguments.length?(e=r=n,area):r},area.x0=function(n){return arguments.length?(e=n,area):e},area.x1=function(n){return arguments.length?(r=n,area):r},area.y=function(n){return arguments.length?(o=i=n,area):i},area.y0=function(n){return arguments.length?(o=n,area):o},area.y1=function(n){return arguments.length?(i=n,area):i},area.defined=function(n){return arguments.length?(a=n,area):a},area.interpolate=function(n){return arguments.length?(l="function"==typeof n?u=n:(u=mn.get(n)||d3_svg_lineLinear).key,c=u.reverse||u,s=u.closed?"M":"L",area):l},area.tension=function(n){return arguments.length?(d=n,area):d},area}function d3_svg_chordRadius(n){return n.radius}function d3_svg_diagonalProjection(n){return[n.x,n.y]}function d3_svg_diagonalRadialProjection(n){return function(){var e=n.apply(this,arguments),r=e[0],o=e[1]-L;return[r*Math.cos(o),r*Math.sin(o)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(n){var e=Math.sqrt(n/P);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}a.svg.line.radial=function(){var n=d3_svg_line(d3_svg_lineRadial);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,a.svg.area=function(){return d3_svg_area(d3_identity)},a.svg.area.radial=function(){var n=d3_svg_area(d3_svg_lineRadial);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},a.svg.chord=function(){var n=d3_source,e=d3_target,r=d3_svg_chordRadius,o=d3_svg_arcStartAngle,i=d3_svg_arcEndAngle;function chord(r,o){var i=subgroup(this,n,r,o),a=subgroup(this,e,r,o);return"M"+i.p0+arc(i.r,i.p1,i.a1-i.a0)+(function equals(n,e){return n.a0==e.a0&&n.a1==e.a1}(i,a)?curve(i.r,i.p1,i.r,i.p0):curve(i.r,i.p1,a.r,a.p0)+arc(a.r,a.p1,a.a1-a.a0)+curve(a.r,a.p1,i.r,i.p0))+"Z"}function subgroup(n,e,a,u){var l=e.call(n,a,u),c=r.call(n,l,u),s=o.call(n,l,u)-L,d=i.call(n,l,u)-L;return{r:c,a0:s,a1:d,p0:[c*Math.cos(s),c*Math.sin(s)],p1:[c*Math.cos(d),c*Math.sin(d)]}}function arc(n,e,r){return"A"+n+","+n+" 0 "+ +(r>P)+",1 "+e}function curve(n,e,r,o){return"Q 0,0 "+o}return chord.radius=function(n){return arguments.length?(r=d3_functor(n),chord):r},chord.source=function(e){return arguments.length?(n=d3_functor(e),chord):n},chord.target=function(n){return arguments.length?(e=d3_functor(n),chord):e},chord.startAngle=function(n){return arguments.length?(o=d3_functor(n),chord):o},chord.endAngle=function(n){return arguments.length?(i=d3_functor(n),chord):i},chord},a.svg.diagonal=function(){var n=d3_source,e=d3_target,r=d3_svg_diagonalProjection;function diagonal(o,i){var a=n.call(this,o,i),u=e.call(this,o,i),l=(a.y+u.y)/2,c=[a,{x:a.x,y:l},{x:u.x,y:l},u];return"M"+(c=c.map(r))[0]+"C"+c[1]+" "+c[2]+" "+c[3]}return diagonal.source=function(e){return arguments.length?(n=d3_functor(e),diagonal):n},diagonal.target=function(n){return arguments.length?(e=d3_functor(n),diagonal):e},diagonal.projection=function(n){return arguments.length?(r=n,diagonal):r},diagonal},a.svg.diagonal.radial=function(){var n=a.svg.diagonal(),e=d3_svg_diagonalProjection,r=n.projection;return n.projection=function(n){return arguments.length?r(d3_svg_diagonalRadialProjection(e=n)):e},n},a.svg.symbol=function(){var n=d3_svg_symbolType,e=d3_svg_symbolSize;function symbol(r,o){return(bn.get(n.call(this,r,o))||d3_svg_symbolCircle)(e.call(this,r,o))}return symbol.type=function(e){return arguments.length?(n=d3_functor(e),symbol):n},symbol.size=function(n){return arguments.length?(e=d3_functor(n),symbol):e},symbol};var bn=a.map({circle:d3_svg_symbolCircle,cross:function(n){var e=Math.sqrt(n/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(n){var e=Math.sqrt(n/(2*kn)),r=e*kn;return"M0,"+-e+"L"+r+",0 0,"+e+" "+-r+",0Z"},square:function(n){var e=Math.sqrt(n)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(n){var e=Math.sqrt(n/wn),r=e*wn/2;return"M0,"+r+"L"+e+","+-r+" "+-e+","+-r+"Z"},"triangle-up":function(n){var e=Math.sqrt(n/wn),r=e*wn/2;return"M0,"+-r+"L"+e+","+r+" "+-e+","+r+"Z"}});a.svg.symbolTypes=bn.keys();var wn=Math.sqrt(3),kn=Math.tan(30*T);x.transition=function(n){for(var e,r,o=Nn||++Rn,i=d3_transitionNamespace(n),a=[],u=En||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},l=-1,c=this.length;++l<c;){a.push(e=[]);for(var s=this[l],d=-1,f=s.length;++d<f;)(r=s[d])&&d3_transitionNode(r,d,i,o,u),e.push(r)}return d3_transition(a,i,o)},x.interrupt=function(n){return this.each(null==n?Sn:d3_selection_interruptNS(d3_transitionNamespace(n)))};var Sn=d3_selection_interruptNS(d3_transitionNamespace());function d3_selection_interruptNS(n){return function(){var e,r,o;(e=this[n])&&(o=e[r=e.active])&&(o.timer.c=null,o.timer.t=NaN,--e.count?delete e[r]:delete this[n],e.active+=.5,o.event&&o.event.interrupt.call(this,this.__data__,o.index))}}function d3_transition(n,e,r){return y(n,Cn),n.namespace=e,n.id=r,n}var Nn,En,Cn=[],Rn=0;function d3_transition_tween(n,e,r,o){var i=n.id,a=n.namespace;return d3_selection_each(n,"function"==typeof r?function(n,u,l){n[a][i].tween.set(e,o(r.call(n,n.__data__,u,l)))}:(r=o(r),function(n){n[a][i].tween.set(e,r)}))}function d3_transition_text(n){return null==n&&(n=""),function(){this.textContent=n}}function d3_transitionNamespace(n){return null==n?"__transition__":"__transition_"+n+"__"}function d3_transitionNode(n,e,r,o,i){var a,u,l,c,s,d=n[r]||(n[r]={active:0,count:0}),f=d[o];function start(r){var i=d.active,_=d[i];for(var h in _&&(_.timer.c=null,_.timer.t=NaN,--d.count,delete d[i],_.event&&_.event.interrupt.call(n,n.__data__,_.index)),d)if(+h<o){var g=d[h];g.timer.c=null,g.timer.t=NaN,--d.count,delete d[h]}u.c=tick,d3_timer((function(){return u.c&&tick(r||1)&&(u.c=null,u.t=NaN),1}),0,a),d.active=o,f.event&&f.event.start.call(n,n.__data__,e),s=[],f.tween.forEach((function(r,o){(o=o.call(n,n.__data__,e))&&s.push(o)})),c=f.ease,l=f.duration}function tick(i){for(var a=i/l,u=c(a),_=s.length;_>0;)s[--_].call(n,u);if(a>=1)return f.event&&f.event.end.call(n,n.__data__,e),--d.count?delete d[o]:delete n[r],1}f||(a=i.time,u=d3_timer((function schedule(n){var e=f.delay;if(u.t=e+a,e<=n)return start(n-e);u.c=start}),0,a),f=d[o]={tween:new d3_Map,time:a,timer:u,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++d.count)}Cn.call=x.call,Cn.empty=x.empty,Cn.node=x.node,Cn.size=x.size,a.transition=function(n,e){return n&&n.transition?Nn?n.transition(e):n:a.selection().transition(n)},a.transition.prototype=Cn,Cn.select=function(n){var e,r,o,i=this.id,a=this.namespace,u=[];n=d3_selection_selector(n);for(var l=-1,c=this.length;++l<c;){u.push(e=[]);for(var s=this[l],d=-1,f=s.length;++d<f;)(o=s[d])&&(r=n.call(o,o.__data__,d,l))?("__data__"in o&&(r.__data__=o.__data__),d3_transitionNode(r,d,a,i,o[a][i]),e.push(r)):e.push(null)}return d3_transition(u,a,i)},Cn.selectAll=function(n){var e,r,o,i,a,u=this.id,l=this.namespace,c=[];n=d3_selection_selectorAll(n);for(var s=-1,d=this.length;++s<d;)for(var f=this[s],_=-1,h=f.length;++_<h;)if(o=f[_]){a=o[l][u],r=n.call(o,o.__data__,_,s),c.push(e=[]);for(var g=-1,p=r.length;++g<p;)(i=r[g])&&d3_transitionNode(i,g,l,u,a),e.push(i)}return d3_transition(c,l,u)},Cn.filter=function(n){var e,r,o=[];"function"!=typeof n&&(n=d3_selection_filter(n));for(var i=0,a=this.length;i<a;i++){o.push(e=[]);for(var u,l=0,c=(u=this[i]).length;l<c;l++)(r=u[l])&&n.call(r,r.__data__,l,i)&&e.push(r)}return d3_transition(o,this.namespace,this.id)},Cn.tween=function(n,e){var r=this.id,o=this.namespace;return arguments.length<2?this.node()[o][r].tween.get(n):d3_selection_each(this,null==e?function(e){e[o][r].tween.remove(n)}:function(i){i[o][r].tween.set(n,e)})},Cn.attr=function(n,e){if(arguments.length<2){for(e in n)this.attr(e,n[e]);return this}var r="transform"==n?d3_interpolateTransform:d3_interpolate,o=a.ns.qualify(n);function attrNull(){this.removeAttribute(o)}function attrNullNS(){this.removeAttributeNS(o.space,o.local)}function attrTween(n){return null==n?attrNull:(n+="",function(){var e,i=this.getAttribute(o);return i!==n&&(e=r(i,n),function(n){this.setAttribute(o,e(n))})})}function attrTweenNS(n){return null==n?attrNullNS:(n+="",function(){var e,i=this.getAttributeNS(o.space,o.local);return i!==n&&(e=r(i,n),function(n){this.setAttributeNS(o.space,o.local,e(n))})})}return d3_transition_tween(this,"attr."+n,e,o.local?attrTweenNS:attrTween)},Cn.attrTween=function(n,e){var r=a.ns.qualify(n);return this.tween("attr."+n,r.local?function attrTweenNS(n,o){var i=e.call(this,n,o,this.getAttributeNS(r.space,r.local));return i&&function(n){this.setAttributeNS(r.space,r.local,i(n))}}:function attrTween(n,o){var i=e.call(this,n,o,this.getAttribute(r));return i&&function(n){this.setAttribute(r,i(n))}})},Cn.style=function(n,e,r){var o=arguments.length;if(o<3){if("string"!=typeof n){for(r in o<2&&(e=""),n)this.style(r,n[r],e);return this}r=""}function styleNull(){this.style.removeProperty(n)}function styleString(e){return null==e?styleNull:(e+="",function(){var o,i=d3_window(this).getComputedStyle(this,null).getPropertyValue(n);return i!==e&&(o=d3_interpolate(i,e),function(e){this.style.setProperty(n,o(e),r)})})}return d3_transition_tween(this,"style."+n,e,styleString)},Cn.styleTween=function(n,e,r){function styleTween(o,i){var a=e.call(this,o,i,d3_window(this).getComputedStyle(this,null).getPropertyValue(n));return a&&function(e){this.style.setProperty(n,a(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,styleTween)},Cn.text=function(n){return d3_transition_tween(this,"text",n,d3_transition_text)},Cn.remove=function(){var n=this.namespace;return this.each("end.transition",(function(){var e;this[n].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},Cn.ease=function(n){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].ease:("function"!=typeof n&&(n=a.ease.apply(a,arguments)),d3_selection_each(this,(function(o){o[r][e].ease=n})))},Cn.delay=function(n){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].delay:d3_selection_each(this,"function"==typeof n?function(o,i,a){o[r][e].delay=+n.call(o,o.__data__,i,a)}:(n=+n,function(o){o[r][e].delay=n}))},Cn.duration=function(n){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].duration:d3_selection_each(this,"function"==typeof n?function(o,i,a){o[r][e].duration=Math.max(1,n.call(o,o.__data__,i,a))}:(n=Math.max(1,n),function(o){o[r][e].duration=n}))},Cn.each=function(n,e){var r=this.id,o=this.namespace;if(arguments.length<2){var i=En,u=Nn;try{Nn=r,d3_selection_each(this,(function(e,i,a){En=e[o][r],n.call(e,e.__data__,i,a)}))}finally{En=i,Nn=u}}else d3_selection_each(this,(function(i){var u=i[o][r];(u.event||(u.event=a.dispatch("start","end","interrupt"))).on(n,e)}));return this},Cn.transition=function(){for(var n,e,r,o=this.id,i=++Rn,a=this.namespace,u=[],l=0,c=this.length;l<c;l++){u.push(n=[]);for(var s,d=0,f=(s=this[l]).length;d<f;d++)(e=s[d])&&d3_transitionNode(e,d,a,i,{time:(r=e[a][o]).time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration}),n.push(e)}return d3_transition(u,a,i)},a.svg.axis=function(){var n,e=a.scale.linear(),r=Pn,o=6,i=6,u=3,l=[10],c=null;function axis(s){s.each((function(){var s,d=a.select(this),f=this.__chart__||e,_=this.__chart__=e.copy(),h=null==c?_.ticks?_.ticks.apply(_,l):_.domain():c,g=null==n?_.tickFormat?_.tickFormat.apply(_,l):d3_identity:n,p=d.selectAll(".tick").data(h,_),m=p.enter().insert("g",".domain").attr("class","tick").style("opacity",C),y=a.transition(p.exit()).style("opacity",C).remove(),x=a.transition(p.order()).style("opacity",1),M=Math.max(o,0)+u,b=d3_scaleRange(_),w=d.selectAll(".domain").data([0]),k=(w.enter().append("path").attr("class","domain"),a.transition(w));m.append("line"),m.append("text");var S,N,E,R,P=m.select("line"),A=x.select("line"),z=p.select("text").text(g),L=m.select("text"),T=x.select("text"),q="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(s=d3_svg_axisX,S="x",E="y",N="x2",R="y2",z.attr("dy",q<0?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+b[0]+","+q*i+"V0H"+b[1]+"V"+q*i)):(s=d3_svg_axisY,S="y",E="x",N="y2",R="x2",z.attr("dy",".32em").style("text-anchor",q<0?"end":"start"),k.attr("d","M"+q*i+","+b[0]+"H0V"+b[1]+"H"+q*i)),P.attr(R,q*o),L.attr(E,q*M),A.attr(N,0).attr(R,q*o),T.attr(S,0).attr(E,q*M),_.rangeBand){var D=_,j=D.rangeBand()/2;f=_=function(n){return D(n)+j}}else f.rangeBand?f=_:y.call(s,_,f);m.call(s,f,_),x.call(s,_,_)}))}return axis.scale=function(n){return arguments.length?(e=n,axis):e},axis.orient=function(n){return arguments.length?(r=n in An?n+"":Pn,axis):r},axis.ticks=function(){return arguments.length?(l=d3_array(arguments),axis):l},axis.tickValues=function(n){return arguments.length?(c=n,axis):c},axis.tickFormat=function(e){return arguments.length?(n=e,axis):n},axis.tickSize=function(n){var e=arguments.length;return e?(o=+n,i=+arguments[e-1],axis):o},axis.innerTickSize=function(n){return arguments.length?(o=+n,axis):o},axis.outerTickSize=function(n){return arguments.length?(i=+n,axis):i},axis.tickPadding=function(n){return arguments.length?(u=+n,axis):u},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var Pn="bottom",An={top:1,right:1,bottom:1,left:1};function d3_svg_axisX(n,e,r){n.attr("transform",(function(n){var o=e(n);return"translate("+(isFinite(o)?o:r(n))+",0)"}))}function d3_svg_axisY(n,e,r){n.attr("transform",(function(n){var o=e(n);return"translate(0,"+(isFinite(o)?o:r(n))+")"}))}a.svg.brush=function(){var n,e,r=d3_eventDispatch(brush,"brushstart","brush","brushend"),o=null,i=null,u=[0,0],l=[0,0],c=!0,s=!0,d=Ln[0];function brush(n){n.each((function(){var n=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),e=n.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=n.selectAll(".resize").data(d,d3_identity);r.exit().remove(),r.enter().append("g").attr("class",(function(n){return"resize "+n})).style("cursor",(function(n){return zn[n]})).append("rect").attr("x",(function(n){return/[ew]$/.test(n)?-3:null})).attr("y",(function(n){return/^[ns]/.test(n)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",brush.empty()?"none":null);var u,l=a.transition(n),c=a.transition(e);o&&(u=d3_scaleRange(o),c.attr("x",u[0]).attr("width",u[1]-u[0]),redrawX(l)),i&&(u=d3_scaleRange(i),c.attr("y",u[0]).attr("height",u[1]-u[0]),redrawY(l)),redraw(l)}))}function redraw(n){n.selectAll(".resize").attr("transform",(function(n){return"translate("+u[+/e$/.test(n)]+","+l[+/^s/.test(n)]+")"}))}function redrawX(n){n.select(".extent").attr("x",u[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function redrawY(n){n.select(".extent").attr("y",l[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function brushstart(){var d,f,_=this,h=a.select(a.event.target),g=r.of(_,arguments),p=a.select(_),m=h.datum(),y=!/^(n|s)$/.test(m)&&o,x=!/^(e|w)$/.test(m)&&i,M=h.classed("extent"),b=d3_event_dragSuppress(_),w=a.mouse(_),k=a.select(d3_window(_)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(a.event.changedTouches?k.on("touchmove.brush",brushmove).on("touchend.brush",brushend):k.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),p.interrupt().selectAll("*").interrupt(),M)w[0]=u[0]-w[0],w[1]=l[0]-w[1];else if(m){var S=+/w$/.test(m),N=+/^n/.test(m);f=[u[1-S]-w[0],l[1-N]-w[1]],w[0]=u[S],w[1]=l[N]}else a.event.altKey&&(d=w.slice());function keydown(){32==a.event.keyCode&&(M||(d=null,w[0]-=u[1],w[1]-=l[1],M=2),d3_eventPreventDefault())}function keyup(){32==a.event.keyCode&&2==M&&(w[0]+=u[1],w[1]+=l[1],M=0,d3_eventPreventDefault())}function brushmove(){var n=a.mouse(_),e=!1;f&&(n[0]+=f[0],n[1]+=f[1]),M||(a.event.altKey?(d||(d=[(u[0]+u[1])/2,(l[0]+l[1])/2]),w[0]=u[+(n[0]<d[0])],w[1]=l[+(n[1]<d[1])]):d=null),y&&move1(n,o,0)&&(redrawX(p),e=!0),x&&move1(n,i,1)&&(redrawY(p),e=!0),e&&(redraw(p),g({type:"brush",mode:M?"move":"resize"}))}function move1(r,o,i){var a,f,_=d3_scaleRange(o),h=_[0],g=_[1],p=w[i],m=i?l:u,y=m[1]-m[0];if(M&&(h-=p,g-=y+p),a=(i?s:c)?Math.max(h,Math.min(g,r[i])):r[i],M?f=(a+=p)+y:(d&&(p=Math.max(h,Math.min(g,2*d[i]-a))),p<a?(f=a,a=p):f=p),m[0]!=a||m[1]!=f)return i?e=null:n=null,m[0]=a,m[1]=f,!0}function brushend(){brushmove(),p.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),a.select("body").style("cursor",null),k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),b(),g({type:"brushend"})}p.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",h.style("cursor")),g({type:"brushstart"}),brushmove()}return brush.event=function(o){o.each((function(){var o=r.of(this,arguments),i={x:u,y:l,i:n,j:e},c=this.__chart__||i;this.__chart__=i,Nn?a.select(this).transition().each("start.brush",(function(){n=c.i,e=c.j,u=c.x,l=c.y,o({type:"brushstart"})})).tween("brush:brush",(function(){var r=d3_interpolateArray(u,i.x),a=d3_interpolateArray(l,i.y);return n=e=null,function(n){u=i.x=r(n),l=i.y=a(n),o({type:"brush",mode:"resize"})}})).each("end.brush",(function(){n=i.i,e=i.j,o({type:"brush",mode:"resize"}),o({type:"brushend"})})):(o({type:"brushstart"}),o({type:"brush",mode:"resize"}),o({type:"brushend"}))}))},brush.x=function(n){return arguments.length?(d=Ln[!(o=n)<<1|!i],brush):o},brush.y=function(n){return arguments.length?(d=Ln[!o<<1|!(i=n)],brush):i},brush.clamp=function(n){return arguments.length?(o&&i?(c=!!n[0],s=!!n[1]):o?c=!!n:i&&(s=!!n),brush):o&&i?[c,s]:o?c:i?s:null},brush.extent=function(r){var a,c,s,d,f;return arguments.length?(o&&(a=r[0],c=r[1],i&&(a=a[0],c=c[0]),n=[a,c],o.invert&&(a=o(a),c=o(c)),c<a&&(f=a,a=c,c=f),a==u[0]&&c==u[1]||(u=[a,c])),i&&(s=r[0],d=r[1],o&&(s=s[1],d=d[1]),e=[s,d],i.invert&&(s=i(s),d=i(d)),d<s&&(f=s,s=d,d=f),s==l[0]&&d==l[1]||(l=[s,d])),brush):(o&&(n?(a=n[0],c=n[1]):(a=u[0],c=u[1],o.invert&&(a=o.invert(a),c=o.invert(c)),c<a&&(f=a,a=c,c=f))),i&&(e?(s=e[0],d=e[1]):(s=l[0],d=l[1],i.invert&&(s=i.invert(s),d=i.invert(d)),d<s&&(f=s,s=d,d=f))),o&&i?[[a,s],[c,d]]:o?[a,c]:i&&[s,d])},brush.clear=function(){return brush.empty()||(u=[0,0],l=[0,0],n=e=null),brush},brush.empty=function(){return!!o&&u[0]==u[1]||!!i&&l[0]==l[1]},a.rebind(brush,r,"on")};var zn={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ln=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Tn=tt.format=at.timeFormat,qn=Tn.utc,Dn=qn("%Y-%m-%dT%H:%M:%S.%LZ");function d3_time_formatIsoNative(n){return n.toISOString()}function d3_time_scale(n,e,r){function scale(e){return n(e)}function tickMethod(n,r){var o=(n[1]-n[0])/r,i=a.bisect(jn,o);return i==jn.length?[e.year,d3_scale_linearTickRange(n.map((function(n){return n/31536e6})),r)[2]]:i?e[o/jn[i-1]<jn[i]/o?i-1:i]:[Fn,d3_scale_linearTickRange(n,r)[2]]}return scale.invert=function(e){return d3_time_scaleDate(n.invert(e))},scale.domain=function(e){return arguments.length?(n.domain(e),scale):n.domain().map(d3_time_scaleDate)},scale.nice=function(n,e){var r=scale.domain(),o=d3_scaleExtent(r),i=null==n?tickMethod(o,10):"number"==typeof n&&tickMethod(o,n);function skipped(r){return!isNaN(r)&&!n.range(r,d3_time_scaleDate(+r+1),e).length}return i&&(n=i[0],e=i[1]),scale.domain(d3_scale_nice(r,e>1?{floor:function(e){for(;skipped(e=n.floor(e));)e=d3_time_scaleDate(e-1);return e},ceil:function(e){for(;skipped(e=n.ceil(e));)e=d3_time_scaleDate(+e+1);return e}}:n))},scale.ticks=function(n,e){var r=d3_scaleExtent(scale.domain()),o=null==n?tickMethod(r,10):"number"==typeof n?tickMethod(r,n):!n.range&&[{range:n},e];return o&&(n=o[0],e=o[1]),n.range(r[0],d3_time_scaleDate(+r[1]+1),e<1?1:e)},scale.tickFormat=function(){return r},scale.copy=function(){return d3_time_scale(n.copy(),e,r)},d3_scale_linearRebind(scale,n)}function d3_time_scaleDate(n){return new Date(n)}Tn.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:Dn,d3_time_formatIsoNative.parse=function(n){var e=new Date(n);return isNaN(e)?null:e},d3_time_formatIsoNative.toString=Dn.toString,tt.second=d3_time_interval((function(n){return new nt(1e3*Math.floor(n/1e3))}),(function(n,e){n.setTime(n.getTime()+1e3*Math.floor(e))}),(function(n){return n.getSeconds()})),tt.seconds=tt.second.range,tt.seconds.utc=tt.second.utc.range,tt.minute=d3_time_interval((function(n){return new nt(6e4*Math.floor(n/6e4))}),(function(n,e){n.setTime(n.getTime()+6e4*Math.floor(e))}),(function(n){return n.getMinutes()})),tt.minutes=tt.minute.range,tt.minutes.utc=tt.minute.utc.range,tt.hour=d3_time_interval((function(n){var e=n.getTimezoneOffset()/60;return new nt(36e5*(Math.floor(n/36e5-e)+e))}),(function(n,e){n.setTime(n.getTime()+36e5*Math.floor(e))}),(function(n){return n.getHours()})),tt.hours=tt.hour.range,tt.hours.utc=tt.hour.utc.range,tt.month=d3_time_interval((function(n){return(n=tt.day(n)).setDate(1),n}),(function(n,e){n.setMonth(n.getMonth()+e)}),(function(n){return n.getMonth()})),tt.months=tt.month.range,tt.months.utc=tt.month.utc.range;var jn=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Bn=[[tt.second,1],[tt.second,5],[tt.second,15],[tt.second,30],[tt.minute,1],[tt.minute,5],[tt.minute,15],[tt.minute,30],[tt.hour,1],[tt.hour,3],[tt.hour,6],[tt.hour,12],[tt.day,1],[tt.day,2],[tt.week,1],[tt.month,1],[tt.month,3],[tt.year,1]],In=Tn.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",d3_true]]),Fn={range:function(n,e,r){return a.range(Math.ceil(n/r)*r,+e,r).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};Bn.year=tt.year,tt.scale=function(){return d3_time_scale(a.scale.linear(),Bn,In)};var Un=Bn.map((function(n){return[n[0].utc,n[1]]})),On=qn.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",d3_true]]);function d3_json(n){return JSON.parse(n.responseText)}function d3_html(n){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(n.responseText)}Un.year=tt.year.utc,tt.scale.utc=function(){return d3_time_scale(a.scale.linear(),Un,On)},a.text=d3_xhrType((function(n){return n.responseText})),a.json=function(n,e){return d3_xhr(n,"application/json",d3_json,e)},a.html=function(n,e){return d3_xhr(n,"text/html",d3_html,e)},a.xml=d3_xhrType((function(n){return n.responseXML})),this.d3=a,void 0===(i="function"==typeof(o=a)?o.call(e,r,e,n):o)||(n.exports=i)}()}}]);
//# sourceMappingURL=npm.d3-55ca04e06450607174d6.js.map