{"version":3,"sources":["webpack:///./src/main/web/components/forms/static/RecoverNotification.ts"],"names":["CLASS_NAME","props","context","state","hidden","render","showNotification","this","recoveredFromStorage","style","assign","display","undefined","D","div","className","b","button","type","onClick","setState","title","i","id","span","discardRecoveredData","StaticComponent","RecoverNotification","component","factory","createFactory"],"mappings":"4IAmBA,OACA,QACA,SAEA,UAQMA,EAAa,qCAEnB,cACE,6BAAYC,EAAiCC,GAA7C,MACE,YAAMD,EAAOC,IAAQ,K,OACrB,EAAKC,MAAQ,CAAEC,QAAQ,G,EAkC3B,OArCyC,mCAMvC,8BAAAC,OAAA,sBACQC,GAAoBC,KAAKJ,MAAMC,QAAUG,KAAKN,MAAMO,qBACpDC,EAAQC,EAAO,GAAI,CAAEC,QAASL,OAAmBM,EAAY,QAAUL,KAAKN,MAAMQ,OAExF,OAAOI,EAAEC,IACP,CACEC,UAAWf,EACXS,MAAOA,GAETI,EAAEC,IAAI,CAAEC,UAAcf,EAAU,aAAea,EAAEG,EAAE,GAAI,uDACvDH,EAAEI,OACA,CACEC,KAAM,SACNH,UAAcf,EAAU,gCACxBmB,QAAS,WAAM,SAAKC,SAAS,CAAEhB,QAAQ,KACvCiB,MAAO,qBAETR,EAAES,EAAE,CAAEC,GAAI,SAAUR,UAAW,gBAC/BF,EAAEW,KAAK,CAAED,GAAI,aAAe,4BAE9BV,EAAEI,OACA,CACEF,UAAcf,EAAU,yCACxBmB,QAASZ,KAAKN,MAAMwB,qBACpBJ,MAAO,6DAETR,EAAES,EAAE,CAAEC,GAAI,YAAaR,UAAW,gBAClCF,EAAEW,KAAK,CAAED,GAAI,gBAAkB,+BAIvC,oBArCA,CAAyC,EAAAG,iBAA5B,EAAAC,sBAwCA,EAAAC,UAAYD,EACZ,EAAAE,QAAU,EAAAC,cAAc,EAAAF,WACrC,UAAe,EAAAA","file":"semantic-form-recover-notification-fa1204ffbbbe5a269600.js","sourcesContent":["/**\n * ResearchSpace\n * Copyright (C) 2020, Â© Trustees of the British Museum\n * Copyright (C) 2015-2019, metaphacts GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { createFactory, CSSProperties } from 'react';\nimport * as D from 'react-dom-factories';\nimport * as assign from 'object-assign';\n\nimport { StaticComponent, StaticFieldProps } from './StaticComponent';\n\nexport interface RecoverNotificationProps extends StaticFieldProps {\n  recoveredFromStorage?: boolean;\n  discardRecoveredData?: () => void;\n  style?: CSSProperties;\n}\n\nconst CLASS_NAME = 'semantic-form-recover-notification';\n\nexport class RecoverNotification extends StaticComponent<RecoverNotificationProps, { hidden?: boolean }> {\n  constructor(props: RecoverNotificationProps, context: any) {\n    super(props, context);\n    this.state = { hidden: false };\n  }\n\n  render() {\n    const showNotification = !this.state.hidden && this.props.recoveredFromStorage;\n    const style = assign({}, { display: showNotification ? undefined : 'none' }, this.props.style);\n\n    return D.div(\n      {\n        className: CLASS_NAME,\n        style: style,\n      },\n      D.div({ className: `${CLASS_NAME}__message` }, D.b({}, 'Form data has been recovered from browser storage!')),\n      D.button(\n        {\n          type: 'button',\n          className: `${CLASS_NAME}__hide btn btn-default btn-xs`,\n          onClick: () => this.setState({ hidden: true }),\n          title: 'Hide notification',\n        },\n        D.i({ id: 'hide-i', className: 'fa fa-check' }),\n        D.span({ id: 'hide-span' }, ' Ok. Hide Notification.')\n      ),\n      D.button(\n        {\n          className: `${CLASS_NAME}__discard-data btn btn-default btn-xs `,\n          onClick: this.props.discardRecoveredData,\n          title: 'Reset form to default state discarding all recovered data',\n        },\n        D.i({ id: 'discard-i', className: 'fa fa-times' }),\n        D.span({ id: 'discard-span' }, ' Discard recovered data.')\n      )\n    );\n  }\n}\n\nexport type component = RecoverNotification;\nexport const component = RecoverNotification;\nexport const factory = createFactory(component);\nexport default component;\n"],"sourceRoot":""}