(window.webpackJsonp=window.webpackJsonp||[]).push([[211],{1266:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(1),a=r(72),i=r(34),s=r(116),p=r(36),l=r(636),c=r(117),u=function(e){function RestartWrapper(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancellation=new i.Cancellation,t.onClick=function(e){e.preventDefault(),e.stopPropagation(),showRestartConfirmationDialog((function(e){e&&t.cancellation.map(t.executePost()).observe({value:function(e){s.addNotification({autoDismiss:57,message:"System is restarting. Please reload the page and log in again when the system has restarted.",level:"success"})},error:function(e){s.addNotification({message:"Restarting failed.",level:"error"})}})}))},t}return n.__extends(RestartWrapper,e),RestartWrapper.prototype.executePost=function(){var e=p.post("/rest/admin/system/restart");return i.requestAsProperty(e).map((function(){}))},RestartWrapper.prototype.componentWillUnmount=function(){this.cancellation.cancelAll()},RestartWrapper.prototype.render=function(){return o.createElement("div",{className:"mp-restart-wrapper"},this.renderBody())},RestartWrapper.prototype.renderBody=function(){var e=this.props.children,t=o.Children.count(e);if(1!==t)return o.createElement(a.Alert,{bsStyle:"warning"},o.createElement(s.ErrorPresenter,{error:new Error("Expected children number is 1, but provided "+t)}));var r=o.Children.only(e);if("object"==typeof r){var i=r;return o.cloneElement(i,n.__assign(n.__assign({},i.props),{onClick:this.onClick}))}return r},RestartWrapper}(o.Component);function showRestartConfirmationDialog(e){var t="mp-restart-confirmation-dialog",onHide=function(){return c.getOverlaySystem().hide(t)};c.getOverlaySystem().show(t,o.createElement(l.ConfirmationDialog,{message:"Are you sure you want to restart the system?",onHide,onConfirm:function(t){onHide(),t&&e(t)}}))}t.RestartWrapper=u,t.default=u}}]);
//# sourceMappingURL=mp-restart-wrapper-8ccc73cc2999aff85194.js.map