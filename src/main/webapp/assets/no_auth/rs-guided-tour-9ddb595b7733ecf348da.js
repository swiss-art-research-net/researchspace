(window.webpackJsonp=window.webpackJsonp||[]).push([[456],{1527:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),n=o(1),s=o(16),u=o(3402),i=o(72),a=o(162),p=o(34),d=o(214),c=o(3409);o(1528);var l=d.BrowserPersistence.adapter(),v=function(e){function GuidedTour(t){var o=e.call(this,t)||this;return o.cancellation=new p.Cancellation,o.onInitJoyride=function(e){e&&(o.tourJoyride=e,o.registerEventListener())},o.state={run:t.run,autoStart:t.autoStart},o}return r.__extends(GuidedTour,e),GuidedTour.prototype.componentWillUnmount=function(){this.cancellation.cancelAll()},GuidedTour.prototype.registerEventListener=function(){var e=this,t=this.props.id;this.cancellation.map(a.listen({eventType:c.GuidedTourRunIfNotSeen,target:t})).onValue((function(){l.get("mp-guided-tour").wasDisplayed||(l.set("mp-guided-tour",{wasDisplayed:!0}),e.setState({run:!0}))})),this.cancellation.map(a.listen({eventType:c.GuidedTourStart,target:t})).onValue((function(){e.setState({autoStart:!0,run:!0}),e.tourJoyride.reset(!0)})),this.listenToStepsEvents()},GuidedTour.prototype.listenToStepsEvents=function(){var e=this;s.uniqWith(this.props.steps,(function(e,t){return e.progressEvent&&t.progressEvent&&e.progressEvent.eventType===t.progressEvent.eventType&&e.progressEvent.source===t.progressEvent.source})).forEach((function(t){var o=t.progressEvent;o&&e.cancellation.map(a.listen({eventType:o.eventType,source:o.source})).onValue((function(t){e.state.run&&setTimeout((function(){return e.goToNextStep(t)}),200)}))}))},GuidedTour.prototype.goToNextStep=function(e){var t=this,o=e.eventType,r=e.source,n=e.data,s=this.tourJoyride.getProgress(),u=s.step.progressEvent;if(u&&u.eventType===o&&u.source===r)if(u.data===n&&s.index<this.props.steps.length-1){var i=this.props.steps[s.index+1].selector;if(!i||document.querySelector(i))this.tourJoyride.next();else var a=setInterval((function(){document.querySelector(i)&&(clearInterval(a),t.tourJoyride.next())}),200)}else this.setState({run:!1})},GuidedTour.prototype.render=function(){var e=this,t=this.state,o=t.run,s=t.autoStart;return n.createElement(i.Overlay,{show:!0},n.createElement(u.default,r.__assign({ref:this.onInitJoyride},this.props,{run:o,autoStart:s,callback:function(t){"finished"===t.type&&e.setState({run:!1,autoStart:!1})}})))},GuidedTour.defaultProps={autoStart:!1,showOverlay:!1,type:"continuous",locale:{back:"",skip:"Skip Tour",close:"Close",last:"OK, got it",next:"Next"},showSkipButton:!0,tooltipOffset:10,keyboardNavigation:!1,scrollToSteps:!1},GuidedTour}(n.Component);t.GuidedTour=v,t.default=v},3409:function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=o(162).EventMaker;t.GuidedTourRunIfNotSeen=r("GuidedTour.RunIfNotSeen"),t.GuidedTourStart=r("GuidedTour.Start")}}]);
//# sourceMappingURL=rs-guided-tour-9ddb595b7733ecf348da.js.map