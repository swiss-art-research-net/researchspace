{"version":3,"sources":["webpack:///./src/main/web/components/search/web-components/SemanticSearchUseResultItemInExtendedSearchAction.tsx"],"names":["render","SemanticSearchContext","Consumer","context","SemanticSearchUseResultItemInExtendedSearchActionInner","props","React","Component","SemanticSearchUseResultItemInExtendedSearchAction","onClick","iri","Rdf","getLabel","onValue","label","useInExtendedFcFrSearch","value","description","tuple","range","domain","get","child","Children","only","this","children","cloneElement"],"mappings":"6IAsBA,OAEA,QACA,SACA,UASA,2E,+CAWA,OAXuE,iEAIrE,4DAAAA,OAAA,sBACE,OACE,gBAAC,EAAAC,sBAAsBC,SAAQ,MAC5B,SAACC,GAAY,uBAACC,EAAsD,cAAK,EAAKC,MAAK,CAAEF,QAASA,SAIvG,kDAXA,CAAuEG,EAAMC,WAAhE,EAAAC,oDAiBb,kI,OAUU,EAAAC,QAAU,WAChB,IAAMC,EAAM,EAAAC,IAAID,IAAI,EAAKL,MAAMK,KAC/B,EAAAE,SAASF,GAAKG,SAAQ,SAACC,GACrB,SAAKT,MAAMF,QAAQY,wBAAwB,CACzCC,MAAO,CACLN,IAAKA,EACLI,MAAOA,EACPG,YAAaH,EACbI,MAAO,IAETC,MAAO,EAAKd,MAAMF,QAAQiB,OAAOC,Y,EAIzC,OAxBqE,sEAC5D,iEAAArB,OAAP,WACE,IAAMsB,EAAQhB,EAAMiB,SAASC,KAAKC,KAAKpB,MAAMqB,UACvCrB,EAAQ,CACZI,QAASgB,KAAKhB,SAGhB,OAAOH,EAAMqB,aAAaL,EAAOjB,IAiBrC,uDAxBA,CAAqEC,EAAMC,WA0B3E,UAAeC","file":"semantic-search-action-use-result-item-in-extended-search-4a6e4a40fe4c5c8cd1d6.js","sourcesContent":["/**\n * ResearchSpace\n * Copyright (C) 2015-2020, Â© Trustees of the British Museum\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * @author Artem Kozlov <ak@metaphacts.com>\n */\n\nimport * as React from 'react';\n\nimport { Rdf } from 'platform/api/rdf';\nimport { getLabel } from 'platform/api/services/resource-label';\nimport {\n  SemanticSearchContext,\n  ResultContext,\n} from 'platform/components/semantic/search/web-components/SemanticSearchApi';\n\nexport interface SemanticSearchUseResultItemInExtendedSearchActionProps {\n  iri: string;\n}\n\nexport class SemanticSearchUseResultItemInExtendedSearchAction extends React.Component<\n  SemanticSearchUseResultItemInExtendedSearchActionProps,\n  {}\n> {\n  render() {\n    return (\n      <SemanticSearchContext.Consumer>\n        {(context) => <SemanticSearchUseResultItemInExtendedSearchActionInner {...this.props} context={context} />}\n      </SemanticSearchContext.Consumer>\n    );\n  }\n}\n\ninterface InnerProps extends SemanticSearchUseResultItemInExtendedSearchActionProps {\n  context: ResultContext;\n}\n\nclass SemanticSearchUseResultItemInExtendedSearchActionInner extends React.Component<InnerProps, {}> {\n  public render() {\n    const child = React.Children.only(this.props.children) as React.ReactElement<any>;\n    const props = {\n      onClick: this.onClick,\n    };\n\n    return React.cloneElement(child, props);\n  }\n\n  private onClick = () => {\n    const iri = Rdf.iri(this.props.iri);\n    getLabel(iri).onValue((label) =>\n      this.props.context.useInExtendedFcFrSearch({\n        value: {\n          iri: iri,\n          label: label,\n          description: label,\n          tuple: {},\n        },\n        range: this.props.context.domain.get(),\n      })\n    );\n  };\n}\n\nexport default SemanticSearchUseResultItemInExtendedSearchAction;\n"],"sourceRoot":""}