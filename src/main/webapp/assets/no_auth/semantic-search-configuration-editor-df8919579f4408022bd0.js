(window.webpackJsonp=window.webpackJsonp||[]).push([[494],{1522:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),l=n(1),o=n(33),i=n(7),s=n(16),r=n(1569),c=n(3399),u=n(3400),p=n(1523),d=function(e){function ConfigurationSelector(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(ConfigurationSelector,e),ConfigurationSelector.prototype.render=function(){var e=this;return l.createElement(r.SemanticSearchContext.Consumer,null,(function(t){return l.createElement(m,a.__assign({},e.props,{context:t}))}))},ConfigurationSelector}(l.Component);t.ConfigurationSelector=d;var m=function(e){function ConfigurationSelectorInner(t){var n=e.call(this,t)||this;return n.configHolder=function(){var e,t=n.state.isCollapsed;return l.createElement("div",{className:p.holder},l.createElement("span",{onClick:n.onCollapseExpand},l.createElement("i",{className:i((e={},e[p.configExpand]=t,e[p.configCollapse]=!t,e))}),"Configure search options"),l.createElement("div",{className:"clearfix"}),n.state.isCollapsed?n.viewConfiguration():n.editConfiguration())},n.onCollapseExpand=function(){return n.setState((function(e){return{isCollapsed:!e.isCollapsed}}))},n.editConfiguration=function(){var e=n.props.context;return l.createElement("div",null,n.props.children,l.createElement("div",{className:p.configurationSelector},l.createElement("span",null,"Datasets for search:"),l.createElement("div",{className:p.datasetSelector},l.createElement(c.DatasetSelector,{disabled:!e.isConfigurationEditable,availableDatasets:e.availableDatasets,selectedDatasets:e.selectedDatasets,onDatasetsSelection:n.selectDatasets})),l.createElement("div",{className:p.alignmentSelector},l.createElement(u.AlignmentSelector,{disabled:!e.isConfigurationEditable,selectedDatasets:e.selectedDatasets,selectedAlignment:e.selectedAlignment,onAlignmentSelection:e.setSelectedAlignment}))))},n.selectDatasets=function(e){var t=n.props.context;e.length<1&&t.setSelectedAlignment(o.Nothing()),t.setSelectedDatasets(e)},n.state={isCollapsed:!0},n}return a.__extends(ConfigurationSelectorInner,e),ConfigurationSelectorInner.prototype.render=function(){return this.configHolder()},ConfigurationSelectorInner.prototype.viewConfiguration=function(){var e=this.props.context;return s.isEmpty(e.selectedDatasets)?null:l.createElement("div",null,l.createElement("div",{className:p.viewHolder},l.createElement("b",null,"Datasets: "),s.map(e.selectedDatasets,(function(e){return e.label})).join(", "),".",l.createElement("b",null," Alignment: "),e.selectedAlignment.map((function(e){return e.label})).getOrElse("NONE")),l.createElement("div",{className:"clearfix"}))},ConfigurationSelectorInner}(l.Component);t.default=d},3399:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),l=n(1),o=n(1559),i=n(16),s=function(e){function DatasetSelector(){var t=null!==e&&e.apply(this,arguments)||this;return t.datasetSelector=function(){return l.createElement(o.default,{disabled:t.props.disabled,options:t.datasetsToOptions(t.props.availableDatasets),multi:!0,value:t.datasetsToOptions(t.props.selectedDatasets),onChange:t.selectDatasets,placeholder:"Select Datasets"})},t.datasetsToOptions=function(e){return i.map(e,(function(e){var t=i.map(e.alignments,(function(e){return e.label})).join(", ");return{value:e.iri.value,label:e.label+" ["+t+"]"}}))},t.selectDatasets=function(e){var n=t.props.availableDatasets;t.props.onDatasetsSelection(i.map(e,(function(e){return i.find(n,(function(t){return t.iri.value===e.value}))})))},t}return a.__extends(DatasetSelector,e),DatasetSelector.prototype.render=function(){return this.props.availableDatasets.length>0?this.datasetSelector():null},DatasetSelector.prototype.componentDidMount=function(){i.isEmpty(this.props.selectedDatasets)&&this.props.onDatasetsSelection(i.filter(this.props.availableDatasets,(function(e){return e.isDefault})))},DatasetSelector}(l.Component);t.DatasetSelector=s},3400:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),l=n(1),o=n(1559),i=n(16),s=n(33),r=function(e){function AlignmentSelector(t,n){var r=e.call(this,t,n)||this;return r.alignmentsForDatasets=function(e){var t=i.map(e,(function(e){return e.alignments||[]}));return i.intersectionWith.apply(void 0,a.__spreadArrays(t,[function(e,t){return e.iri.equals(t.iri)}]))},r.alignmentSelector=function(){return l.createElement(o.default,{disabled:r.props.disabled,options:r.alignmentsToOptions(r.state.alignments),multi:!0,value:r.props.selectedAlignment.map(r.alignmentToOption).getOrElse(null),onChange:r.selectAlignment,placeholder:"Select Alignment"})},r.alignmentsToOptions=function(e){return i.map(e,r.alignmentToOption)},r.alignmentToOption=function(e){return{value:e.iri.value,label:e.label}},r.selectAlignment=function(e){0!==e.length?r.props.onAlignmentSelection(s.Just(i.find(r.state.alignments,(function(t){return t.iri.value===e[0].value})))):r.props.onAlignmentSelection(s.Nothing())},r.state={alignments:r.alignmentsForDatasets(t.selectedDatasets)},r}return a.__extends(AlignmentSelector,e),AlignmentSelector.prototype.componentWillReceiveProps=function(e){this.setState({alignments:this.alignmentsForDatasets(e.selectedDatasets)})},AlignmentSelector.prototype.render=function(){return this.props.selectedDatasets.length>0?this.alignmentSelector():null},AlignmentSelector}(l.Component);t.AlignmentSelector=r}}]);
//# sourceMappingURL=semantic-search-configuration-editor-df8919579f4408022bd0.js.map