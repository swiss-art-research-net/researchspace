(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{1652:function(t,e){function LayoutConstants(){}LayoutConstants.PROOF_QUALITY=0,LayoutConstants.DEFAULT_QUALITY=1,LayoutConstants.DRAFT_QUALITY=2,LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,LayoutConstants.DEFAULT_INCREMENTAL=!1,LayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT=!0,LayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT=!1,LayoutConstants.DEFAULT_ANIMATION_PERIOD=50,LayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,LayoutConstants.DEFAULT_GRAPH_MARGIN=15,LayoutConstants.SIMPLE_NODE_SIZE=40,LayoutConstants.SIMPLE_NODE_HALF_SIZE=LayoutConstants.SIMPLE_NODE_SIZE/2,LayoutConstants.EMPTY_COMPOUND_NODE_SIZE=40,LayoutConstants.MIN_EDGE_LENGTH=1,LayoutConstants.WORLD_BOUNDARY=1e6,LayoutConstants.INITIAL_WORLD_BOUNDARY=LayoutConstants.WORLD_BOUNDARY/1e3,LayoutConstants.WORLD_CENTER_X=1200,LayoutConstants.WORLD_CENTER_Y=900,t.exports=LayoutConstants},1736:function(t,e){function PointD(t,e){null==t&&null==e?(this.x=0,this.y=0):(this.x=t,this.y=e)}PointD.prototype.getX=function(){return this.x},PointD.prototype.getY=function(){return this.y},PointD.prototype.setX=function(t){this.x=t},PointD.prototype.setY=function(t){this.y=t},PointD.prototype.getDifference=function(t){return new DimensionD(this.x-t.x,this.y-t.y)},PointD.prototype.getCopy=function(){return new PointD(this.x,this.y)},PointD.prototype.translate=function(t){return this.x+=t.width,this.y+=t.height,this},t.exports=PointD},1737:function(t,e,o){var n=o(1652);function FDLayoutConstants(){}for(var r in n)FDLayoutConstants[r]=n[r];FDLayoutConstants.MAX_ITERATIONS=2500,FDLayoutConstants.DEFAULT_EDGE_LENGTH=50,FDLayoutConstants.DEFAULT_SPRING_STRENGTH=.45,FDLayoutConstants.DEFAULT_REPULSION_STRENGTH=4500,FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH=.4,FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,FDLayoutConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,FDLayoutConstants.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,FDLayoutConstants.MAX_NODE_DISPLACEMENT=3*FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL,FDLayoutConstants.MIN_REPULSION_DIST=FDLayoutConstants.DEFAULT_EDGE_LENGTH/10,FDLayoutConstants.CONVERGENCE_CHECK_PERIOD=100,FDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,FDLayoutConstants.MIN_EDGE_LENGTH=1,FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=FDLayoutConstants},1813:function(t,e,o){var n=o(1937);function HashSet(){this.set={}}HashSet.prototype.add=function(t){var e=n.createID(t);this.contains(e)||(this.set[e]=t)},HashSet.prototype.remove=function(t){delete this.set[n.createID(t)]},HashSet.prototype.clear=function(){this.set={}},HashSet.prototype.contains=function(t){return this.set[n.createID(t)]==t},HashSet.prototype.isEmpty=function(){return 0===this.size()},HashSet.prototype.size=function(){return Object.keys(this.set).length},HashSet.prototype.addAllTo=function(t){for(var e=Object.keys(this.set),o=e.length,n=0;n<o;n++)t.push(this.set[e[n]])},HashSet.prototype.size=function(){return Object.keys(this.set).length},HashSet.prototype.addAll=function(t){for(var e=t.length,o=0;o<e;o++){var n=t[o];this.add(n)}},t.exports=HashSet},1814:function(t,e){function IGeometry(){}IGeometry.calcSeparationAmount=function(t,e,o,n){if(!t.intersects(e))throw"assert failed";var r=new Array(2);IGeometry.decideDirectionsForOverlappingNodes(t,e,r),o[0]=Math.min(t.getRight(),e.getRight())-Math.max(t.x,e.x),o[1]=Math.min(t.getBottom(),e.getBottom())-Math.max(t.y,e.y),t.getX()<=e.getX()&&t.getRight()>=e.getRight()?o[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight()):e.getX()<=t.getX()&&e.getRight()>=t.getRight()&&(o[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight())),t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()?o[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()):e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()&&(o[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()));var i=Math.abs((e.getCenterY()-t.getCenterY())/(e.getCenterX()-t.getCenterX()));e.getCenterY()==t.getCenterY()&&e.getCenterX()==t.getCenterX()&&(i=1);var a=i*o[0],s=o[1]/i;o[0]<s?s=o[0]:a=o[1],o[0]=-1*r[0]*(s/2+n),o[1]=-1*r[1]*(a/2+n)},IGeometry.decideDirectionsForOverlappingNodes=function(t,e,o){t.getCenterX()<e.getCenterX()?o[0]=-1:o[0]=1,t.getCenterY()<e.getCenterY()?o[1]=-1:o[1]=1},IGeometry.getIntersection2=function(t,e,o){var n=t.getCenterX(),r=t.getCenterY(),i=e.getCenterX(),a=e.getCenterY();if(t.intersects(e))return o[0]=n,o[1]=r,o[2]=i,o[3]=a,!0;var s=t.getX(),h=t.getY(),g=t.getRight(),l=t.getX(),u=t.getBottom(),p=t.getRight(),c=t.getWidthHalf(),d=t.getHeightHalf(),f=e.getX(),y=e.getY(),L=e.getRight(),E=e.getX(),m=e.getBottom(),D=e.getRight(),N=e.getWidthHalf(),v=e.getHeightHalf(),T=!1,A=!1;if(n==i){if(r>a)return o[0]=n,o[1]=h,o[2]=i,o[3]=m,!1;if(r<a)return o[0]=n,o[1]=u,o[2]=i,o[3]=y,!1}else if(r==a){if(n>i)return o[0]=s,o[1]=r,o[2]=L,o[3]=a,!1;if(n<i)return o[0]=g,o[1]=r,o[2]=f,o[3]=a,!1}else{var _,w,C,I,R,O,M=t.height/t.width,G=e.height/e.width,S=(a-r)/(i-n);if(-M==S?n>i?(o[0]=l,o[1]=u,T=!0):(o[0]=g,o[1]=h,T=!0):M==S&&(n>i?(o[0]=s,o[1]=h,T=!0):(o[0]=p,o[1]=u,T=!0)),-G==S?i>n?(o[2]=E,o[3]=m,A=!0):(o[2]=L,o[3]=y,A=!0):G==S&&(i>n?(o[2]=f,o[3]=y,A=!0):(o[2]=D,o[3]=m,A=!0)),T&&A)return!1;if(n>i?r>a?(_=IGeometry.getCardinalDirection(M,S,4),w=IGeometry.getCardinalDirection(G,S,2)):(_=IGeometry.getCardinalDirection(-M,S,3),w=IGeometry.getCardinalDirection(-G,S,1)):r>a?(_=IGeometry.getCardinalDirection(-M,S,1),w=IGeometry.getCardinalDirection(-G,S,3)):(_=IGeometry.getCardinalDirection(M,S,2),w=IGeometry.getCardinalDirection(G,S,4)),!T)switch(_){case 1:I=h,C=n+-d/S,o[0]=C,o[1]=I;break;case 2:C=p,I=r+c*S,o[0]=C,o[1]=I;break;case 3:I=u,C=n+d/S,o[0]=C,o[1]=I;break;case 4:C=l,I=r+-c*S,o[0]=C,o[1]=I}if(!A)switch(w){case 1:O=y,R=i+-v/S,o[2]=R,o[3]=O;break;case 2:R=D,O=a+N*S,o[2]=R,o[3]=O;break;case 3:O=m,R=i+v/S,o[2]=R,o[3]=O;break;case 4:R=E,O=a+-N*S,o[2]=R,o[3]=O}}return!1},IGeometry.getCardinalDirection=function(t,e,o){return t>e?o:1+o%4},IGeometry.getIntersection=function(t,e,o,n){if(null==n)return IGeometry.getIntersection2(t,e,o);var r,i,a,s,h,g,l,u=t.x,p=t.y,c=e.x,d=e.y,f=o.x,y=o.y,L=n.x,E=n.y;return h=c*p-u*d,g=L*y-f*E,0==(l=(r=d-p)*(s=f-L)-(i=E-y)*(a=u-c))?null:new Point((a*g-s*h)/l,(i*h-r*g)/l)},IGeometry.HALF_PI=.5*Math.PI,IGeometry.ONE_AND_HALF_PI=1.5*Math.PI,IGeometry.TWO_PI=2*Math.PI,IGeometry.THREE_PI=3*Math.PI,t.exports=IGeometry},1815:function(t,e){function IMath(){}IMath.sign=function(t){return t>0?1:t<0?-1:0},IMath.floor=function(t){return t<0?Math.ceil(t):Math.floor(t)},IMath.ceil=function(t){return t<0?Math.floor(t):Math.ceil(t)},t.exports=IMath},1816:function(t,e){function Integer(){}Integer.MAX_VALUE=2147483647,Integer.MIN_VALUE=-2147483648,t.exports=Integer},1817:function(t,e){t.exports=function LGraphObject(t){this.vGraphObject=t}},1818:function(t,e,o){var n=o(1817),r=o(1816),i=o(1652),a=o(1819),s=o(1820),h=o(1813),g=o(1939),l=o(1938);function LGraph(t,e,o){n.call(this,o),this.estimatedSize=r.MIN_VALUE,this.margin=i.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=t,null!=e&&e instanceof a?this.graphManager=e:null!=e&&e instanceof Layout&&(this.graphManager=e.graphManager)}for(var u in LGraph.prototype=Object.create(n.prototype),n)LGraph[u]=n[u];LGraph.prototype.getNodes=function(){return this.nodes},LGraph.prototype.getEdges=function(){return this.edges},LGraph.prototype.getGraphManager=function(){return this.graphManager},LGraph.prototype.getParent=function(){return this.parent},LGraph.prototype.getLeft=function(){return this.left},LGraph.prototype.getRight=function(){return this.right},LGraph.prototype.getTop=function(){return this.top},LGraph.prototype.getBottom=function(){return this.bottom},LGraph.prototype.isConnected=function(){return this.isConnected},LGraph.prototype.add=function(t,e,o){if(null==e&&null==o){var n=t;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(n)>-1)throw"Node already in graph!";return n.owner=this,this.getNodes().push(n),n}var r=t;if(!(this.getNodes().indexOf(e)>-1&&this.getNodes().indexOf(o)>-1))throw"Source or target not in graph!";if(e.owner!=o.owner||e.owner!=this)throw"Both owners must be this graph!";return e.owner!=o.owner?null:(r.source=e,r.target=o,r.isInterGraph=!1,this.getEdges().push(r),e.edges.push(r),o!=e&&o.edges.push(r),r)},LGraph.prototype.remove=function(t){var e=t;if(t instanceof s){if(null==e)throw"Node is null!";if(null==e.owner||e.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var o=e.edges.slice(),n=o.length,r=0;r<n;r++)(i=o[r]).isInterGraph?this.graphManager.remove(i):i.source.owner.remove(i);if(-1==(a=this.nodes.indexOf(e)))throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(t instanceof LEdge){var i;if(null==(i=t))throw"Edge is null!";if(null==i.source||null==i.target)throw"Source and/or target is null!";if(null==i.source.owner||null==i.target.owner||i.source.owner!=this||i.target.owner!=this)throw"Source and/or target owner is invalid!";var a,h=i.source.edges.indexOf(i),g=i.target.edges.indexOf(i);if(!(h>-1&&g>-1))throw"Source and/or target doesn't know this edge!";if(i.source.edges.splice(h,1),i.target!=i.source&&i.target.edges.splice(g,1),-1==(a=i.source.owner.getEdges().indexOf(i)))throw"Not in owner's edge list!";i.source.owner.getEdges().splice(a,1)}},LGraph.prototype.updateLeftTop=function(){for(var t,e,o=r.MAX_VALUE,n=r.MAX_VALUE,i=this.getNodes(),a=i.length,s=0;s<a;s++){var h=i[s];o>(t=Math.floor(h.getTop()))&&(o=t),n>(e=Math.floor(h.getLeft()))&&(n=e)}return o==r.MAX_VALUE?null:(this.left=n-this.margin,this.top=o-this.margin,new l(this.left,this.top))},LGraph.prototype.updateBounds=function(t){for(var e,o,n,i,a=r.MAX_VALUE,s=-r.MAX_VALUE,h=r.MAX_VALUE,l=-r.MAX_VALUE,u=this.nodes,p=u.length,c=0;c<p;c++){var d=u[c];t&&null!=d.child&&d.updateBounds(),a>(e=Math.floor(d.getLeft()))&&(a=e),s<(o=Math.floor(d.getRight()))&&(s=o),h>(n=Math.floor(d.getTop()))&&(h=n),l<(i=Math.floor(d.getBottom()))&&(l=i)}var f=new g(a,h,s-a,l-h);a==r.MAX_VALUE&&(this.left=Math.floor(this.parent.getLeft()),this.right=Math.floor(this.parent.getRight()),this.top=Math.floor(this.parent.getTop()),this.bottom=Math.floor(this.parent.getBottom())),this.left=f.x-this.margin,this.right=f.x+f.width+this.margin,this.top=f.y-this.margin,this.bottom=f.y+f.height+this.margin},LGraph.calculateBounds=function(t){for(var e,o,n,i,a=r.MAX_VALUE,s=-r.MAX_VALUE,h=r.MAX_VALUE,l=-r.MAX_VALUE,u=t.length,p=0;p<u;p++){var c=t[p];a>(e=Math.floor(c.getLeft()))&&(a=e),s<(o=Math.floor(c.getRight()))&&(s=o),h>(n=Math.floor(c.getTop()))&&(h=n),l<(i=Math.floor(c.getBottom()))&&(l=i)}return new g(a,h,s-a,l-h)},LGraph.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},LGraph.prototype.getEstimatedSize=function(){if(this.estimatedSize==r.MIN_VALUE)throw"assert failed";return this.estimatedSize},LGraph.prototype.calcEstimatedSize=function(){for(var t=0,e=this.nodes,o=e.length,n=0;n<o;n++){t+=e[n].calcEstimatedSize()}return this.estimatedSize=0==t?i.EMPTY_COMPOUND_NODE_SIZE:Math.floor(t/Math.sqrt(this.nodes.length)),Math.floor(this.estimatedSize)},LGraph.prototype.updateConnected=function(){if(0!=this.nodes.length){var t,e,o=[],n=new h,r=this.nodes[0];for(o=o.concat(r.withChildren());o.length>0;){r=o.shift(),n.add(r);for(var i=(t=r.getEdges()).length,a=0;a<i;a++){null==(e=t[a].getOtherEndInGraph(r,this))||n.contains(e)||(o=o.concat(e.withChildren()))}}if(this.isConnected=!1,n.size()>=this.nodes.length){var s=0;i=n.size();for(var g in n.set){n.set[g].owner==this&&s++}s==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},t.exports=LGraph},1819:function(t,e){function LGraphManager(t){this.layout=t,this.graphs=[],this.edges=[]}LGraphManager.prototype.addRoot=function(){var t=this.layout.newGraph(),e=this.layout.newNode(null),o=this.add(t,e);return this.setRootGraph(o),this.rootGraph},LGraphManager.prototype.add=function(t,e,o,n,r){if(null==o&&null==n&&null==r){if(null==t)throw"Graph is null!";if(null==e)throw"Parent node is null!";if(this.graphs.indexOf(t)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(t),null!=t.parent)throw"Already has a parent!";if(null!=e.child)throw"Already has a child!";return t.parent=e,e.child=t,t}r=o,o=t;var i=(n=e).getOwner(),a=r.getOwner();if(null==i||i.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(i==a)return o.isInterGraph=!1,i.add(o,n,r);if(o.isInterGraph=!0,o.source=n,o.target=r,this.edges.indexOf(o)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(o),null==o.source||null==o.target)throw"Edge source and/or target is null!";if(-1!=o.source.edges.indexOf(o)||-1!=o.target.edges.indexOf(o))throw"Edge already in source and/or target incidency list!";return o.source.edges.push(o),o.target.edges.push(o),o},LGraphManager.prototype.remove=function(t){if(t instanceof LGraph){var e=t;if(e.getGraphManager()!=this)throw"Graph not in this graph mgr";if(e!=this.rootGraph&&(null==e.parent||e.parent.graphManager!=this))throw"Invalid parent node!";for(var o,n=[],r=(n=n.concat(e.getEdges())).length,i=0;i<r;i++)o=n[i],e.remove(o);var a,s=[];r=(s=s.concat(e.getNodes())).length;for(i=0;i<r;i++)a=s[i],e.remove(a);e==this.rootGraph&&this.setRootGraph(null);var h=this.graphs.indexOf(e);this.graphs.splice(h,1),e.parent=null}else if(t instanceof LEdge){if(null==(o=t))throw"Edge is null!";if(!o.isInterGraph)throw"Not an inter-graph edge!";if(null==o.source||null==o.target)throw"Source and/or target is null!";if(-1==o.source.edges.indexOf(o)||-1==o.target.edges.indexOf(o))throw"Source and/or target doesn't know this edge!";h=o.source.edges.indexOf(o);if(o.source.edges.splice(h,1),h=o.target.edges.indexOf(o),o.target.edges.splice(h,1),null==o.source.owner||null==o.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==o.source.owner.getGraphManager().edges.indexOf(o))throw"Not in owner graph manager's edge list!";h=o.source.owner.getGraphManager().edges.indexOf(o);o.source.owner.getGraphManager().edges.splice(h,1)}},LGraphManager.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},LGraphManager.prototype.getGraphs=function(){return this.graphs},LGraphManager.prototype.getAllNodes=function(){if(null==this.allNodes){for(var t=[],e=this.getGraphs(),o=e.length,n=0;n<o;n++)t=t.concat(e[n].getNodes());this.allNodes=t}return this.allNodes},LGraphManager.prototype.resetAllNodes=function(){this.allNodes=null},LGraphManager.prototype.resetAllEdges=function(){this.allEdges=null},LGraphManager.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},LGraphManager.prototype.getAllEdges=function(){if(null==this.allEdges){for(var t=[],e=this.getGraphs(),o=(e.length,0);o<e.length;o++)t=t.concat(e[o].getEdges());t=t.concat(this.edges),this.allEdges=t}return this.allEdges},LGraphManager.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},LGraphManager.prototype.setAllNodesToApplyGravitation=function(t){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=t},LGraphManager.prototype.getRoot=function(){return this.rootGraph},LGraphManager.prototype.setRootGraph=function(t){if(t.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=t,null==t.parent&&(t.parent=this.layout.newNode("Root node"))},LGraphManager.prototype.getLayout=function(){return this.layout},LGraphManager.prototype.isOneAncestorOfOther=function(t,e){if(null==t||null==e)throw"assert failed";if(t==e)return!0;for(var o,n=t.getOwner();;){if(null==(o=n.getParent()))break;if(o==e)return!0;if(null==(n=o.getOwner()))break}for(n=e.getOwner();;){if(null==(o=n.getParent()))break;if(o==t)return!0;if(null==(n=o.getOwner()))break}return!1},LGraphManager.prototype.calcLowestCommonAncestors=function(){for(var t,e,o,n,r,i=this.getAllEdges(),a=i.length,s=0;s<a;s++)if(e=(t=i[s]).source,o=t.target,t.lca=null,t.sourceInLca=e,t.targetInLca=o,e!=o){for(n=e.getOwner();null==t.lca;){for(r=o.getOwner();null==t.lca;){if(r==n){t.lca=r;break}if(r==this.rootGraph)break;if(null!=t.lca)throw"assert failed";t.targetInLca=r.getParent(),r=t.targetInLca.getOwner()}if(n==this.rootGraph)break;null==t.lca&&(t.sourceInLca=n.getParent(),n=t.sourceInLca.getOwner())}if(null==t.lca)throw"assert failed"}else t.lca=e.getOwner()},LGraphManager.prototype.calcLowestCommonAncestor=function(t,e){if(t==e)return t.getOwner();for(var o=t.getOwner();;){if(null==o)break;for(var n=e.getOwner();;){if(null==n)break;if(n==o)return n;n=n.getParent().getOwner()}o=o.getParent().getOwner()}return o},LGraphManager.prototype.calcInclusionTreeDepths=function(t,e){var o;null==t&&null==e&&(t=this.rootGraph,e=1);for(var n=t.getNodes(),r=n.length,i=0;i<r;i++)(o=n[i]).inclusionTreeDepth=e,null!=o.child&&this.calcInclusionTreeDepths(o.child,e+1)},LGraphManager.prototype.includesInvalidEdge=function(){for(var t,e=this.edges.length,o=0;o<e;o++)if(t=this.edges[o],this.isOneAncestorOfOther(t.source,t.target))return!0;return!1},t.exports=LGraphManager},1820:function(t,e,o){var n=o(1817),r=o(1816),i=o(1939),a=o(1652),s=o(2211),h=o(1736),g=o(1813);function LNode(t,e,o,a){null==o&&null==a&&(a=e),n.call(this,a),null!=t.graphManager&&(t=t.graphManager),this.estimatedSize=r.MIN_VALUE,this.inclusionTreeDepth=r.MAX_VALUE,this.vGraphObject=a,this.edges=[],this.graphManager=t,this.rect=null!=o&&null!=e?new i(e.x,e.y,o.width,o.height):new i}for(var l in LNode.prototype=Object.create(n.prototype),n)LNode[l]=n[l];LNode.prototype.getEdges=function(){return this.edges},LNode.prototype.getChild=function(){return this.child},LNode.prototype.getOwner=function(){if(null!=this.owner&&!(null==this.owner||this.owner.getNodes().indexOf(this)>-1))throw"assert failed";return this.owner},LNode.prototype.getWidth=function(){return this.rect.width},LNode.prototype.setWidth=function(t){this.rect.width=t},LNode.prototype.getHeight=function(){return this.rect.height},LNode.prototype.setHeight=function(t){this.rect.height=t},LNode.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},LNode.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},LNode.prototype.getCenter=function(){return new h(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},LNode.prototype.getLocation=function(){return new h(this.rect.x,this.rect.y)},LNode.prototype.getRect=function(){return this.rect},LNode.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},LNode.prototype.setRect=function(t,e){this.rect.x=t.x,this.rect.y=t.y,this.rect.width=e.width,this.rect.height=e.height},LNode.prototype.setCenter=function(t,e){this.rect.x=t-this.rect.width/2,this.rect.y=e-this.rect.height/2},LNode.prototype.setLocation=function(t,e){this.rect.x=t,this.rect.y=e},LNode.prototype.moveBy=function(t,e){this.rect.x+=t,this.rect.y+=e},LNode.prototype.getEdgeListToNode=function(t){var e,o=[];for(var n in this.edges)if((e=n).target==t){if(e.source!=this)throw"Incorrect edge source!";o.push(e)}return o},LNode.prototype.getEdgesBetween=function(t){var e,o=[];for(var n in this.edges){if((e=this.edges[n]).source!=this&&e.target!=this)throw"Incorrect edge source and/or target";e.target!=t&&e.source!=t||o.push(e)}return o},LNode.prototype.getNeighborsList=function(){var t,e=new g;for(var o in this.edges)if((t=this.edges[o]).source==this)e.add(t.target);else{if(!t.target==this)throw"Incorrect incidency!";e.add(t.source)}return e},LNode.prototype.withChildren=function(){var t,e=[];if(e.push(this),null!=this.child)for(var o=this.child.getNodes(),n=0;n<o.length;n++)t=o[n],e=e.concat(t.withChildren());return e},LNode.prototype.getEstimatedSize=function(){if(this.estimatedSize==r.MIN_VALUE)throw"assert failed";return this.estimatedSize},LNode.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=Math.floor((this.rect.width+this.rect.height)/2):(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},LNode.prototype.scatter=function(){var t,e,o=-a.INITIAL_WORLD_BOUNDARY,n=a.INITIAL_WORLD_BOUNDARY;t=a.WORLD_CENTER_X+s.nextDouble()*(n-o)+o;var r=-a.INITIAL_WORLD_BOUNDARY,i=a.INITIAL_WORLD_BOUNDARY;e=a.WORLD_CENTER_Y+s.nextDouble()*(i-r)+r,this.rect.x=t,this.rect.y=e},LNode.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var t=this.getChild();t.updateBounds(!0),this.rect.x=t.getLeft(),this.rect.y=t.getTop(),this.setWidth(t.getRight()-t.getLeft()),this.setHeight(t.getBottom()-t.getTop())}},LNode.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==r.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},LNode.prototype.transform=function(t){var e=this.rect.x;e>a.WORLD_BOUNDARY?e=a.WORLD_BOUNDARY:e<-a.WORLD_BOUNDARY&&(e=-a.WORLD_BOUNDARY);var o=this.rect.y;o>a.WORLD_BOUNDARY?o=a.WORLD_BOUNDARY:o<-a.WORLD_BOUNDARY&&(o=-a.WORLD_BOUNDARY);var n=new h(e,o),r=t.inverseTransformPoint(n);this.setLocation(r.x,r.y)},LNode.prototype.getLeft=function(){return this.rect.x},LNode.prototype.getRight=function(){return this.rect.x+this.rect.width},LNode.prototype.getTop=function(){return this.rect.y},LNode.prototype.getBottom=function(){return this.rect.y+this.rect.height},LNode.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},t.exports=LNode},1937:function(t,e){function UniqueIDGeneretor(){}UniqueIDGeneretor.lastID=0,UniqueIDGeneretor.createID=function(t){return UniqueIDGeneretor.isPrimitive(t)?t:(null!=t.uniqueID||(t.uniqueID=UniqueIDGeneretor.getString(),UniqueIDGeneretor.lastID++),t.uniqueID)},UniqueIDGeneretor.getString=function(t){return null==t&&(t=UniqueIDGeneretor.lastID),"Object#"+t},UniqueIDGeneretor.isPrimitive=function(t){var e=typeof t;return null==t||"object"!=e&&"function"!=e},t.exports=UniqueIDGeneretor},1938:function(t,e){function Point(t,e,o){this.x=null,this.y=null,null==t&&null==e&&null==o?(this.x=0,this.y=0):"number"==typeof t&&"number"==typeof e&&null==o?(this.x=t,this.y=e):"Point"==t.constructor.name&&null==e&&null==o&&(o=t,this.x=o.x,this.y=o.y)}Point.prototype.getX=function(){return this.x},Point.prototype.getY=function(){return this.y},Point.prototype.getLocation=function(){return new Point(this.x,this.y)},Point.prototype.setLocation=function(t,e,o){"Point"==t.constructor.name&&null==e&&null==o?(o=t,this.setLocation(o.x,o.y)):"number"==typeof t&&"number"==typeof e&&null==o&&(parseInt(t)==t&&parseInt(e)==e?this.move(t,e):(this.x=Math.floor(t+.5),this.y=Math.floor(e+.5)))},Point.prototype.move=function(t,e){this.x=t,this.y=e},Point.prototype.translate=function(t,e){this.x+=t,this.y+=e},Point.prototype.equals=function(t){if("Point"==t.constructor.name){var e=t;return this.x==e.x&&this.y==e.y}return this==t},Point.prototype.toString=function(){return(new Point).constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=Point},1939:function(t,e){function RectangleD(t,e,o,n){this.x=0,this.y=0,this.width=0,this.height=0,null!=t&&null!=e&&null!=o&&null!=n&&(this.x=t,this.y=e,this.width=o,this.height=n)}RectangleD.prototype.getX=function(){return this.x},RectangleD.prototype.setX=function(t){this.x=t},RectangleD.prototype.getY=function(){return this.y},RectangleD.prototype.setY=function(t){this.y=t},RectangleD.prototype.getWidth=function(){return this.width},RectangleD.prototype.setWidth=function(t){this.width=t},RectangleD.prototype.getHeight=function(){return this.height},RectangleD.prototype.setHeight=function(t){this.height=t},RectangleD.prototype.getRight=function(){return this.x+this.width},RectangleD.prototype.getBottom=function(){return this.y+this.height},RectangleD.prototype.intersects=function(t){return!(this.getRight()<t.x)&&(!(this.getBottom()<t.y)&&(!(t.getRight()<this.x)&&!(t.getBottom()<this.y)))},RectangleD.prototype.getCenterX=function(){return this.x+this.width/2},RectangleD.prototype.getMinX=function(){return this.getX()},RectangleD.prototype.getMaxX=function(){return this.getX()+this.width},RectangleD.prototype.getCenterY=function(){return this.y+this.height/2},RectangleD.prototype.getMinY=function(){return this.getY()},RectangleD.prototype.getMaxY=function(){return this.getY()+this.height},RectangleD.prototype.getWidthHalf=function(){return this.width/2},RectangleD.prototype.getHeightHalf=function(){return this.height/2},t.exports=RectangleD},1940:function(t,e,o){var n=o(1736);function Transform(t,e){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}Transform.prototype.getWorldOrgX=function(){return this.lworldOrgX},Transform.prototype.setWorldOrgX=function(t){this.lworldOrgX=t},Transform.prototype.getWorldOrgY=function(){return this.lworldOrgY},Transform.prototype.setWorldOrgY=function(t){this.lworldOrgY=t},Transform.prototype.getWorldExtX=function(){return this.lworldExtX},Transform.prototype.setWorldExtX=function(t){this.lworldExtX=t},Transform.prototype.getWorldExtY=function(){return this.lworldExtY},Transform.prototype.setWorldExtY=function(t){this.lworldExtY=t},Transform.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},Transform.prototype.setDeviceOrgX=function(t){this.ldeviceOrgX=t},Transform.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},Transform.prototype.setDeviceOrgY=function(t){this.ldeviceOrgY=t},Transform.prototype.getDeviceExtX=function(){return this.ldeviceExtX},Transform.prototype.setDeviceExtX=function(t){this.ldeviceExtX=t},Transform.prototype.getDeviceExtY=function(){return this.ldeviceExtY},Transform.prototype.setDeviceExtY=function(t){this.ldeviceExtY=t},Transform.prototype.transformX=function(t){var e=0,o=this.lworldExtX;return 0!=o&&(e=this.ldeviceOrgX+(t-this.lworldOrgX)*this.ldeviceExtX/o),e},Transform.prototype.transformY=function(t){var e=0,o=this.lworldExtY;return 0!=o&&(e=this.ldeviceOrgY+(t-this.lworldOrgY)*this.ldeviceExtY/o),e},Transform.prototype.inverseTransformX=function(t){var e=0,o=this.ldeviceExtX;return 0!=o&&(e=this.lworldOrgX+(t-this.ldeviceOrgX)*this.lworldExtX/o),e},Transform.prototype.inverseTransformY=function(t){var e=0,o=this.ldeviceExtY;return 0!=o&&(e=this.lworldOrgY+(t-this.ldeviceOrgY)*this.lworldExtY/o),e},Transform.prototype.inverseTransformPoint=function(t){return new n(this.inverseTransformX(t.x),this.inverseTransformY(t.y))},t.exports=Transform},1941:function(t,e,o){var n=o(1817),r=o(1814),i=o(1815);function LEdge(t,e,o){n.call(this,o),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=o,this.bendpoints=[],this.source=t,this.target=e}for(var a in LEdge.prototype=Object.create(n.prototype),n)LEdge[a]=n[a];LEdge.prototype.getSource=function(){return this.source},LEdge.prototype.getTarget=function(){return this.target},LEdge.prototype.isInterGraph=function(){return this.isInterGraph},LEdge.prototype.getLength=function(){return this.length},LEdge.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},LEdge.prototype.getBendpoints=function(){return this.bendpoints},LEdge.prototype.getLca=function(){return this.lca},LEdge.prototype.getSourceInLca=function(){return this.sourceInLca},LEdge.prototype.getTargetInLca=function(){return this.targetInLca},LEdge.prototype.getOtherEnd=function(t){if(this.source===t)return this.target;if(this.target===t)return this.source;throw"Node is not incident with this edge"},LEdge.prototype.getOtherEndInGraph=function(t,e){for(var o=this.getOtherEnd(t),n=e.getGraphManager().getRoot();;){if(o.getOwner()==e)return o;if(o.getOwner()==n)break;o=o.getOwner().getParent()}return null},LEdge.prototype.updateLength=function(){var t=new Array(4);this.isOverlapingSourceAndTarget=r.getIntersection(this.target.getRect(),this.source.getRect(),t),this.isOverlapingSourceAndTarget||(this.lengthX=t[0]-t[2],this.lengthY=t[1]-t[3],Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},LEdge.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=LEdge},1942:function(t,e,o){var n=o(1652),r=o(2210),i=o(1819),a=o(1820),s=o(1941),h=o(1818),g=o(1736),l=o(1940),u=o(2911),p=o(1813);function Layout(t){u.call(this),this.layoutQuality=n.DEFAULT_QUALITY,this.createBendsAsNeeded=n.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=n.DEFAULT_INCREMENTAL,this.animationOnLayout=n.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=n.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=n.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=n.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new r,this.graphManager=new i(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=t&&(this.isRemoteUse=t)}Layout.RANDOM_SEED=1,Layout.prototype=Object.create(u.prototype),Layout.prototype.getGraphManager=function(){return this.graphManager},Layout.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},Layout.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},Layout.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},Layout.prototype.newGraphManager=function(){var t=new i(this);return this.graphManager=t,t},Layout.prototype.newGraph=function(t){return new h(null,this.graphManager,t)},Layout.prototype.newNode=function(t){return new a(this.graphManager,t)},Layout.prototype.newEdge=function(t){return new s(null,null,t)},Layout.prototype.runLayout=function(){var t;if(this.isLayoutFinished=!1,this.initParameters(),null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge())t=!1;else{var e=0;if(this.isSubLayout||(e=(new Date).getTime()),t=this.layout(),!this.isSubLayout)(new Date).getTime()}return t&&(this.isSubLayout||this.doPostLayout()),this.isLayoutFinished=!0,t},Layout.prototype.doPostLayout=function(){this.transform(),this.update()},Layout.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var t=this.graphManager.getAllEdges(),e=0;e<t.length;e++)t[e];var o=this.graphManager.getRoot().getNodes();for(e=0;e<o.length;e++)o[e];this.update(this.graphManager.getRoot())}},Layout.prototype.update=function(t){if(null==t)this.update2();else if(t instanceof a){var e=t;if(null!=e.getChild())for(var o=e.getChild().getNodes(),n=0;n<o.length;n++)update(o[n]);if(null!=e.vGraphObject)e.vGraphObject.update(e)}else if(t instanceof s){var r=t;if(null!=r.vGraphObject)r.vGraphObject.update(r)}else if(t instanceof h){var i=t;if(null!=i.vGraphObject)i.vGraphObject.update(i)}},Layout.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=n.DEFAULT_QUALITY,this.animationDuringLayout=n.DEFAULT_ANIMATION_ON_LAYOUT,this.animationPeriod=n.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=n.DEFAULT_ANIMATION_DURING_LAYOUT,this.incremental=n.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=n.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=n.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(animationOnLayout=!1)},Layout.prototype.transform=function(t){if(null==t)this.transform(new g(0,0));else{var e=new l,o=this.graphManager.getRoot().updateLeftTop();if(null!=o){e.setWorldOrgX(t.x),e.setWorldOrgY(t.y),e.setDeviceOrgX(o.x),e.setDeviceOrgY(o.y);for(var n=this.getAllNodes(),r=0;r<n.length;r++)n[r].transform(e)}}},Layout.prototype.positionNodesRandomly=function(t){if(null==t)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var e,o,n=t.getNodes(),r=0;r<n.length;r++)null==(o=(e=n[r]).getChild())||0==o.getNodes().length?e.scatter():(this.positionNodesRandomly(o),e.updateBounds())},Layout.prototype.getFlatForest=function(){for(var t=[],e=!0,o=this.graphManager.getRoot().getNodes(),n=!0,i=0;i<o.length;i++)null!=o[i].getChild()&&(n=!1);if(!n)return t;var a=new p,s=[],h=new r,g=[];for(g=g.concat(o);g.length>0&&e;){for(s.push(g[0]);s.length>0&&e;){var l=s[0];s.splice(0,1),a.add(l);var u=l.getEdges();for(i=0;i<u.length;i++){var c=u[i].getOtherEnd(l);if(h.get(l)!=c){if(a.contains(c)){e=!1;break}s.push(c),h.put(c,l)}}}if(e){var d=[];a.addAllTo(d),t.push(d);for(i=0;i<d.length;i++){var f=d[i],y=g.indexOf(f);y>-1&&g.splice(y,1)}a=new p,h=new r}else t=[]}return t},Layout.prototype.createDummyNodesForBendpoints=function(t){for(var e=[],o=t.source,n=this.graphManager.calcLowestCommonAncestor(t.source,t.target),r=0;r<t.bendpoints.length;r++){var i=this.newNode(null);i.setRect(new Point(0,0),new Dimension(1,1)),n.add(i);var a=this.newEdge(null);this.graphManager.add(a,o,i),e.add(i),o=i}a=this.newEdge(null);return this.graphManager.add(a,o,t.target),this.edgeToDummyNodes.put(t,e),t.isInterGraph()?this.graphManager.remove(t):n.remove(t),e},Layout.prototype.createBendpointsFromDummyNodes=function(){var t=[];t=t.concat(this.graphManager.getAllEdges()),t=this.edgeToDummyNodes.keySet().concat(t);for(var e=0;e<t.length;e++){var o=t[e];if(o.bendpoints.length>0){for(var n=this.edgeToDummyNodes.get(o),r=0;r<n.length;r++){var i=n[r],a=new g(i.getCenterX(),i.getCenterY()),s=o.bendpoints.get(r);s.x=a.x,s.y=a.y,i.getOwner().remove(i)}this.graphManager.add(o,o.source,o.target)}}},Layout.transform=function(t,e,o,n){if(null!=o&&null!=n){var r=e;if(t<=50)r-=(e-e/o)/50*(50-t);else r+=(e*n-e)/50*(t-50);return r}var i,a;return t<=50?(i=9*e/500,a=e/10):(i=9*e/50,a=-8*e),i*t+a},Layout.findCenterOfTree=function(t){var e=[];e=e.concat(t);var o=[],n=new r,i=!1,a=null;1!=e.length&&2!=e.length||(i=!0,a=e[0]);for(var s=0;s<e.length;s++){var h=(u=e[s]).getNeighborsList().size();n.put(u,u.getNeighborsList().size()),1==h&&o.push(u)}var g=[];for(g=g.concat(o);!i;){var l=[];l=l.concat(g),g=[];for(s=0;s<e.length;s++){var u=e[s],p=e.indexOf(u);p>=0&&e.splice(p,1);var c=u.getNeighborsList();for(var d in c.set){var f=c.set[d];if(o.indexOf(f)<0){var y=n.get(f)-1;1==y&&g.push(f),n.put(f,y)}}}o=o.concat(g),1!=e.length&&2!=e.length||(i=!0,a=e[0])}return a},Layout.prototype.setGraphManager=function(t){this.graphManager=t},t.exports=Layout},2209:function(t,e,o){"use strict";(function(e){var n=o(2909),register=function(t){t("layout","cose-bilkent",n(t))};void 0!==e&&register(e),t.exports=register}).call(this,o(1734))},2210:function(t,e,o){var n=o(1937);function HashMap(){this.map={},this.keys=[]}HashMap.prototype.put=function(t,e){var o=n.createID(t);this.contains(o)||(this.map[o]=e,this.keys.push(t))},HashMap.prototype.contains=function(t){n.createID(t);return null!=this.map[t]},HashMap.prototype.get=function(t){var e=n.createID(t);return this.map[e]},HashMap.prototype.keySet=function(){return this.keys},t.exports=HashMap},2211:function(t,e){function RandomSeed(){}RandomSeed.seed=1,RandomSeed.x=0,RandomSeed.nextDouble=function(){return RandomSeed.x=1e4*Math.sin(RandomSeed.seed++),RandomSeed.x-Math.floor(RandomSeed.x)},t.exports=RandomSeed},2212:function(t,e,o){var n=o(1942),r=o(1737),i=o(1652),a=o(1814),s=o(1815);function FDLayout(){n.call(this),this.useSmartIdealEdgeLengthCalculation=r.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=r.DEFAULT_EDGE_LENGTH,this.springConstant=r.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=r.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=r.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=r.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=r.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*r.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=1,this.initialCoolingFactor=1,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=r.MAX_ITERATIONS}for(var h in FDLayout.prototype=Object.create(n.prototype),n)FDLayout[h]=n[h];FDLayout.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.layoutQuality==i.DRAFT_QUALITY?(this.displacementThresholdPerNode+=.3,this.maxIterations*=.8):this.layoutQuality==i.PROOF_QUALITY&&(this.displacementThresholdPerNode-=.3,this.maxIterations*=1.2),this.totalIterations=0,this.notAnimatedIterations=0},FDLayout.prototype.calcIdealEdgeLengths=function(){for(var t,e,o,n,a,s,h=this.getGraphManager().getAllEdges(),g=0;g<h.length;g++)(t=h[g]).idealLength=this.idealEdgeLength,t.isInterGraph&&(o=t.getSource(),n=t.getTarget(),a=t.getSourceInLca().getEstimatedSize(),s=t.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(t.idealLength+=a+s-2*i.SIMPLE_NODE_SIZE),e=t.getLca().getInclusionTreeDepth(),t.idealLength+=r.DEFAULT_EDGE_LENGTH*r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(o.getInclusionTreeDepth()+n.getInclusionTreeDepth()-2*e))},FDLayout.prototype.initSpringEmbedder=function(){this.incremental?(this.coolingFactor=.8,this.initialCoolingFactor=.8,this.maxNodeDisplacement=r.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.coolingFactor=1,this.initialCoolingFactor=1,this.maxNodeDisplacement=r.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},FDLayout.prototype.calcSpringForces=function(){for(var t,e=this.getAllEdges(),o=0;o<e.length;o++)t=e[o],this.calcSpringForce(t,t.idealLength)},FDLayout.prototype.calcRepulsionForces=function(){var t,e,o,n,r=this.getAllNodes();for(t=0;t<r.length;t++)for(o=r[t],e=t+1;e<r.length;e++)n=r[e],o.getOwner()==n.getOwner()&&this.calcRepulsionForce(o,n)},FDLayout.prototype.calcGravitationalForces=function(){for(var t,e=this.getAllNodesToApplyGravitation(),o=0;o<e.length;o++)t=e[o],this.calcGravitationalForce(t)},FDLayout.prototype.moveNodes=function(){for(var t=this.getAllNodes(),e=0;e<t.length;e++)t[e].move()},FDLayout.prototype.calcSpringForce=function(t,e){var o,n,r,i,a=t.getSource(),s=t.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==s.getChild())t.updateLengthSimple();else if(t.updateLength(),t.isOverlapingSourceAndTarget)return;o=t.getLength(),r=(n=this.springConstant*(o-e))*(t.lengthX/o),i=n*(t.lengthY/o),a.springForceX+=r,a.springForceY+=i,s.springForceX-=r,s.springForceY-=i},FDLayout.prototype.calcRepulsionForce=function(t,e){var o,n,i,h,g,l,u,p=t.getRect(),c=e.getRect(),d=new Array(2),f=new Array(4);p.intersects(c)?(a.calcSeparationAmount(p,c,d,r.DEFAULT_EDGE_LENGTH/2),l=d[0],u=d[1]):(this.uniformLeafNodeSizes&&null==t.getChild()&&null==e.getChild()?(o=c.getCenterX()-p.getCenterX(),n=c.getCenterY()-p.getCenterY()):(a.getIntersection(p,c,f),o=f[2]-f[0],n=f[3]-f[1]),Math.abs(o)<r.MIN_REPULSION_DIST&&(o=s.sign(o)*r.MIN_REPULSION_DIST),Math.abs(n)<r.MIN_REPULSION_DIST&&(n=s.sign(n)*r.MIN_REPULSION_DIST),i=o*o+n*n,h=Math.sqrt(i),l=(g=this.repulsionConstant/i)*o/h,u=g*n/h),t.repulsionForceX-=l,t.repulsionForceY-=u,e.repulsionForceX+=l,e.repulsionForceY+=u},FDLayout.prototype.calcGravitationalForce=function(t){var e,o,n,r,i,a,s,h;o=((e=t.getOwner()).getRight()+e.getLeft())/2,n=(e.getTop()+e.getBottom())/2,r=t.getCenterX()-o,i=t.getCenterY()-n,a=Math.abs(r),s=Math.abs(i),t.getOwner()==this.graphManager.getRoot()?(Math.floor(80),(a>(h=Math.floor(e.getEstimatedSize()*this.gravityRangeFactor))||s>h)&&(t.gravitationForceX=-this.gravityConstant*r,t.gravitationForceY=-this.gravityConstant*i)):(a>(h=Math.floor(e.getEstimatedSize()*this.compoundGravityRangeFactor))||s>h)&&(t.gravitationForceX=-this.gravityConstant*r*this.compoundGravityConstant,t.gravitationForceY=-this.gravityConstant*i*this.compoundGravityConstant)},FDLayout.prototype.isConverged=function(){var t,e=!1;return this.totalIterations>this.maxIterations/3&&(e=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),t=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,t||e},FDLayout.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},FDLayout.prototype.calcRepulsionRange=function(){return 0},t.exports=FDLayout},2213:function(t,e,o){var n=o(1941),r=o(1737);function FDLayoutEdge(t,e,o){n.call(this,t,e,o),this.idealLength=r.DEFAULT_EDGE_LENGTH}for(var i in FDLayoutEdge.prototype=Object.create(n.prototype),n)FDLayoutEdge[i]=n[i];t.exports=FDLayoutEdge},2214:function(t,e,o){var n=o(1820);function FDLayoutNode(t,e,o,r){n.call(this,t,e,o,r),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var r in FDLayoutNode.prototype=Object.create(n.prototype),n)FDLayoutNode[r]=n[r];FDLayoutNode.prototype.setGridCoordinates=function(t,e,o,n){this.startX=t,this.finishX=e,this.startY=o,this.finishY=n},t.exports=FDLayoutNode},2215:function(t,e,o){var n=o(1737);function CoSEConstants(){}for(var r in n)CoSEConstants[r]=n[r];CoSEConstants.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,CoSEConstants.DEFAULT_RADIAL_SEPARATION=n.DEFAULT_EDGE_LENGTH,CoSEConstants.DEFAULT_COMPONENT_SEPERATION=60,t.exports=CoSEConstants},2216:function(t,e,o){var n=o(2213);function CoSEEdge(t,e,o){n.call(this,t,e,o)}for(var r in CoSEEdge.prototype=Object.create(n.prototype),n)CoSEEdge[r]=n[r];t.exports=CoSEEdge},2217:function(t,e,o){var n=o(1818);function CoSEGraph(t,e,o){n.call(this,t,e,o)}for(var r in CoSEGraph.prototype=Object.create(n.prototype),n)CoSEGraph[r]=n[r];t.exports=CoSEGraph},2218:function(t,e,o){var n=o(1819);function CoSEGraphManager(t){n.call(this,t)}for(var r in CoSEGraphManager.prototype=Object.create(n.prototype),n)CoSEGraphManager[r]=n[r];t.exports=CoSEGraphManager},2219:function(t,e,o){var n=o(2214),r=o(1815);function CoSENode(t,e,o,r){n.call(this,t,e,o,r)}for(var i in CoSENode.prototype=Object.create(n.prototype),n)CoSENode[i]=n[i];CoSENode.prototype.move=function(){var t=this.graphManager.getLayout();this.displacementX=t.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX),this.displacementY=t.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY),Math.abs(this.displacementX)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementX=t.coolingFactor*t.maxNodeDisplacement*r.sign(this.displacementX)),Math.abs(this.displacementY)>t.coolingFactor*t.maxNodeDisplacement&&(this.displacementY=t.coolingFactor*t.maxNodeDisplacement*r.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),t.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},CoSENode.prototype.propogateDisplacementToChildren=function(t,e){for(var o,n=this.getChild().getNodes(),r=0;r<n.length;r++)null==(o=n[r]).getChild()?(o.moveBy(t,e),o.displacementX+=t,o.displacementY+=e):o.propogateDisplacementToChildren(t,e)},CoSENode.prototype.setPred1=function(t){this.pred1=t},CoSENode.prototype.getPred1=function(){return pred1},CoSENode.prototype.getPred2=function(){return pred2},CoSENode.prototype.setNext=function(t){this.next=t},CoSENode.prototype.getNext=function(){return next},CoSENode.prototype.setProcessed=function(t){this.processed=t},CoSENode.prototype.isProcessed=function(){return processed},t.exports=CoSENode},2909:function(t,e,o){"use strict";var n=o(2910),r=(o(2210),o(1813),o(1814),o(1815),o(1816),o(1938),o(1736)),i=(o(2211),o(1939),o(1940),o(1937),o(1817),o(1818),o(1941),o(1819),o(1820),o(1942),o(1652)),a=(o(2212),o(1737)),s=(o(2213),o(2214),o(2215)),h=(o(2216),o(2217),o(2218),o(2912)),g=o(2219),l=o(2913),u={ready:function(){},stop:function(){},refresh:30,fit:!0,padding:10,paddingCompound:15,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8};function _CoSELayout(t){l(this),this.options=function extend(t,e){var o={};for(var n in t)o[n]=t[n];for(var n in e)o[n]=e[n];return o}(u,t),getUserOptions(this.options)}var getUserOptions=function(t){null!=t.nodeRepulsion&&(s.DEFAULT_REPULSION_STRENGTH=a.DEFAULT_REPULSION_STRENGTH=t.nodeRepulsion),null!=t.idealEdgeLength&&(s.DEFAULT_EDGE_LENGTH=a.DEFAULT_EDGE_LENGTH=t.idealEdgeLength),null!=t.edgeElasticity&&(s.DEFAULT_SPRING_STRENGTH=a.DEFAULT_SPRING_STRENGTH=t.edgeElasticity),null!=t.nestingFactor&&(s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),null!=t.gravity&&(s.DEFAULT_GRAVITY_STRENGTH=a.DEFAULT_GRAVITY_STRENGTH=t.gravity),null!=t.numIter&&(s.MAX_ITERATIONS=a.MAX_ITERATIONS=t.numIter),null!=t.paddingCompound&&(s.DEFAULT_GRAPH_MARGIN=a.DEFAULT_GRAPH_MARGIN=i.DEFAULT_GRAPH_MARGIN=t.paddingCompound),null!=t.gravityRange&&(s.DEFAULT_GRAVITY_RANGE_FACTOR=a.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),null!=t.gravityCompound&&(s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),null!=t.gravityRangeCompound&&(s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),s.DEFAULT_INCREMENTAL=a.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!t.randomize,s.ANIMATE=a.ANIMATE=t.animate};_CoSELayout.prototype.run=function(){var t,e,o=this.options,n=(this.idToLNode={},this.layout=new h),r=this;this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var i=n.newGraphManager();this.gm=i;var a=this.options.eles.nodes(),s=this.options.eles.edges();this.root=i.addRoot(),this.options.tile?this.preLayout():this.processChildrenList(this.root,this.getTopMostNodes(a),n);for(var g=0;g<s.length;g++){var l=s[g],u=this.idToLNode[l.data("source")],p=this.idToLNode[l.data("target")];i.add(n.newEdge(),u,p).id=l.id()}var getPositions=function(t,e){"number"==typeof t&&(t=e);var o=t.data("id"),n=r.idToLNode[o];return{x:n.getRect().getCenterX(),y:n.getRect().getCenterY()}},iterateAnimated=function(){for(var n,afterReposition=function(){o.fit&&o.cy.fit(o.eles.nodes(),o.padding),t||(t=!0,r.cy.one("layoutready",o.ready),r.cy.trigger({type:"layoutready",layout:r}))},i=r.options.refresh,a=0;a<i&&!n;a++)n=r.layout.tick();if(n)return r.options.tile&&r.postLayout(),r.options.eles.nodes().positions(getPositions),afterReposition(),r.cy.one("layoutstop",r.options.stop),r.cy.trigger("layoutstop"),r.cy.trigger({type:"layoutstop",layout:r}),e&&cancelAnimationFrame(e),r.options.eles.nodes().removeScratch("coseBilkent"),void(t=!1);var s=r.layout.getPositionsData();o.eles.nodes().positions((function(t,e){if("number"==typeof t&&(t=e),t.scratch("coseBilkent")&&t.scratch("coseBilkent").dummy_parent_id){var o=t.scratch("coseBilkent").dummy_parent_id;return{x:o.x,y:o.y}}for(var n=t.data("id"),r=s[n],i=t;null==r;)i=i.parent()[0],r=s[i.id()],s[n]=r;return{x:r.x,y:r.y}})),afterReposition(),e=requestAnimationFrame(iterateAnimated)};return n.addListener("layoutstarted",(function(){"during"===r.options.animate&&(e=requestAnimationFrame(iterateAnimated))})),n.runLayout(),"during"!==this.options.animate&&setTimeout((function(){r.options.tile&&r.postLayout(),r.options.eles.nodes().not(":parent").layoutPositions(r,r.options,getPositions),r.options.eles.nodes().removeScratch("coseBilkent"),t=!1}),0),this},_CoSELayout.prototype.getTopMostNodes=function(t){for(var e={},o=0;o<t.length;o++)e[t[o].id()]=!0;return t.filter((function(t,o){"number"==typeof t&&(t=o);for(var n=t.parent()[0];null!=n;){if(e[n.id()])return!1;n=n.parent()[0]}return!0}))},_CoSELayout.prototype.processChildrenList=function(t,e,o){for(var i=e.length,a=0;a<i;a++){var s=e[a];this.options.eles.nodes().length;var h,l,u=s.children();if((h=null!=s.width()&&null!=s.height()?t.add(new g(o.graphManager,new r(s.position("x"),s.position("y")),new n(parseFloat(s.width()),parseFloat(s.height())))):t.add(new g(this.graphManager))).id=s.data("id"),this.idToLNode[s.data("id")]=h,isNaN(h.rect.x)&&(h.rect.x=0),isNaN(h.rect.y)&&(h.rect.y=0),null!=u&&u.length>0)l=o.getGraphManager().add(o.newGraph(),h),this.processChildrenList(l,u,o)}},_CoSELayout.prototype.stop=function(){return this.stopped=!0,this.trigger("layoutstop"),this},t.exports=function get(t){return _CoSELayout}},2910:function(t,e){function DimensionD(t,e){this.width=0,this.height=0,null!==t&&null!==e&&(this.height=e,this.width=t)}DimensionD.prototype.getWidth=function(){return this.width},DimensionD.prototype.setWidth=function(t){this.width=t},DimensionD.prototype.getHeight=function(){return this.height},DimensionD.prototype.setHeight=function(t){this.height=t},t.exports=DimensionD},2911:function(t,e){function Emitter(){this.listeners=[]}var o=Emitter.prototype;o.addListener=function(t,e){this.listeners.push({event:t,callback:e})},o.removeListener=function(t,e){for(var o=this.listeners.length;o>=0;o--){var n=this.listeners[o];n.event===t&&n.callback===e&&this.listeners.splice(o,1)}},o.emit=function(t,e){for(var o=0;o<this.listeners.length;o++){var n=this.listeners[o];t===n.event&&n.callback(e)}},t.exports=Emitter},2912:function(t,e,o){var n=o(2212),r=o(2218),i=o(2217),a=o(2219),s=o(2216),h=o(2215),g=o(1737),l=o(1652),u=o(1938),p=o(1736),c=o(1942),d=o(1816),f=o(1814),y=o(1818),L=o(1940);function CoSELayout(){n.call(this)}for(var E in CoSELayout.prototype=Object.create(n.prototype),n)CoSELayout[E]=n[E];CoSELayout.prototype.newGraphManager=function(){var t=new r(this);return this.graphManager=t,t},CoSELayout.prototype.newGraph=function(t){return new i(null,this.graphManager,t)},CoSELayout.prototype.newNode=function(t){return new a(this.graphManager,t)},CoSELayout.prototype.newEdge=function(t){return new s(null,null,t)},CoSELayout.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=g.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=g.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR)},CoSELayout.prototype.layout=function(){return l.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},CoSELayout.prototype.classicLayout=function(){if(this.calculateNodesToApplyGravitationTo(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var t=this.getFlatForest();t.length>0?this.positionNodesRadially(t):this.positionNodesRandomly()}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},CoSELayout.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations)return!0;if(this.totalIterations%g.CONVERGENCE_CHECK_PERIOD==0){if(this.isConverged())return!0;this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.totalIterations)/this.maxIterations),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},CoSELayout.prototype.getPositionsData=function(){for(var t=this.graphManager.getAllNodes(),e={},o=0;o<t.length;o++){var n=t[o].rect,r=t[o].id;e[r]={id:r,x:n.getCenterX(),y:n.getCenterY(),w:n.width,h:n.height}}return e},CoSELayout.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var t=!1;if("during"===g.ANIMATE)this.emit("layoutstarted");else{for(;!t;)t=this.tick();this.graphManager.updateBounds()}},CoSELayout.prototype.calculateNodesToApplyGravitationTo=function(){var t,e,o=[],n=this.graphManager.getGraphs(),r=n.length;for(e=0;e<r;e++)(t=n[e]).updateConnected(),t.isConnected||(o=o.concat(t.getNodes()));this.graphManager.setAllNodesToApplyGravitation(o)},CoSELayout.prototype.createBendpoints=function(){var t=[];t=t.concat(this.graphManager.getAllEdges());var e,o=new HashSet;for(e=0;e<t.length;e++){var n=t[e];if(!o.contains(n)){var r=n.getSource(),i=n.getTarget();if(r==i)n.getBendpoints().push(new p),n.getBendpoints().push(new p),this.createDummyNodesForBendpoints(n),o.add(n);else{var a=[];if(a=(a=a.concat(r.getEdgeListToNode(i))).concat(i.getEdgeListToNode(r)),!o.contains(a[0])){var s;if(a.length>1)for(s=0;s<a.length;s++){var h=a[s];h.getBendpoints().push(new p),this.createDummyNodesForBendpoints(h)}o.addAll(list)}}}if(o.size()==t.length)break}},CoSELayout.prototype.positionNodesRadially=function(t){for(var e=new u(0,0),o=Math.ceil(Math.sqrt(t.length)),n=0,r=0,i=0,a=new p(0,0),s=0;s<t.length;s++){s%o==0&&(i=0,r=n,0!=s&&(r+=h.DEFAULT_COMPONENT_SEPERATION),n=0);var g=t[s],d=c.findCenterOfTree(g);e.x=i,e.y=r,(a=CoSELayout.radialLayout(g,d,e)).y>n&&(n=Math.floor(a.y)),i=Math.floor(a.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new p(l.WORLD_CENTER_X-a.x/2,l.WORLD_CENTER_Y-a.y/2))},CoSELayout.radialLayout=function(t,e,o){var n=Math.max(this.maxDiagonalInTree(t),h.DEFAULT_RADIAL_SEPARATION);CoSELayout.branchRadialLayout(e,null,0,359,0,n);var r=y.calculateBounds(t),i=new L;i.setDeviceOrgX(r.getMinX()),i.setDeviceOrgY(r.getMinY()),i.setWorldOrgX(o.x),i.setWorldOrgY(o.y);for(var a=0;a<t.length;a++){t[a].transform(i)}var s=new p(r.getMaxX(),r.getMaxY());return i.inverseTransformPoint(s)},CoSELayout.branchRadialLayout=function(t,e,o,n,r,i){var a=(n-o+1)/2;a<0&&(a+=180);var s=(a+o)%360*f.TWO_PI/360,h=(Math.cos(s),r*Math.cos(s)),g=r*Math.sin(s);t.setCenter(h,g);var l=[],u=(l=l.concat(t.getEdges())).length;null!=e&&u--;for(var p,c=0,d=l.length,y=t.getEdgesBetween(e);y.length>1;){var L=y[0];y.splice(0,1);var E=l.indexOf(L);E>=0&&l.splice(E,1),d--,u--}p=null!=e?(l.indexOf(y[0])+1)%d:0;for(var m=Math.abs(n-o)/u,D=p;c!=u;D=++D%d){var N=l[D].getOtherEnd(t);if(N!=e){var v=(o+c*m)%360,T=(v+m)%360;CoSELayout.branchRadialLayout(N,t,v,T,r+i,i),c++}}},CoSELayout.maxDiagonalInTree=function(t){for(var e=d.MIN_VALUE,o=0;o<t.length;o++){var n=t[o].getDiagonal();n>e&&(e=n)}return e},CoSELayout.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},t.exports=CoSELayout},2913:function(t,e){t.exports=function(t){t.toBeTiled={},t.getToBeTiled=function(e){var o=e.data("id");if(null!=t.toBeTiled[o])return t.toBeTiled[o];var n=e.children();if(null==n||0==n.length)return t.toBeTiled[o]=!1,!1;for(var r=0;r<n.length;r++){var i=n[r];if(t.getNodeDegree(i)>0)return t.toBeTiled[o]=!1,!1;if(null!=i.children()&&0!=i.children().length){if(!t.getToBeTiled(i))return t.toBeTiled[o]=!1,!1}else t.toBeTiled[i.data("id")]=!1}return t.toBeTiled[o]=!0,!0},t.getNodeDegree=function(e){var o=e.id();return t.options.eles.edges().filter((function(t,e){"number"==typeof t&&(t=e);var n=t.data("source"),r=t.data("target");if(n!=r&&(n==o||r==o))return!0})).length},t.getNodeDegreeWithChildren=function(e){for(var o=t.getNodeDegree(e),n=e.children(),r=0;r<n.length;r++){var i=n[r];o+=t.getNodeDegreeWithChildren(i)}return o},t.groupZeroDegreeMembers=function(){for(var e=[],o=[],n=this,r={},i=0;i<t.options.eles.nodes().length;i++)r[t.options.eles.nodes()[i].id()]=!0;var a=t.options.eles.nodes().filter((function(t,e){"number"==typeof t&&(t=e);var o=t.data("parent");return null==o||r[o]||(o=void 0),0==n.getNodeDegreeWithChildren(t)&&(null==o||null!=o&&!n.getToBeTiled(t.parent()[0]))}));for(i=0;i<a.length;i++){null==(s=(l=a[i]).parent().id())||r[s]||(s=void 0),void 0===e[s]&&(e[s]=[]),e[s]=e[s].concat(l)}for(var s in e)if(e[s].length>1){var h="DummyCompound_"+s;if(o[h]=e[s],t.options.cy.getElementById(h).empty()){t.options.cy.add({group:"nodes",data:{id:h,parent:s}});var g=t.options.cy.nodes()[t.options.cy.nodes().length-1];t.options.eles=t.options.eles.union(g),g.hide();for(i=0;i<e[s].length;i++){0==i&&g.scratch("coseBilkent",{tempchildren:[]});var l,u=(l=e[s][i]).scratch("coseBilkent");u||(u={},l.scratch("coseBilkent",u)),u.dummy_parent_id=h,t.options.cy.add({group:"nodes",data:{parent:h,width:l.width(),height:l.height()}});var p=t.options.cy.nodes()[t.options.cy.nodes().length-1];p.hide(),p.css("width",p.data("width")),p.css("height",p.data("height")),p.width(),g.scratch("coseBilkent").tempchildren.push(p)}}}return o},t.performDFSOnCompounds=function(e){var o=[],n=t.getTopMostNodes(t.options.eles.nodes());return t.fillCompexOrderByDFS(o,n),o},t.fillCompexOrderByDFS=function(e,o){for(var n=0;n<o.length;n++){var r=o[n];t.fillCompexOrderByDFS(e,r.children()),t.getToBeTiled(r)&&e.push(r)}},t.clearCompounds=function(){var e=[],o=t.performDFSOnCompounds(t.options);t.compoundOrder=o,t.processChildrenList(t.root,t.getTopMostNodes(t.options.eles.nodes()),t.layout);for(var n=0;n<o.length;n++){var r=t.idToLNode[o[n].id()];e[o[n].id()]=o[n].children(),r.child=null}return t.tileCompoundMembers(e)},t.clearZeroDegreeMembers=function(e){var o=[];for(var n in e){var r=t.idToLNode[n];o[n]=t.tileNodes(e[n]),r.rect.width=o[n].width,r.rect.height=o[n].height}return o},t.repopulateCompounds=function(e){for(var o=t.compoundOrder.length-1;o>=0;o--){var n=t.compoundOrder[o].id(),r=t.idToLNode[n],i=parseInt(t.compoundOrder[o].css("padding-left")),a=parseInt(t.compoundOrder[o].css("padding-top"));t.adjustLocations(e[n],r.rect.x,r.rect.y,i,a)}},t.repopulateZeroDegreeMembers=function(e){for(var o in e){var n=t.cy.getElementById(o),r=t.idToLNode[o],i=parseInt(n.css("padding-left")),a=parseInt(n.css("padding-top"));t.adjustLocations(e[o],r.rect.x,r.rect.y,i,a);var s=n.scratch("coseBilkent").tempchildren;for(o=0;o<s.length;o++)s[o].remove();n.remove()}},t.adjustLocations=function(e,o,n,r,i){n+=i;for(var a=o+=r,s=0;s<e.rows.length;s++){var h=e.rows[s];o=a;for(var g=0,l=0;l<h.length;l++){var u=h[l];t.cy.getElementById(u.id);u.rect.x=o,u.rect.y=n,o+=u.rect.width+e.horizontalPadding,u.rect.height>g&&(g=u.rect.height)}n+=g+e.verticalPadding}},t.tileCompoundMembers=function(e){var o=[];for(var n in e){var r=t.idToLNode[n];o[n]=t.tileNodes(e[n]),r.rect.width=o[n].width+20,r.rect.height=o[n].height+20}return o},t.tileNodes=function(e){for(var o={rows:[],rowWidth:[],rowHeight:[],width:20,height:20,verticalPadding:"function"==typeof this.options.tilingPaddingVertical?this.options.tilingPaddingVertical.call():this.options.tilingPaddingVertical,horizontalPadding:"function"==typeof this.options.tilingPaddingHorizontal?this.options.tilingPaddingHorizontal.call():this.options.tilingPaddingHorizontal},n=[],r=0;r<e.length;r++){var i=e[r],a=t.idToLNode[i.id()];if(!i.scratch("coseBilkent")||!i.scratch("coseBilkent").dummy_parent_id)a.owner.remove(a),t.gm.resetAllNodes(),t.gm.getAllNodes();n.push(a)}n.sort((function(t,e){return t.rect.width*t.rect.height>e.rect.width*e.rect.height?-1:t.rect.width*t.rect.height<e.rect.width*e.rect.height?1:0}));for(r=0;r<n.length;r++){a=n[r];var s=t.cy.getElementById(a.id).parent()[0],h=0;s&&(h=parseInt(s.css("padding-left"))+parseInt(s.css("padding-right"))),0==o.rows.length?t.insertNodeToRow(o,a,0,h):t.canAddHorizontal(o,a.rect.width,a.rect.height)?t.insertNodeToRow(o,a,t.getShortestRowIndex(o),h):t.insertNodeToRow(o,a,o.rows.length,h),t.shiftToLastRow(o)}return o},t.insertNodeToRow=function(t,e,o,n){var r=n;if(o==t.rows.length){t.rows.push([]),t.rowWidth.push(r),t.rowHeight.push(0)}var i=t.rowWidth[o]+e.rect.width;t.rows[o].length>0&&(i+=t.horizontalPadding),t.rowWidth[o]=i,t.width<i&&(t.width=i);var a=e.rect.height;o>0&&(a+=t.verticalPadding);var s=0;a>t.rowHeight[o]&&(s=t.rowHeight[o],t.rowHeight[o]=a,s=t.rowHeight[o]-s),t.height+=s,t.rows[o].push(e)},t.getShortestRowIndex=function(t){for(var e=-1,o=Number.MAX_VALUE,n=0;n<t.rows.length;n++)t.rowWidth[n]<o&&(e=n,o=t.rowWidth[n]);return e},t.getLongestRowIndex=function(t){for(var e=-1,o=Number.MIN_VALUE,n=0;n<t.rows.length;n++)t.rowWidth[n]>o&&(e=n,o=t.rowWidth[n]);return e},t.canAddHorizontal=function(e,o,n){var r=t.getShortestRowIndex(e);if(r<0)return!0;var i=e.rowWidth[r];if(i+e.horizontalPadding+o<=e.width)return!0;var a,s,h=0;return e.rowHeight[r]<n&&r>0&&(h=n+e.verticalPadding-e.rowHeight[r]),a=e.width-i>=o+e.horizontalPadding?(e.height+h)/(i+o+e.horizontalPadding):(e.height+h)/e.width,h=n+e.verticalPadding,(s=e.width<o?(e.height+h)/o:(e.height+h)/e.width)<1&&(s=1/s),a<1&&(a=1/a),a<s},t.shiftToLastRow=function(e){var o=t.getLongestRowIndex(e),n=e.rowWidth.length-1,r=e.rows[o],i=r[r.length-1],a=i.width+e.horizontalPadding;if(e.width-e.rowWidth[n]>a&&o!=n){r.splice(-1,1),e.rows[n].push(i),e.rowWidth[o]=e.rowWidth[o]-a,e.rowWidth[n]=e.rowWidth[n]+a,e.width=e.rowWidth[t.getLongestRowIndex(e)];for(var s=Number.MIN_VALUE,h=0;h<r.length;h++)r[h].height>s&&(s=r[h].height);o>0&&(s+=e.verticalPadding);var g=e.rowHeight[o]+e.rowHeight[n];e.rowHeight[o]=s,e.rowHeight[n]<i.height+e.verticalPadding&&(e.rowHeight[n]=i.height+e.verticalPadding);var l=e.rowHeight[o]+e.rowHeight[n];e.height+=l-g,t.shiftToLastRow(e)}},t.preLayout=function(){var e=t.groupZeroDegreeMembers();t.tiledMemberPack=t.clearCompounds(),t.tiledZeroDegreeNodes=t.clearZeroDegreeMembers(e)},t.postLayout=function(){for(var e=t.options.eles.nodes(),o=0;o<e.length;o++)t.getToBeTiled(e[o]);t.repopulateZeroDegreeMembers(t.tiledZeroDegreeNodes),t.repopulateCompounds(t.tiledMemberPack),t.options.cy.nodes().updateCompoundBounds()}}}}]);
//# sourceMappingURL=npm.cytoscape-cose-bilkent-3f443f16e67a7307d3cc.js.map