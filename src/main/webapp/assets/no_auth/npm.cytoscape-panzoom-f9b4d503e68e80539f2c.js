(window.webpackJsonp=window.webpackJsonp||[]).push([[394],{2923:function(o,n,a){(function(t,i){var e;!function(){"use strict";var register=function(o,n){o&&(n.fn.cyPanzoom=n.fn.cytoscapePanzoom=function(o){return panzoom.apply(this,[o,n]),this},o("core","panzoom",(function(o){return panzoom.apply(this.container(),[o,n]),this})))},c={zoomFactor:.05,zoomDelay:45,minZoom:.1,maxZoom:10,fitPadding:50,panSpeed:10,panDistance:10,panDragAreaSize:75,panMinPercentSpeed:.25,panInactiveArea:8,panIndicatorMinOpacity:.5,zoomOnly:!1,fitSelector:void 0,animateOnFit:function(){return!1},fitAnimationDuration:1e3,sliderHandleIcon:"fa fa-minus",zoomInIcon:"fa fa-plus",zoomOutIcon:"fa fa-minus",resetIcon:"fa fa-expand"},panzoom=function(o,n){var a=n.extend(!0,{},c,o),t=o,i={destroy:function(){var o=n(this),a=o.find(".cy-panzoom");a.data("winbdgs").forEach((function(o){n(window).unbind(o.evt,o.fn)})),a.data("cybdgs").forEach((function(n){o.cytoscape("get").off(n.evt,n.fn)})),a.remove()},init:function(){window;return n(this).each((function(){var o=n(this),t=[],i=n(window),windowBind=function(o,n){t.push({evt:o,fn:n}),i.bind(o,n)},windowUnbind=function(o,n){for(var a=0;a<t.length;a++){var e=t[a];if(e.evt===o&&e.fn===n){t.splice(a,1);break}}i.unbind(o,n)},e=[],c=o.cytoscape("get"),s=n('<div class="cy-panzoom"></div>');o.prepend(s),s.css("position","absolute"),s.data("winbdgs",t),s.data("cybdgs",e),a.zoomOnly&&s.addClass("cy-panzoom-zoom-only");var r=n('<div class="cy-panzoom-zoom-in cy-panzoom-zoom-button"><span class="icon '+a.zoomInIcon+'"></span></div>');s.append(r);var p=n('<div class="cy-panzoom-zoom-out cy-panzoom-zoom-button"><span class="icon '+a.zoomOutIcon+'"></span></div>');s.append(p);var d=n('<div class="cy-panzoom-reset cy-panzoom-zoom-button"><span class="icon '+a.resetIcon+'"></span></div>');s.append(d);var m=n('<div class="cy-panzoom-slider"></div>');s.append(m),m.append('<div class="cy-panzoom-slider-background"></div>');var u=n('<div class="cy-panzoom-slider-handle"><span class="icon '+a.sliderHandleIcon+'"></span></div>');m.append(u);var l=n('<div class="cy-panzoom-no-zoom-tick"></div>');m.append(l);var v=n('<div class="cy-panzoom-panner"></div>');s.append(v);var f=n('<div class="cy-panzoom-panner-handle"></div>');v.append(f);var y=n('<div class="cy-panzoom-pan-up cy-panzoom-pan-button"></div>'),h=n('<div class="cy-panzoom-pan-down cy-panzoom-pan-button"></div>'),g=n('<div class="cy-panzoom-pan-left cy-panzoom-pan-button"></div>'),z=n('<div class="cy-panzoom-pan-right cy-panzoom-pan-button"></div>');v.append(y).append(h).append(g).append(z);var b=n('<div class="cy-panzoom-pan-indicator"></div>');function donePanning(){clearInterval(w),windowUnbind("mousemove",handler),b.hide()}function calculateZoomCenterPoint(){var n=o.cytoscape("get");n.pan(),n.zoom();x=o.width()/2,Z=o.height()/2}v.append(b);var x,Z,w,M=!1;function startZooming(){M=!0,calculateZoomCenterPoint()}function endZooming(){M=!1}function zoomTo(n){var a=o.cytoscape("get");M||calculateZoomCenterPoint(),a.zoom({level:n,renderedPosition:{x,y:Z}})}var handler=function(n){n.stopPropagation(),n.preventDefault(),clearInterval(w);var t=function handle2pan(o){var n={x:o.originalEvent.pageX-v.offset().left-v.width()/2,y:o.originalEvent.pageY-v.offset().top-v.height()/2},t=a.panDragAreaSize,i=Math.sqrt(n.x*n.x+n.y*n.y),e=Math.min(i/t,1);return i<a.panInactiveArea?{x:NaN,y:NaN}:(n={x:n.x/i,y:n.y/i},e=Math.max(a.panMinPercentSpeed,e),{x:-1*n.x*(e*a.panDistance),y:-1*n.y*(e*a.panDistance)})}(n);isNaN(t.x)||isNaN(t.y)?b.hide():(!function positionIndicator(o){var n=o,t=Math.sqrt(n.x*n.x+n.y*n.y),i=-1*n.x/t,e=-1*n.y/t,c=v.width(),s=v.height(),r=t/a.panDistance,p=Math.max(a.panIndicatorMinOpacity,r),d=255-Math.round(255*p);b.show().css({left:c/2*i+c/2,top:s/2*e+s/2,background:"rgb("+d+", "+d+", "+d+")"})}(t),w=setInterval((function(){o.cytoscape("get").panBy(t)}),a.panSpeed))};f.bind("mousedown",(function(o){handler(o),windowBind("mousemove",handler)})),f.bind("mouseup",(function(){donePanning()})),windowBind("mouseup blur",(function(){donePanning()})),m.bind("mousedown",(function(){return!1}));var I,P,S=!1;function setSliderFromMouse(o,n){void 0===n&&(n=0);var t=m.height()-u.height()-4,i=o.pageY-m.offset().top-n;i<2&&(i=2),i>t&&(i=t);var e=1-(i-2)/(t-2);u.css("top",i);var c=a.minZoom,s=a.maxZoom,r=Math.log(c)/Math.log(s),p=(1-r)*e+r,d=Math.pow(s,p);d<c?d=c:d>s&&(d=s),zoomTo(d)}function positionSliderFromZoom(){var n=o.cytoscape("get").zoom(),t=a.minZoom,i=a.maxZoom,e=Math.log(t)/Math.log(i),c=1-(Math.log(n)/Math.log(i)-e)/(1-e),s=m.height()-u.height()-4,r=c*(s-2);r<2&&(r=2),r>s&&(r=s),u.css("top",r)}function bindButton(n,t){var i;n.bind("mousedown",(function(n){if(n.preventDefault(),n.stopPropagation(),0==n.button){var e=o.cytoscape("get"),doZoom=function(){var o=e.zoom(),n=e.zoom()*t;n<a.minZoom&&(n=a.minZoom),n>a.maxZoom&&(n=a.maxZoom),n==a.maxZoom&&o==a.maxZoom||n==a.minZoom&&o==a.minZoom||zoomTo(n)};return startZooming(),doZoom(),i=setInterval(doZoom,a.zoomDelay),!1}})),windowBind("mouseup blur",(function(){clearInterval(i),endZooming()}))}u.bind("mousedown",I=function(o){var n=o.target===u[0]?o.offsetY:0;S=!0,startZooming(),u.addClass("active");var a=0;return windowBind("mousemove",P=function(o){var t=+new Date;return t>a+10&&(a=t,setSliderFromMouse(o,n),!1)}),windowBind("mouseup",(function(){windowUnbind("mousemove",P),S=!1,u.removeClass("active"),endZooming()})),!1}),m.bind("mousedown",(function(o){o.target!==u[0]&&(I(o),setSliderFromMouse(o))})),positionSliderFromZoom(),function(o,n){e.push({evt:o,fn:n}),c.on(o,n)}("zoom",(function(){S||positionSliderFromZoom()})),function(){var o=a.minZoom,n=a.maxZoom,t=Math.log(o)/Math.log(n),i=1-(Math.log(1)/Math.log(n)-t)/(1-t);if(i>1||i<0)l.hide();else{var e=m.height()-u.height()-4,c=i*(e-2);c<2&&(c=2),c>e&&(c=e),l.css("top",c)}}(),bindButton(r,1+a.zoomFactor),bindButton(p,1-a.zoomFactor),d.bind("mousedown",(function(n){if(0==n.button){var t=o.cytoscape("get"),i=a.fitSelector?t.elements(a.fitSelector):t.elements();if(0===i.size())t.reset();else("function"==typeof a.animateOnFit?a.animateOnFit.call():a.animateOnFit)?t.animate({fit:{eles:i,padding:a.fitPadding}},{duration:a.fitAnimationDuration}):t.fit(i,a.fitPadding);return!1}}))}))}};return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(n.error("No such function `"+t+"` for jquery.cytoscapePanzoom"),n(this)):i.init.apply(this,arguments)};o.exports&&(o.exports=register),void 0===(e=function(){return register}.call(n,a,n,o))||(o.exports=e),void 0!==t&&void 0!==i&&register(t,i)}()}).call(this,a(1734),a(1733))}}]);
//# sourceMappingURL=npm.cytoscape-panzoom-f9b4d503e68e80539f2c.js.map