(window.webpackJsonp=window.webpackJsonp||[]).push([[401],{1672:function(n,e,t){"use strict";t.r(e),t.d(e,"left",(function(){return left})),t.d(e,"right",(function(){return right})),t.d(e,"justify",(function(){return justify})),t.d(e,"center",(function(){return center}));var r=t(1590);function targetDepth(n){return n.target.depth}function left(n){return n.depth}function right(n,e){return e-1-n.height}function justify(n,e){return n.sourceLinks.length?n.depth:e-1}function center(n){return n.targetLinks.length?n.depth:n.sourceLinks.length?Object(r.min)(n.sourceLinks,targetDepth)-1:0}},2111:function(n,e,t){"use strict";t.r(e);var r=t(1590),o=t(2127),u=t(1672),i=t(2690);function ascendingSourceBreadth(n,e){return ascendingBreadth(n.source,e.source)||n.index-e.index}function ascendingTargetBreadth(n,e){return ascendingBreadth(n.target,e.target)||n.index-e.index}function ascendingBreadth(n,e){return n.y0-e.y0}function value(n){return n.value}function nodeCenter(n){return(n.y0+n.y1)/2}function weightedSource(n){return nodeCenter(n.source)*n.value}function weightedTarget(n){return nodeCenter(n.target)*n.value}function defaultId(n){return n.index}function defaultNodes(n){return n.nodes}function defaultLinks(n){return n.links}function find(n,e){var t=n.get(e);if(!t)throw new Error("missing: "+e);return t}e.default=function(){var n=0,e=0,t=1,c=1,a=24,s=8,f=defaultId,d=u.justify,h=defaultNodes,l=defaultLinks,g=32;function sankey(){var n={nodes:h.apply(null,arguments),links:l.apply(null,arguments)};return computeNodeLinks(n),computeNodeValues(n),computeNodeDepths(n),computeNodeBreadths(n),computeLinkBreadths(n),n}function computeNodeLinks(n){n.nodes.forEach((function(n,e){n.index=e,n.sourceLinks=[],n.targetLinks=[]}));var e=Object(o.map)(n.nodes,f);n.links.forEach((function(n,t){n.index=t;var r=n.source,o=n.target;"object"!=typeof r&&(r=n.source=find(e,r)),"object"!=typeof o&&(o=n.target=find(e,o)),r.sourceLinks.push(n),o.targetLinks.push(n)}))}function computeNodeValues(n){n.nodes.forEach((function(n){n.value=Math.max(Object(r.sum)(n.sourceLinks,value),Object(r.sum)(n.targetLinks,value))}))}function computeNodeDepths(e){var r,o,u;for(r=e.nodes,o=[],u=0;r.length;++u,r=o,o=[])r.forEach((function(n){n.depth=u,n.sourceLinks.forEach((function(n){o.indexOf(n.target)<0&&o.push(n.target)}))}));for(r=e.nodes,o=[],u=0;r.length;++u,r=o,o=[])r.forEach((function(n){n.height=u,n.targetLinks.forEach((function(n){o.indexOf(n.source)<0&&o.push(n.source)}))}));var i=(t-n-a)/(u-1);e.nodes.forEach((function(e){e.x1=(e.x0=n+Math.max(0,Math.min(u-1,Math.floor(d.call(null,e,u))))*i)+a}))}function computeNodeBreadths(n){var t=Object(o.nest)().key((function(n){return n.x0})).sortKeys(r.ascending).entries(n.nodes).map((function(n){return n.values}));!function initializeNodeBreadth(){var o=Object(r.min)(t,(function(n){return(c-e-(n.length-1)*s)/Object(r.sum)(n,value)}));t.forEach((function(n){n.forEach((function(n,e){n.y1=(n.y0=e)+n.value*o}))})),n.links.forEach((function(n){n.width=n.value*o}))}(),resolveCollisions();for(var u=1,i=g;i>0;--i)relaxRightToLeft(u*=.99),resolveCollisions(),relaxLeftToRight(u),resolveCollisions();function relaxLeftToRight(n){t.forEach((function(e){e.forEach((function(e){if(e.targetLinks.length){var t=(Object(r.sum)(e.targetLinks,weightedSource)/Object(r.sum)(e.targetLinks,value)-nodeCenter(e))*n;e.y0+=t,e.y1+=t}}))}))}function relaxRightToLeft(n){t.slice().reverse().forEach((function(e){e.forEach((function(e){if(e.sourceLinks.length){var t=(Object(r.sum)(e.sourceLinks,weightedTarget)/Object(r.sum)(e.sourceLinks,value)-nodeCenter(e))*n;e.y0+=t,e.y1+=t}}))}))}function resolveCollisions(){t.forEach((function(n){var t,r,o,u=e,i=n.length;for(n.sort(ascendingBreadth),o=0;o<i;++o)(r=u-(t=n[o]).y0)>0&&(t.y0+=r,t.y1+=r),u=t.y1+s;if((r=u-s-c)>0)for(u=t.y0-=r,t.y1-=r,o=i-2;o>=0;--o)(r=(t=n[o]).y1+s-u)>0&&(t.y0-=r,t.y1-=r),u=t.y0}))}}function computeLinkBreadths(n){n.nodes.forEach((function(n){n.sourceLinks.sort(ascendingTargetBreadth),n.targetLinks.sort(ascendingSourceBreadth)})),n.nodes.forEach((function(n){var e=n.y0,t=e;n.sourceLinks.forEach((function(n){n.y0=e+n.width/2,e+=n.width})),n.targetLinks.forEach((function(n){n.y1=t+n.width/2,t+=n.width}))}))}return sankey.update=function(n){return computeLinkBreadths(n),n},sankey.nodeId=function(n){return arguments.length?(f="function"==typeof n?n:Object(i.default)(n),sankey):f},sankey.nodeAlign=function(n){return arguments.length?(d="function"==typeof n?n:Object(i.default)(n),sankey):d},sankey.nodeWidth=function(n){return arguments.length?(a=+n,sankey):a},sankey.nodePadding=function(n){return arguments.length?(s=+n,sankey):s},sankey.nodes=function(n){return arguments.length?(h="function"==typeof n?n:Object(i.default)(n),sankey):h},sankey.links=function(n){return arguments.length?(l="function"==typeof n?n:Object(i.default)(n),sankey):l},sankey.size=function(r){return arguments.length?(n=e=0,t=+r[0],c=+r[1],sankey):[t-n,c-e]},sankey.extent=function(r){return arguments.length?(n=+r[0][0],t=+r[1][0],e=+r[0][1],c=+r[1][1],sankey):[[n,e],[t,c]]},sankey.iterations=function(n){return arguments.length?(g=+n,sankey):g},sankey}},2133:function(n,e,t){"use strict";t.r(e);var r=t(3541);function horizontalSource(n){return[n.source.x1,n.y0]}function horizontalTarget(n){return[n.target.x0,n.y1]}e.default=function(){return Object(r.linkHorizontal)().source(horizontalSource).target(horizontalTarget)}},2687:function(n,e,t){"use strict";t.r(e);var r=t(2111);t.d(e,"sankey",(function(){return r.default}));var o=t(1672);t.d(e,"sankeyCenter",(function(){return o.center})),t.d(e,"sankeyLeft",(function(){return o.left})),t.d(e,"sankeyRight",(function(){return o.right})),t.d(e,"sankeyJustify",(function(){return o.justify}));var u=t(2133);t.d(e,"sankeyLinkHorizontal",(function(){return u.default}))},2690:function(n,e,t){"use strict";function constant(n){return function(){return n}}t.r(e),t.d(e,"default",(function(){return constant}))}}]);
//# sourceMappingURL=npm.d3-sankey-609b6555f0ab9dcd7fae.js.map