{"version":3,"sources":["webpack:///./node_modules/traverse/index.js"],"names":["traverse","module","exports","obj","Traverse","this","value","walk","root","cb","immutable","path","parents","alive","walker","node_","node","copy","modifiers","keepGoing","state","concat","parent","length","key","slice","isRoot","level","circular","update","x","stopHere","remove","isArray","splice","keys","before","f","after","pre","post","stop","block","updateState","objectKeys","isLeaf","i","notLeaf","notRoot","ret","call","undefined","push","forEach","child","hasOwnProperty","isLast","isFirst","pop","src","dst","isDate","toS","Date","getTime","isRegExp","RegExp","isError","message","isBoolean","Boolean","isNumber","Number","isString","String","Object","create","getPrototypeOf","constructor","proto","prototype","__proto__","T","get","ps","has","set","map","reduce","init","skip","arguments","acc","paths","nodes","clone","res","toString","Array","xs","fn","args","t","apply"],"mappings":"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","file":"npm.traverse-03bcf09e10f350f1bed6.js","sourcesContent":["var traverse = module.exports = function (obj) {\n    return new Traverse(obj);\n};\n\nfunction Traverse (obj) {\n    this.value = obj;\n}\n\nTraverse.prototype.get = function (ps) {\n    var node = this.value;\n    for (var i = 0; i < ps.length; i ++) {\n        var key = ps[i];\n        if (!node || !hasOwnProperty.call(node, key)) {\n            node = undefined;\n            break;\n        }\n        node = node[key];\n    }\n    return node;\n};\n\nTraverse.prototype.has = function (ps) {\n    var node = this.value;\n    for (var i = 0; i < ps.length; i ++) {\n        var key = ps[i];\n        if (!node || !hasOwnProperty.call(node, key)) {\n            return false;\n        }\n        node = node[key];\n    }\n    return true;\n};\n\nTraverse.prototype.set = function (ps, value) {\n    var node = this.value;\n    for (var i = 0; i < ps.length - 1; i ++) {\n        var key = ps[i];\n        if (!hasOwnProperty.call(node, key)) node[key] = {};\n        node = node[key];\n    }\n    node[ps[i]] = value;\n    return value;\n};\n\nTraverse.prototype.map = function (cb) {\n    return walk(this.value, cb, true);\n};\n\nTraverse.prototype.forEach = function (cb) {\n    this.value = walk(this.value, cb, false);\n    return this.value;\n};\n\nTraverse.prototype.reduce = function (cb, init) {\n    var skip = arguments.length === 1;\n    var acc = skip ? this.value : init;\n    this.forEach(function (x) {\n        if (!this.isRoot || !skip) {\n            acc = cb.call(this, acc, x);\n        }\n    });\n    return acc;\n};\n\nTraverse.prototype.paths = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.path); \n    });\n    return acc;\n};\n\nTraverse.prototype.nodes = function () {\n    var acc = [];\n    this.forEach(function (x) {\n        acc.push(this.node);\n    });\n    return acc;\n};\n\nTraverse.prototype.clone = function () {\n    var parents = [], nodes = [];\n    \n    return (function clone (src) {\n        for (var i = 0; i < parents.length; i++) {\n            if (parents[i] === src) {\n                return nodes[i];\n            }\n        }\n        \n        if (typeof src === 'object' && src !== null) {\n            var dst = copy(src);\n            \n            parents.push(src);\n            nodes.push(dst);\n            \n            forEach(objectKeys(src), function (key) {\n                dst[key] = clone(src[key]);\n            });\n            \n            parents.pop();\n            nodes.pop();\n            return dst;\n        }\n        else {\n            return src;\n        }\n    })(this.value);\n};\n\nfunction walk (root, cb, immutable) {\n    var path = [];\n    var parents = [];\n    var alive = true;\n    \n    return (function walker (node_) {\n        var node = immutable ? copy(node_) : node_;\n        var modifiers = {};\n        \n        var keepGoing = true;\n        \n        var state = {\n            node : node,\n            node_ : node_,\n            path : [].concat(path),\n            parent : parents[parents.length - 1],\n            parents : parents,\n            key : path.slice(-1)[0],\n            isRoot : path.length === 0,\n            level : path.length,\n            circular : null,\n            update : function (x, stopHere) {\n                if (!state.isRoot) {\n                    state.parent.node[state.key] = x;\n                }\n                state.node = x;\n                if (stopHere) keepGoing = false;\n            },\n            'delete' : function (stopHere) {\n                delete state.parent.node[state.key];\n                if (stopHere) keepGoing = false;\n            },\n            remove : function (stopHere) {\n                if (isArray(state.parent.node)) {\n                    state.parent.node.splice(state.key, 1);\n                }\n                else {\n                    delete state.parent.node[state.key];\n                }\n                if (stopHere) keepGoing = false;\n            },\n            keys : null,\n            before : function (f) { modifiers.before = f },\n            after : function (f) { modifiers.after = f },\n            pre : function (f) { modifiers.pre = f },\n            post : function (f) { modifiers.post = f },\n            stop : function () { alive = false },\n            block : function () { keepGoing = false }\n        };\n        \n        if (!alive) return state;\n        \n        function updateState() {\n            if (typeof state.node === 'object' && state.node !== null) {\n                if (!state.keys || state.node_ !== state.node) {\n                    state.keys = objectKeys(state.node)\n                }\n                \n                state.isLeaf = state.keys.length == 0;\n                \n                for (var i = 0; i < parents.length; i++) {\n                    if (parents[i].node_ === node_) {\n                        state.circular = parents[i];\n                        break;\n                    }\n                }\n            }\n            else {\n                state.isLeaf = true;\n                state.keys = null;\n            }\n            \n            state.notLeaf = !state.isLeaf;\n            state.notRoot = !state.isRoot;\n        }\n        \n        updateState();\n        \n        // use return values to update if defined\n        var ret = cb.call(state, state.node);\n        if (ret !== undefined && state.update) state.update(ret);\n        \n        if (modifiers.before) modifiers.before.call(state, state.node);\n        \n        if (!keepGoing) return state;\n        \n        if (typeof state.node == 'object'\n        && state.node !== null && !state.circular) {\n            parents.push(state);\n            \n            updateState();\n            \n            forEach(state.keys, function (key, i) {\n                path.push(key);\n                \n                if (modifiers.pre) modifiers.pre.call(state, state.node[key], key);\n                \n                var child = walker(state.node[key]);\n                if (immutable && hasOwnProperty.call(state.node, key)) {\n                    state.node[key] = child.node;\n                }\n                \n                child.isLast = i == state.keys.length - 1;\n                child.isFirst = i == 0;\n                \n                if (modifiers.post) modifiers.post.call(state, child);\n                \n                path.pop();\n            });\n            parents.pop();\n        }\n        \n        if (modifiers.after) modifiers.after.call(state, state.node);\n        \n        return state;\n    })(root).node;\n}\n\nfunction copy (src) {\n    if (typeof src === 'object' && src !== null) {\n        var dst;\n        \n        if (isArray(src)) {\n            dst = [];\n        }\n        else if (isDate(src)) {\n            dst = new Date(src.getTime ? src.getTime() : src);\n        }\n        else if (isRegExp(src)) {\n            dst = new RegExp(src);\n        }\n        else if (isError(src)) {\n            dst = { message: src.message };\n        }\n        else if (isBoolean(src)) {\n            dst = new Boolean(src);\n        }\n        else if (isNumber(src)) {\n            dst = new Number(src);\n        }\n        else if (isString(src)) {\n            dst = new String(src);\n        }\n        else if (Object.create && Object.getPrototypeOf) {\n            dst = Object.create(Object.getPrototypeOf(src));\n        }\n        else if (src.constructor === Object) {\n            dst = {};\n        }\n        else {\n            var proto =\n                (src.constructor && src.constructor.prototype)\n                || src.__proto__\n                || {}\n            ;\n            var T = function () {};\n            T.prototype = proto;\n            dst = new T;\n        }\n        \n        forEach(objectKeys(src), function (key) {\n            dst[key] = src[key];\n        });\n        return dst;\n    }\n    else return src;\n}\n\nvar objectKeys = Object.keys || function keys (obj) {\n    var res = [];\n    for (var key in obj) res.push(key)\n    return res;\n};\n\nfunction toS (obj) { return Object.prototype.toString.call(obj) }\nfunction isDate (obj) { return toS(obj) === '[object Date]' }\nfunction isRegExp (obj) { return toS(obj) === '[object RegExp]' }\nfunction isError (obj) { return toS(obj) === '[object Error]' }\nfunction isBoolean (obj) { return toS(obj) === '[object Boolean]' }\nfunction isNumber (obj) { return toS(obj) === '[object Number]' }\nfunction isString (obj) { return toS(obj) === '[object String]' }\n\nvar isArray = Array.isArray || function isArray (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nvar forEach = function (xs, fn) {\n    if (xs.forEach) return xs.forEach(fn)\n    else for (var i = 0; i < xs.length; i++) {\n        fn(xs[i], i, xs);\n    }\n};\n\nforEach(objectKeys(Traverse.prototype), function (key) {\n    traverse[key] = function (obj) {\n        var args = [].slice.call(arguments, 1);\n        var t = new Traverse(obj);\n        return t[key].apply(t, args);\n    };\n});\n\nvar hasOwnProperty = Object.hasOwnProperty || function (obj, key) {\n    return key in obj;\n};\n"],"sourceRoot":""}