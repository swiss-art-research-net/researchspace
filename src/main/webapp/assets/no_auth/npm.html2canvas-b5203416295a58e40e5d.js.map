{"version":3,"sources":["webpack:///./node_modules/html2canvas/dist/html2canvas.js"],"names":["module","exports","e","t","n","r","s","o","u","i","f","Error","code","l","call","length","1","_dereq_","global","root","freeExports","nodeType","freeModule","freeGlobal","window","self","punycode","key","maxInt","regexPunycode","regexNonASCII","regexSeparators","errors","floor","Math","stringFromCharCode","String","fromCharCode","error","type","RangeError","map","array","fn","result","mapDomain","string","parts","split","replace","join","ucs2decode","value","extra","output","counter","charCodeAt","push","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","baseMinusTMin","base","decode","input","out","basic","j","index","oldi","w","baseMinusT","codePoint","inputLength","bias","lastIndexOf","splice","encode","handledCPCount","basicLength","m","q","currentValue","handledCPCountPlusOne","qMinusT","toASCII","test","toUnicode","slice","toLowerCase","hasOwnProperty","this","2","log","cloneNode","node","javascriptEnabled","clone","document","createTextNode","nodeValue","child","firstChild","nodeName","appendChild","nextSibling","_scrollTop","scrollTop","_scrollLeft","scrollLeft","cloneCanvasContents","canvas","clonedCanvas","width","height","getContext","putImageData","getImageData","ownerDocument","containerDocument","options","x","y","documentElement","container","createElement","className","style","visibility","position","left","top","border","scrolling","body","Promise","resolve","documentClone","contentWindow","onload","interval","setInterval","childNodes","initNode","clearInterval","scrollTo","navigator","userAgent","scrollY","scrollX","open","write","restoreOwnerScroll","defaultView","pageXOffset","pageYOffset","replaceChild","adoptNode","close","3","Color","g","b","a","fromArray","namedColor","rgb","rgba","hex6","hex3","prototype","darken","amount","round","isTransparent","isBlack","Array","isArray","min","_hex3","match","parseInt","_hex6","substring","_rgb","Number","_rgba","toString","color","colors","isColor","4","Support","CanvasRenderer","ImageLoader","NodeParser","NodeContainer","utils","createWindowClone","loadUrlDocument","getBounds","html2canvasCloneIndex","html2canvas","nodeList","logging","start","Date","now","async","allowTaint","removeContainer","imageTimeout","renderer","strict","reject","innerWidth","innerHeight","absoluteUrl","url","link","href","proxy","then","renderWindow","undefined","setAttribute","renderDocument","windowWidth","windowHeight","html2canvasIndex","attributeName","selector","querySelector","removeAttribute","clonedWindow","onclone","onrendered","html2canvasExport","Object","support","imageLoader","bounds","right","bottom","ready","crop","scale","origBounds","cropBounds","cleanupContainer","parentNode","removeChild","croppedCanvas","x1","max","x2","y1","y2","drawImage","5","smallImage","DummyImageContainer","src","promise","image","Image","onerror","complete","6","Font","family","size","baseline","middle","img","span","fontFamily","fontSize","margin","padding","verticalAlign","offsetTop","lineHeight","lineWidth","7","FontMetrics","data","getMetrics","8","FrameContainer","sameOrigin","URL","proxyLoad","9","GradientContainer","imageData","colorStops","x0","y0","TYPES","LINEAR","RADIAL","REGEXP_COLORSTOP","10","ImageContainer","cors","tainted","crossOrigin","11","ProxyImageContainer","SVGContainer","SVGNodeContainer","LinearGradientContainer","WebkitGradientContainer","bind","origin","getOrigin","location","findImages","nodes","images","reduce","imageNodes","concat","args","method","forEach","addImage","loadImage","findBackgroundImage","parseBackgroundImages","filter","hasImageBackground","callback","newImage","imageExists","isSVG","svg","isSameOrigin","useCORS","isInline","some","protocol","hostname","port","getPromise","timeout","get","found","fetch","all","timer","race","res","setTimeout","clearTimeout","12","apply","arguments","hasDirection","REGEXP_DIRECTION","reverse","ratio","parseFloat","isNaN","colorStop","colorStopMatch","unit","stop","find","count","create","13","logger","console","Function","14","parseBackgrounds","offsetBounds","parent","stack","borders","clip","backgroundClip","visible","computedStyles","styles","backgroundImages","transformData","transformMatrix","isPseudoElement","opacity","matrixInverse","c","d","det","val","isPercentage","indexOf","removePx","str","asFloat","cloneTo","getOpacity","cssFloat","assignStack","children","isElementVisible","Node","TEXT_NODE","css","hasAttribute","getAttribute","attribute","computedStyle","before","prefixedCss","prefix","substr","toUpperCase","getComputedStyle","cssInt","fontWeight","weight","parseClip","matches","CLIP","cssList","property","trim","parseBackgroundSize","targetRatio","currentRatio","parseBackgroundPosition","backgroundSize","parseBackgroundRepeat","parseTextShadows","textShadow","results","shadows","TEXT_SHADOW_PROPERTY","TEXT_SHADOW_VALUES","offsetX","offsetY","blur","parseTransform","hasTransform","offset","parseBounds","matrix","parseTransformMatrix","transform","parseMatrix","matrix3d","MATRIX_PROPERTY","inverseTransform","getValue","tagName","selectionValue","option","selectedIndex","text","placeholder","15","TextContainer","PseudoElementContainer","StackingContext","element","range","renderQueue","background","rectangle","canvasBackground","visibile","createPseudoHideStyles","disableAnimations","flatten","getChildren","getPseudoElements","fontMetrics","calculateOverflowClips","isElement","createStackingContexts","sortStackingContexts","parse","renderIndex","asyncRenderer","paint","hasParentClip","ClearTransform","appendToDOM","parseBorders","cssClip","cleanDOM","isTextNode","queue","asyncTimer","createStyles","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","hidePseudoElements","innerHTML","ELEMENT_NODE","getPseudoElement","after","content","display","stripQuotes","first","isImage","pseudoNode","pseudoContainer","item","parentContainer","renderableNode","nonIgnoredElement","newStackingContext","hasOwnStacking","getParentStack","contexts","isRootElement","hasOpacity","isPositionedForStacking","isBodyWithTransparentRoot","isPositioned","zIndex0","isInlineBlock","isFloating","sort","zIndexSort","parseTextBounds","textList","rangeBounds","getRangeBounds","replacementNode","splitText","getWrapperBounds","wrapper","backupText","createRange","setStart","setEnd","getBoundingClientRect","negativeZindex","negativeZIndex","descendantElements","descendantNonFloats","not","nonInlineNonPositionedDescendants","inlineLevel","nonPositionedFloats","inFlow","stackLevel0","hasText","positiveZindex","positiveZIndex","isStackingContext","ctx","restore","paintText","paintNode","setOpacity","save","setTransform","paintCheckbox","paintRadio","paintElement","renderBackground","getWidth","mask","renderShadows","renderBorders","imgContainer","renderImage","imageContainer","paintFormValue","radius","borderPoints","calculateCurvePoints","calculateBorders","checked","font","circleStroke","circle","ceil","message","textContent","applyTextTransform","characters","ucs2","wordRendering","letterRendering","noLetterSpacing","hasUnicode","getWords","word","characterCode","words","onWordBoundary","character","fontVariantLigatures","fontShadow","clearShadow","renderTextDecoration","metrics","borderColorTransforms","inset","nodeBounds","pathBounds","borderSide","bx","by","bw","bh","drawSide","c1","c2","c3","c4","topLeftOuter","topLeftInner","topRightOuter","topRightInner","pathArgs","drawSidePath","topLeft","topRight","bottomRightOuter","bottomRightInner","bottomRight","bottomLeftOuter","bottomLeftInner","bottomLeft","getCurvePoints","r1","r2","kappa","sqrt","ox","oy","xm","ym","bezierCurve","borderRadius","tlh","tlv","trh","trv","brh","brv","blh","blv","topWidth","rightHeight","bottomWidth","leftHeight","subdivide","startControl","endControl","end","lerp","ab","bc","cd","abbc","bccd","dest","curveTo","borderArgs","curveToReversed","borderData","radius1","radius2","outer1","inner1","outer2","inner2","curve1","curve2","parseCorner","corner1","corner2","context","asInt","nodeContainer","arrays","getBorderRadiusData","side","arr","colorTransform","parseBackgroundClip","16","XHR","decode64","Proxy","proxyUrl","supportsCORS","XMLHttpRequest","createCallback","createProxyUrl","jsonp","response","proxyCount","cleanup","random","encodeURIComponent","documentFromHTML","html","doc","parser","DOMParser","parseFromString","implementation","createHTMLDocument","ee","host","head","insertBefore","ProxyURL","supportsCORSImage","17","18","getHideClass","19","Renderer","paddingLeft","paddingTop","paddingRight","paddingBottom","renderBackgroundColor","renderBackgroundImage","shape","boxShadow","shadow","renderBorder","dash","setLineDash","path","strokeStyle","stroke","drawShape","backgroundImage","renderBackgroundRepeating","gradientImage","renderBackgroundGradient","backgroundRepeatShape","renderBackgroundRepeat","20","dpi","taintCtx","textBaseline","variables","hasEntries","setFillStyle","fillStyle","fillRect","beginPath","arc","PI","closePath","fill","strokeColor","info","propertyFilters","px","pxPropertyNames","properties","parseShadow","shadowOffsetX","shadowOffsetY","shadowColor","shadowBlur","taints","sx","sy","sw","sh","dx","dy","dw","dh","shapes","borderClip","maskShape","point","rect","variant","setVariable","globalAlpha","translate","fillText","backgroundPosition","borderLeft","borderTop","createPattern","resizeImage","gradient","createLinearGradient","addColorStop","21","ownStacking","parentStack","22","testRangeBounds","testCORS","testSVG","testElement","selectNode","toDataURL","23","hasFabric","inlineFormatting","fabric","loadSVGFromString","createCanvas","removeContentType","objects","StaticCanvas","lowerCanvasEl","setWidth","setHeight","add","util","groupSVGElements","renderAll","atob","24","_native","XMLSerializer","serializeToString","parseSVGDocument","25","capitalize","p1","p2","26","base64","encoded2","encoded3","encoded4","byte1","byte2","byte3","chars","len","clientRect","offsetWidth","offsetHeight","offsetParent","offsetLeft","definition","prefix_i","block","quote","mode","numParen","appendResult","27","28","xhr","status","responseText","statusText","send"],"mappings":"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","file":"npm.html2canvas-b5203416295a58e40e5d.js","sourcesContent":["/*\n  html2canvas 0.5.0-beta4 <http://html2canvas.hertzen.com>\n  Copyright (c) 2017 Niklas von Hertzen\n  2017-06-14 Custom build by Erik Koopmans, featuring latest bugfixes and features\n\n  Released under MIT License\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.html2canvas = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\n\nfunction restoreOwnerScroll(ownerDocument, x, y) {\n    if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n}\n\nfunction cloneCanvasContents(canvas, clonedCanvas) {\n    try {\n        if (clonedCanvas) {\n            clonedCanvas.width = canvas.width;\n            clonedCanvas.height = canvas.height;\n            clonedCanvas.getContext(\"2d\").putImageData(canvas.getContext(\"2d\").getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n        }\n    } catch(e) {\n        log(\"Unable to copy canvas content from\", canvas, e);\n    }\n}\n\nfunction cloneNode(node, javascriptEnabled) {\n    var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);\n\n    var child = node.firstChild;\n    while(child) {\n        if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {\n            clone.appendChild(cloneNode(child, javascriptEnabled));\n        }\n        child = child.nextSibling;\n    }\n\n    if (node.nodeType === 1) {\n        clone._scrollTop = node.scrollTop;\n        clone._scrollLeft = node.scrollLeft;\n        if (node.nodeName === \"CANVAS\") {\n            cloneCanvasContents(node, clone);\n        } else if (node.nodeName === \"TEXTAREA\" || node.nodeName === \"SELECT\") {\n            clone.value = node.value;\n        }\n    }\n\n    return clone;\n}\n\nfunction initNode(node) {\n    if (node.nodeType === 1) {\n        node.scrollTop = node._scrollTop;\n        node.scrollLeft = node._scrollLeft;\n\n        var child = node.firstChild;\n        while(child) {\n            initNode(child);\n            child = child.nextSibling;\n        }\n    }\n}\n\nmodule.exports = function(ownerDocument, containerDocument, width, height, options, x ,y) {\n    var documentElement = cloneNode(ownerDocument.documentElement, options.javascriptEnabled);\n    var container = containerDocument.createElement(\"iframe\");\n\n    container.className = \"html2canvas-container\";\n    container.style.visibility = \"hidden\";\n    container.style.position = \"fixed\";\n    container.style.left = \"-10000px\";\n    container.style.top = \"0px\";\n    container.style.border = \"0\";\n    container.width = width;\n    container.height = height;\n    container.scrolling = \"no\"; // ios won't scroll without it\n    containerDocument.body.appendChild(container);\n\n    return new Promise(function(resolve) {\n        var documentClone = container.contentWindow.document;\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n        container.contentWindow.onload = container.onload = function() {\n            var interval = setInterval(function() {\n                if (documentClone.body.childNodes.length > 0) {\n                    initNode(documentClone.documentElement);\n                    clearInterval(interval);\n                    if (options.type === \"view\") {\n                        container.contentWindow.scrollTo(x, y);\n                        if ((/(iPad|iPhone|iPod)/g).test(navigator.userAgent) && (container.contentWindow.scrollY !== y || container.contentWindow.scrollX !== x)) {\n                            documentClone.documentElement.style.top = (-y) + \"px\";\n                            documentClone.documentElement.style.left = (-x) + \"px\";\n                            documentClone.documentElement.style.position = 'absolute';\n                        }\n                    }\n                    resolve(container);\n                }\n            }, 50);\n        };\n\n        documentClone.open();\n        documentClone.write(\"<!DOCTYPE html><html></html>\");\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(ownerDocument, x, y);\n        documentClone.replaceChild(documentClone.adoptNode(documentElement), documentClone.documentElement);\n        documentClone.close();\n    });\n};\n\n},{\"./log\":13}],3:[function(_dereq_,module,exports){\n// http://dev.w3.org/csswg/css-color/\n\nfunction Color(value) {\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = null;\n    var result = this.fromArray(value) ||\n        this.namedColor(value) ||\n        this.rgb(value) ||\n        this.rgba(value) ||\n        this.hex6(value) ||\n        this.hex3(value);\n}\n\nColor.prototype.darken = function(amount) {\n    var a = 1 - amount;\n    return  new Color([\n        Math.round(this.r * a),\n        Math.round(this.g * a),\n        Math.round(this.b * a),\n        this.a\n    ]);\n};\n\nColor.prototype.isTransparent = function() {\n    return this.a === 0;\n};\n\nColor.prototype.isBlack = function() {\n    return this.r === 0 && this.g === 0 && this.b === 0;\n};\n\nColor.prototype.fromArray = function(array) {\n    if (Array.isArray(array)) {\n        this.r = Math.min(array[0], 255);\n        this.g = Math.min(array[1], 255);\n        this.b = Math.min(array[2], 255);\n        if (array.length > 3) {\n            this.a = array[3];\n        }\n    }\n\n    return (Array.isArray(array));\n};\n\nvar _hex3 = /^#([a-f0-9]{3})$/i;\n\nColor.prototype.hex3 = function(value) {\n    var match = null;\n    if ((match = value.match(_hex3)) !== null) {\n        this.r = parseInt(match[1][0] + match[1][0], 16);\n        this.g = parseInt(match[1][1] + match[1][1], 16);\n        this.b = parseInt(match[1][2] + match[1][2], 16);\n    }\n    return match !== null;\n};\n\nvar _hex6 = /^#([a-f0-9]{6})$/i;\n\nColor.prototype.hex6 = function(value) {\n    var match = null;\n    if ((match = value.match(_hex6)) !== null) {\n        this.r = parseInt(match[1].substring(0, 2), 16);\n        this.g = parseInt(match[1].substring(2, 4), 16);\n        this.b = parseInt(match[1].substring(4, 6), 16);\n    }\n    return match !== null;\n};\n\n\nvar _rgb = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;\n\nColor.prototype.rgb = function(value) {\n    var match = null;\n    if ((match = value.match(_rgb)) !== null) {\n        this.r = Number(match[1]);\n        this.g = Number(match[2]);\n        this.b = Number(match[3]);\n    }\n    return match !== null;\n};\n\nvar _rgba = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d?\\.?\\d+)\\s*\\)$/;\n\nColor.prototype.rgba = function(value) {\n    var match = null;\n    if ((match = value.match(_rgba)) !== null) {\n        this.r = Number(match[1]);\n        this.g = Number(match[2]);\n        this.b = Number(match[3]);\n        this.a = Number(match[4]);\n    }\n    return match !== null;\n};\n\nColor.prototype.toString = function() {\n    return this.a !== null && this.a !== 1 ?\n    \"rgba(\" + [this.r, this.g, this.b, this.a].join(\",\") + \")\" :\n    \"rgb(\" + [this.r, this.g, this.b].join(\",\") + \")\";\n};\n\nColor.prototype.namedColor = function(value) {\n    value = value.toLowerCase();\n    var color = colors[value];\n    if (color) {\n        this.r = color[0];\n        this.g = color[1];\n        this.b = color[2];\n    } else if (value === \"transparent\") {\n        this.r = this.g = this.b = this.a = 0;\n        return true;\n    }\n\n    return !!color;\n};\n\nColor.prototype.isColor = true;\n\n// JSON.stringify([].slice.call($$('.named-color-table tr'), 1).map(function(row) { return [row.childNodes[3].textContent, row.childNodes[5].textContent.trim().split(\",\").map(Number)] }).reduce(function(data, row) {data[row[0]] = row[1]; return data}, {}))\nvar colors = {\n    \"aliceblue\": [240, 248, 255],\n    \"antiquewhite\": [250, 235, 215],\n    \"aqua\": [0, 255, 255],\n    \"aquamarine\": [127, 255, 212],\n    \"azure\": [240, 255, 255],\n    \"beige\": [245, 245, 220],\n    \"bisque\": [255, 228, 196],\n    \"black\": [0, 0, 0],\n    \"blanchedalmond\": [255, 235, 205],\n    \"blue\": [0, 0, 255],\n    \"blueviolet\": [138, 43, 226],\n    \"brown\": [165, 42, 42],\n    \"burlywood\": [222, 184, 135],\n    \"cadetblue\": [95, 158, 160],\n    \"chartreuse\": [127, 255, 0],\n    \"chocolate\": [210, 105, 30],\n    \"coral\": [255, 127, 80],\n    \"cornflowerblue\": [100, 149, 237],\n    \"cornsilk\": [255, 248, 220],\n    \"crimson\": [220, 20, 60],\n    \"cyan\": [0, 255, 255],\n    \"darkblue\": [0, 0, 139],\n    \"darkcyan\": [0, 139, 139],\n    \"darkgoldenrod\": [184, 134, 11],\n    \"darkgray\": [169, 169, 169],\n    \"darkgreen\": [0, 100, 0],\n    \"darkgrey\": [169, 169, 169],\n    \"darkkhaki\": [189, 183, 107],\n    \"darkmagenta\": [139, 0, 139],\n    \"darkolivegreen\": [85, 107, 47],\n    \"darkorange\": [255, 140, 0],\n    \"darkorchid\": [153, 50, 204],\n    \"darkred\": [139, 0, 0],\n    \"darksalmon\": [233, 150, 122],\n    \"darkseagreen\": [143, 188, 143],\n    \"darkslateblue\": [72, 61, 139],\n    \"darkslategray\": [47, 79, 79],\n    \"darkslategrey\": [47, 79, 79],\n    \"darkturquoise\": [0, 206, 209],\n    \"darkviolet\": [148, 0, 211],\n    \"deeppink\": [255, 20, 147],\n    \"deepskyblue\": [0, 191, 255],\n    \"dimgray\": [105, 105, 105],\n    \"dimgrey\": [105, 105, 105],\n    \"dodgerblue\": [30, 144, 255],\n    \"firebrick\": [178, 34, 34],\n    \"floralwhite\": [255, 250, 240],\n    \"forestgreen\": [34, 139, 34],\n    \"fuchsia\": [255, 0, 255],\n    \"gainsboro\": [220, 220, 220],\n    \"ghostwhite\": [248, 248, 255],\n    \"gold\": [255, 215, 0],\n    \"goldenrod\": [218, 165, 32],\n    \"gray\": [128, 128, 128],\n    \"green\": [0, 128, 0],\n    \"greenyellow\": [173, 255, 47],\n    \"grey\": [128, 128, 128],\n    \"honeydew\": [240, 255, 240],\n    \"hotpink\": [255, 105, 180],\n    \"indianred\": [205, 92, 92],\n    \"indigo\": [75, 0, 130],\n    \"ivory\": [255, 255, 240],\n    \"khaki\": [240, 230, 140],\n    \"lavender\": [230, 230, 250],\n    \"lavenderblush\": [255, 240, 245],\n    \"lawngreen\": [124, 252, 0],\n    \"lemonchiffon\": [255, 250, 205],\n    \"lightblue\": [173, 216, 230],\n    \"lightcoral\": [240, 128, 128],\n    \"lightcyan\": [224, 255, 255],\n    \"lightgoldenrodyellow\": [250, 250, 210],\n    \"lightgray\": [211, 211, 211],\n    \"lightgreen\": [144, 238, 144],\n    \"lightgrey\": [211, 211, 211],\n    \"lightpink\": [255, 182, 193],\n    \"lightsalmon\": [255, 160, 122],\n    \"lightseagreen\": [32, 178, 170],\n    \"lightskyblue\": [135, 206, 250],\n    \"lightslategray\": [119, 136, 153],\n    \"lightslategrey\": [119, 136, 153],\n    \"lightsteelblue\": [176, 196, 222],\n    \"lightyellow\": [255, 255, 224],\n    \"lime\": [0, 255, 0],\n    \"limegreen\": [50, 205, 50],\n    \"linen\": [250, 240, 230],\n    \"magenta\": [255, 0, 255],\n    \"maroon\": [128, 0, 0],\n    \"mediumaquamarine\": [102, 205, 170],\n    \"mediumblue\": [0, 0, 205],\n    \"mediumorchid\": [186, 85, 211],\n    \"mediumpurple\": [147, 112, 219],\n    \"mediumseagreen\": [60, 179, 113],\n    \"mediumslateblue\": [123, 104, 238],\n    \"mediumspringgreen\": [0, 250, 154],\n    \"mediumturquoise\": [72, 209, 204],\n    \"mediumvioletred\": [199, 21, 133],\n    \"midnightblue\": [25, 25, 112],\n    \"mintcream\": [245, 255, 250],\n    \"mistyrose\": [255, 228, 225],\n    \"moccasin\": [255, 228, 181],\n    \"navajowhite\": [255, 222, 173],\n    \"navy\": [0, 0, 128],\n    \"oldlace\": [253, 245, 230],\n    \"olive\": [128, 128, 0],\n    \"olivedrab\": [107, 142, 35],\n    \"orange\": [255, 165, 0],\n    \"orangered\": [255, 69, 0],\n    \"orchid\": [218, 112, 214],\n    \"palegoldenrod\": [238, 232, 170],\n    \"palegreen\": [152, 251, 152],\n    \"paleturquoise\": [175, 238, 238],\n    \"palevioletred\": [219, 112, 147],\n    \"papayawhip\": [255, 239, 213],\n    \"peachpuff\": [255, 218, 185],\n    \"peru\": [205, 133, 63],\n    \"pink\": [255, 192, 203],\n    \"plum\": [221, 160, 221],\n    \"powderblue\": [176, 224, 230],\n    \"purple\": [128, 0, 128],\n    \"rebeccapurple\": [102, 51, 153],\n    \"red\": [255, 0, 0],\n    \"rosybrown\": [188, 143, 143],\n    \"royalblue\": [65, 105, 225],\n    \"saddlebrown\": [139, 69, 19],\n    \"salmon\": [250, 128, 114],\n    \"sandybrown\": [244, 164, 96],\n    \"seagreen\": [46, 139, 87],\n    \"seashell\": [255, 245, 238],\n    \"sienna\": [160, 82, 45],\n    \"silver\": [192, 192, 192],\n    \"skyblue\": [135, 206, 235],\n    \"slateblue\": [106, 90, 205],\n    \"slategray\": [112, 128, 144],\n    \"slategrey\": [112, 128, 144],\n    \"snow\": [255, 250, 250],\n    \"springgreen\": [0, 255, 127],\n    \"steelblue\": [70, 130, 180],\n    \"tan\": [210, 180, 140],\n    \"teal\": [0, 128, 128],\n    \"thistle\": [216, 191, 216],\n    \"tomato\": [255, 99, 71],\n    \"turquoise\": [64, 224, 208],\n    \"violet\": [238, 130, 238],\n    \"wheat\": [245, 222, 179],\n    \"white\": [255, 255, 255],\n    \"whitesmoke\": [245, 245, 245],\n    \"yellow\": [255, 255, 0],\n    \"yellowgreen\": [154, 205, 50]\n};\n\nmodule.exports = Color;\n\n},{}],4:[function(_dereq_,module,exports){\nvar Support = _dereq_('./support');\nvar CanvasRenderer = _dereq_('./renderers/canvas');\nvar ImageLoader = _dereq_('./imageloader');\nvar NodeParser = _dereq_('./nodeparser');\nvar NodeContainer = _dereq_('./nodecontainer');\nvar log = _dereq_('./log');\nvar utils = _dereq_('./utils');\nvar createWindowClone = _dereq_('./clone');\nvar loadUrlDocument = _dereq_('./proxy').loadUrlDocument;\nvar getBounds = utils.getBounds;\n\nvar html2canvasNodeAttribute = \"data-html2canvas-node\";\nvar html2canvasCloneIndex = 0;\n\nfunction html2canvas(nodeList, options) {\n    var index = html2canvasCloneIndex++;\n    options = options || {};\n    if (options.logging) {\n        log.options.logging = true;\n        log.options.start = Date.now();\n    }\n\n    options.async = typeof(options.async) === \"undefined\" ? true : options.async;\n    options.allowTaint = typeof(options.allowTaint) === \"undefined\" ? false : options.allowTaint;\n    options.removeContainer = typeof(options.removeContainer) === \"undefined\" ? true : options.removeContainer;\n    options.javascriptEnabled = typeof(options.javascriptEnabled) === \"undefined\" ? false : options.javascriptEnabled;\n    options.imageTimeout = typeof(options.imageTimeout) === \"undefined\" ? 10000 : options.imageTimeout;\n    options.renderer = typeof(options.renderer) === \"function\" ? options.renderer : CanvasRenderer;\n    options.strict = !!options.strict;\n\n    if (typeof(nodeList) === \"string\") {\n        if (typeof(options.proxy) !== \"string\") {\n            return Promise.reject(\"Proxy must be used when rendering url\");\n        }\n        var width = options.width != null ? options.width : window.innerWidth;\n        var height = options.height != null ? options.height : window.innerHeight;\n        return loadUrlDocument(absoluteUrl(nodeList), options.proxy, document, width, height, options).then(function(container) {\n            return renderWindow(container.contentWindow.document.documentElement, container, options, width, height);\n        });\n    }\n\n    var node = ((nodeList === undefined) ? [document.documentElement] : ((nodeList.length) ? nodeList : [nodeList]))[0];\n    node.setAttribute(html2canvasNodeAttribute + index, index);\n    return renderDocument(node.ownerDocument, options, node.ownerDocument.defaultView.innerWidth, node.ownerDocument.defaultView.innerHeight, index).then(function(canvas) {\n        if (typeof(options.onrendered) === \"function\") {\n            log(\"options.onrendered is deprecated, html2canvas returns a Promise containing the canvas\");\n            options.onrendered(canvas);\n        }\n        return canvas;\n    });\n}\n\nhtml2canvas.CanvasRenderer = CanvasRenderer;\nhtml2canvas.NodeContainer = NodeContainer;\nhtml2canvas.log = log;\nhtml2canvas.utils = utils;\n\nvar html2canvasExport = (typeof(document) === \"undefined\" || typeof(Object.create) !== \"function\" || typeof(document.createElement(\"canvas\").getContext) !== \"function\") ? function() {\n    return Promise.reject(\"No canvas support\");\n} : html2canvas;\n\nmodule.exports = html2canvasExport;\n\nif (typeof(define) === 'function' && define.amd) {\n    define('html2canvas', [], function() {\n        return html2canvasExport;\n    });\n}\n\nfunction renderDocument(document, options, windowWidth, windowHeight, html2canvasIndex) {\n    return createWindowClone(document, document, windowWidth, windowHeight, options, document.defaultView.pageXOffset, document.defaultView.pageYOffset).then(function(container) {\n        log(\"Document cloned\");\n        var attributeName = html2canvasNodeAttribute + html2canvasIndex;\n        var selector = \"[\" + attributeName + \"='\" + html2canvasIndex + \"']\";\n        document.querySelector(selector).removeAttribute(attributeName);\n        var clonedWindow = container.contentWindow;\n        var node = clonedWindow.document.querySelector(selector);\n        var oncloneHandler = (typeof(options.onclone) === \"function\") ? Promise.resolve(options.onclone(clonedWindow.document)) : Promise.resolve(true);\n        return oncloneHandler.then(function() {\n            return renderWindow(node, container, options, windowWidth, windowHeight);\n        });\n    });\n}\n\nfunction renderWindow(node, container, options, windowWidth, windowHeight) {\n    var clonedWindow = container.contentWindow;\n    var support = new Support(clonedWindow.document);\n    var imageLoader = new ImageLoader(options, support);\n    var bounds = getBounds(node);\n    var width = options.type === \"view\" ? windowWidth : bounds.right + 1;\n    var height = options.type === \"view\" ? windowHeight : bounds.bottom + 1;\n    var renderer = new options.renderer(width, height, imageLoader, options, document);\n    var parser = new NodeParser(node, renderer, support, imageLoader, options);\n    return parser.ready.then(function() {\n        log(\"Finished rendering\");\n        var canvas;\n\n        if (options.type === \"view\") {\n            canvas = crop(renderer.canvas, {width: renderer.canvas.width, height: renderer.canvas.height, top: 0, left: 0, x: 0, y: 0});\n        } else if (node === clonedWindow.document.body || node === clonedWindow.document.documentElement || options.canvas != null) {\n            canvas = renderer.canvas;\n        } else if (options.scale) {\n            var origBounds = {width: options.width != null ? options.width : bounds.width, height: options.height != null ? options.height : bounds.height, top: bounds.top, left: bounds.left, x: 0, y: 0};\n            var cropBounds = {};\n            for (var key in origBounds) {\n                if (origBounds.hasOwnProperty(key)) { cropBounds[key] = origBounds[key] * options.scale; }\n            }\n            canvas = crop(renderer.canvas, cropBounds);\n            canvas.style.width = origBounds.width + 'px';\n            canvas.style.height = origBounds.height + 'px';\n        } else {\n            canvas = crop(renderer.canvas, {width:  options.width != null ? options.width : bounds.width, height: options.height != null ? options.height : bounds.height, top: bounds.top, left: bounds.left, x: 0, y: 0});\n        }\n\n        cleanupContainer(container, options);\n        return canvas;\n    });\n}\n\nfunction cleanupContainer(container, options) {\n    if (options.removeContainer) {\n        container.parentNode.removeChild(container);\n        log(\"Cleaned up container\");\n    }\n}\n\nfunction crop(canvas, bounds) {\n    var croppedCanvas = document.createElement(\"canvas\");\n    var x1 = Math.min(canvas.width - 1, Math.max(0, bounds.left));\n    var x2 = Math.min(canvas.width, Math.max(1, bounds.left + bounds.width));\n    var y1 = Math.min(canvas.height - 1, Math.max(0, bounds.top));\n    var y2 = Math.min(canvas.height, Math.max(1, bounds.top + bounds.height));\n    croppedCanvas.width = bounds.width;\n    croppedCanvas.height =  bounds.height;\n    var width = x2-x1;\n    var height = y2-y1;\n    log(\"Cropping canvas at:\", \"left:\", bounds.left, \"top:\", bounds.top, \"width:\", width, \"height:\", height);\n    log(\"Resulting crop with width\", bounds.width, \"and height\", bounds.height, \"with x\", x1, \"and y\", y1);\n    croppedCanvas.getContext(\"2d\").drawImage(canvas, x1, y1, width, height, bounds.x, bounds.y, width, height);\n    return croppedCanvas;\n}\n\nfunction documentWidth (doc) {\n    return Math.max(\n        Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth),\n        Math.max(doc.body.offsetWidth, doc.documentElement.offsetWidth),\n        Math.max(doc.body.clientWidth, doc.documentElement.clientWidth)\n    );\n}\n\nfunction documentHeight (doc) {\n    return Math.max(\n        Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight),\n        Math.max(doc.body.offsetHeight, doc.documentElement.offsetHeight),\n        Math.max(doc.body.clientHeight, doc.documentElement.clientHeight)\n    );\n}\n\nfunction absoluteUrl(url) {\n    var link = document.createElement(\"a\");\n    link.href = url;\n    link.href = link.href;\n    return link;\n}\n\n},{\"./clone\":2,\"./imageloader\":11,\"./log\":13,\"./nodecontainer\":14,\"./nodeparser\":15,\"./proxy\":16,\"./renderers/canvas\":20,\"./support\":22,\"./utils\":26}],5:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\nvar smallImage = _dereq_('./utils').smallImage;\n\nfunction DummyImageContainer(src) {\n    this.src = src;\n    log(\"DummyImageContainer for\", src);\n    if (!this.promise || !this.image) {\n        log(\"Initiating DummyImageContainer\");\n        DummyImageContainer.prototype.image = new Image();\n        var image = this.image;\n        DummyImageContainer.prototype.promise = new Promise(function(resolve, reject) {\n            image.onload = resolve;\n            image.onerror = reject;\n            image.src = smallImage();\n            if (image.complete === true) {\n                resolve(image);\n            }\n        });\n    }\n}\n\nmodule.exports = DummyImageContainer;\n\n},{\"./log\":13,\"./utils\":26}],6:[function(_dereq_,module,exports){\nvar smallImage = _dereq_('./utils').smallImage;\n\nfunction Font(family, size) {\n    var container = document.createElement('div'),\n        img = document.createElement('img'),\n        span = document.createElement('span'),\n        sampleText = 'Hidden Text',\n        baseline,\n        middle;\n\n    container.style.visibility = \"hidden\";\n    container.style.fontFamily = family;\n    container.style.fontSize = size;\n    container.style.margin = 0;\n    container.style.padding = 0;\n\n    document.body.appendChild(container);\n\n    img.src = smallImage();\n    img.width = 1;\n    img.height = 1;\n\n    img.style.margin = 0;\n    img.style.padding = 0;\n    img.style.verticalAlign = \"baseline\";\n\n    span.style.fontFamily = family;\n    span.style.fontSize = size;\n    span.style.margin = 0;\n    span.style.padding = 0;\n\n    span.appendChild(document.createTextNode(sampleText));\n    container.appendChild(span);\n    container.appendChild(img);\n    baseline = (img.offsetTop - span.offsetTop) + 1;\n\n    container.removeChild(span);\n    container.appendChild(document.createTextNode(sampleText));\n\n    container.style.lineHeight = \"normal\";\n    img.style.verticalAlign = \"super\";\n\n    middle = (img.offsetTop-container.offsetTop) + 1;\n\n    document.body.removeChild(container);\n\n    this.baseline = baseline;\n    this.lineWidth = 1;\n    this.middle = middle;\n}\n\nmodule.exports = Font;\n\n},{\"./utils\":26}],7:[function(_dereq_,module,exports){\nvar Font = _dereq_('./font');\n\nfunction FontMetrics() {\n    this.data = {};\n}\n\nFontMetrics.prototype.getMetrics = function(family, size) {\n    if (this.data[family + \"-\" + size] === undefined) {\n        this.data[family + \"-\" + size] = new Font(family, size);\n    }\n    return this.data[family + \"-\" + size];\n};\n\nmodule.exports = FontMetrics;\n\n},{\"./font\":6}],8:[function(_dereq_,module,exports){\nvar utils = _dereq_('./utils');\nvar getBounds = utils.getBounds;\nvar loadUrlDocument = _dereq_('./proxy').loadUrlDocument;\n\nfunction FrameContainer(container, sameOrigin, options) {\n    this.image = null;\n    this.src = container;\n    var self = this;\n    var bounds = getBounds(container);\n    this.promise = (!sameOrigin ? this.proxyLoad(options.proxy, bounds, options) : new Promise(function(resolve) {\n        if (container.contentWindow.document.URL === \"about:blank\" || container.contentWindow.document.documentElement == null) {\n            container.contentWindow.onload = container.onload = function() {\n                resolve(container);\n            };\n        } else {\n            resolve(container);\n        }\n    })).then(function(container) {\n        var html2canvas = _dereq_('./core');\n        return html2canvas(container.contentWindow.document.documentElement, {type: 'view', width: container.width, height: container.height, proxy: options.proxy, javascriptEnabled: options.javascriptEnabled, removeContainer: options.removeContainer, allowTaint: options.allowTaint, imageTimeout: options.imageTimeout / 2});\n    }).then(function(canvas) {\n        return self.image = canvas;\n    });\n}\n\nFrameContainer.prototype.proxyLoad = function(proxy, bounds, options) {\n    var container = this.src;\n    return loadUrlDocument(container.src, proxy, container.ownerDocument, bounds.width, bounds.height, options);\n};\n\nmodule.exports = FrameContainer;\n\n},{\"./core\":4,\"./proxy\":16,\"./utils\":26}],9:[function(_dereq_,module,exports){\nfunction GradientContainer(imageData) {\n    this.src = imageData.value;\n    this.colorStops = [];\n    this.type = null;\n    this.x0 = 0.5;\n    this.y0 = 0.5;\n    this.x1 = 0.5;\n    this.y1 = 0.5;\n    this.promise = Promise.resolve(true);\n}\n\nGradientContainer.TYPES = {\n    LINEAR: 1,\n    RADIAL: 2\n};\n\n// TODO: support hsl[a], negative %/length values\n// TODO: support <angle> (e.g. -?\\d{1,3}(?:\\.\\d+)deg, etc. : https://developer.mozilla.org/docs/Web/CSS/angle )\nGradientContainer.REGEXP_COLORSTOP = /^\\s*(rgba?\\(\\s*\\d{1,3},\\s*\\d{1,3},\\s*\\d{1,3}(?:,\\s*[0-9\\.]+)?\\s*\\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\\s+(\\d{1,3}(?:\\.\\d+)?)(%|px)?)?(?:\\s|$)/i;\n\nmodule.exports = GradientContainer;\n\n},{}],10:[function(_dereq_,module,exports){\nfunction ImageContainer(src, cors) {\n    this.src = src;\n    this.image = new Image();\n    var self = this;\n    this.tainted = null;\n    this.promise = new Promise(function(resolve, reject) {\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n        if (cors) {\n            self.image.crossOrigin = \"anonymous\";\n        }\n        self.image.src = src;\n        if (self.image.complete === true) {\n            resolve(self.image);\n        }\n    });\n}\n\nmodule.exports = ImageContainer;\n\n},{}],11:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\nvar ImageContainer = _dereq_('./imagecontainer');\nvar DummyImageContainer = _dereq_('./dummyimagecontainer');\nvar ProxyImageContainer = _dereq_('./proxyimagecontainer');\nvar FrameContainer = _dereq_('./framecontainer');\nvar SVGContainer = _dereq_('./svgcontainer');\nvar SVGNodeContainer = _dereq_('./svgnodecontainer');\nvar LinearGradientContainer = _dereq_('./lineargradientcontainer');\nvar WebkitGradientContainer = _dereq_('./webkitgradientcontainer');\nvar bind = _dereq_('./utils').bind;\n\nfunction ImageLoader(options, support) {\n    this.link = null;\n    this.options = options;\n    this.support = support;\n    this.origin = this.getOrigin(window.location.href);\n}\n\nImageLoader.prototype.findImages = function(nodes) {\n    var images = [];\n    nodes.reduce(function(imageNodes, container) {\n        switch(container.node.nodeName) {\n        case \"IMG\":\n            return imageNodes.concat([{\n                args: [container.node.src],\n                method: \"url\"\n            }]);\n        case \"svg\":\n        case \"IFRAME\":\n            return imageNodes.concat([{\n                args: [container.node],\n                method: container.node.nodeName\n            }]);\n        }\n        return imageNodes;\n    }, []).forEach(this.addImage(images, this.loadImage), this);\n    return images;\n};\n\nImageLoader.prototype.findBackgroundImage = function(images, container) {\n    container.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(images, this.loadImage), this);\n    return images;\n};\n\nImageLoader.prototype.addImage = function(images, callback) {\n    return function(newImage) {\n        newImage.args.forEach(function(image) {\n            if (!this.imageExists(images, image)) {\n                images.splice(0, 0, callback.call(this, newImage));\n                log('Added image #' + (images.length), typeof(image) === \"string\" ? image.substring(0, 100) : image);\n            }\n        }, this);\n    };\n};\n\nImageLoader.prototype.hasImageBackground = function(imageData) {\n    return imageData.method !== \"none\";\n};\n\nImageLoader.prototype.loadImage = function(imageData) {\n    if (imageData.method === \"url\") {\n        var src = imageData.args[0];\n        if (this.isSVG(src) && !this.support.svg && !this.options.allowTaint) {\n            return new SVGContainer(src);\n        } else if (src.match(/data:image\\/.*;base64,/i)) {\n            return new ImageContainer(src.replace(/url\\(['\"]{0,}|['\"]{0,}\\)$/ig, ''), false);\n        } else if (this.isSameOrigin(src) || this.options.allowTaint === true || this.isSVG(src)) {\n            return new ImageContainer(src, false);\n        } else if (this.support.cors && !this.options.allowTaint && this.options.useCORS) {\n            return new ImageContainer(src, true);\n        } else if (this.options.proxy) {\n            return new ProxyImageContainer(src, this.options.proxy);\n        } else {\n            return new DummyImageContainer(src);\n        }\n    } else if (imageData.method === \"linear-gradient\") {\n        return new LinearGradientContainer(imageData);\n    } else if (imageData.method === \"gradient\") {\n        return new WebkitGradientContainer(imageData);\n    } else if (imageData.method === \"svg\") {\n        return new SVGNodeContainer(imageData.args[0], this.support.svg);\n    } else if (imageData.method === \"IFRAME\") {\n        return new FrameContainer(imageData.args[0], this.isSameOrigin(imageData.args[0].src), this.options);\n    } else {\n        return new DummyImageContainer(imageData);\n    }\n};\n\nImageLoader.prototype.isSVG = function(src) {\n    return src.substring(src.length - 3).toLowerCase() === \"svg\" || SVGContainer.prototype.isInline(src);\n};\n\nImageLoader.prototype.imageExists = function(images, src) {\n    return images.some(function(image) {\n        return image.src === src;\n    });\n};\n\nImageLoader.prototype.isSameOrigin = function(url) {\n    return (this.getOrigin(url) === this.origin);\n};\n\nImageLoader.prototype.getOrigin = function(url) {\n    var link = this.link || (this.link = document.createElement(\"a\"));\n    link.href = url;\n    link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n    return link.protocol + link.hostname + link.port;\n};\n\nImageLoader.prototype.getPromise = function(container) {\n    return this.timeout(container, this.options.imageTimeout)['catch'](function() {\n        var dummy = new DummyImageContainer(container.src);\n        return dummy.promise.then(function(image) {\n            container.image = image;\n        });\n    });\n};\n\nImageLoader.prototype.get = function(src) {\n    var found = null;\n    return this.images.some(function(img) {\n        return (found = img).src === src;\n    }) ? found : null;\n};\n\nImageLoader.prototype.fetch = function(nodes) {\n    this.images = nodes.reduce(bind(this.findBackgroundImage, this), this.findImages(nodes));\n    this.images.forEach(function(image, index) {\n        image.promise.then(function() {\n            log(\"Succesfully loaded image #\"+ (index+1), image);\n        }, function(e) {\n            log(\"Failed loading image #\"+ (index+1), image, e);\n        });\n    });\n    this.ready = Promise.all(this.images.map(this.getPromise, this));\n    log(\"Finished searching images\");\n    return this;\n};\n\nImageLoader.prototype.timeout = function(container, timeout) {\n    var timer;\n    var promise = Promise.race([container.promise, new Promise(function(res, reject) {\n        timer = setTimeout(function() {\n            log(\"Timed out loading image\", container);\n            reject(container);\n        }, timeout);\n    })]).then(function(container) {\n        clearTimeout(timer);\n        return container;\n    });\n    promise['catch'](function() {\n        clearTimeout(timer);\n    });\n    return promise;\n};\n\nmodule.exports = ImageLoader;\n\n},{\"./dummyimagecontainer\":5,\"./framecontainer\":8,\"./imagecontainer\":10,\"./lineargradientcontainer\":12,\"./log\":13,\"./proxyimagecontainer\":17,\"./svgcontainer\":23,\"./svgnodecontainer\":24,\"./utils\":26,\"./webkitgradientcontainer\":27}],12:[function(_dereq_,module,exports){\nvar GradientContainer = _dereq_('./gradientcontainer');\nvar Color = _dereq_('./color');\n\nfunction LinearGradientContainer(imageData) {\n    GradientContainer.apply(this, arguments);\n    this.type = GradientContainer.TYPES.LINEAR;\n\n    var hasDirection = LinearGradientContainer.REGEXP_DIRECTION.test( imageData.args[0] ) ||\n        !GradientContainer.REGEXP_COLORSTOP.test( imageData.args[0] );\n\n    if (hasDirection) {\n        imageData.args[0].split(/\\s+/).reverse().forEach(function(position, index) {\n            switch(position) {\n            case \"left\":\n                this.x0 = 0;\n                this.x1 = 1;\n                break;\n            case \"top\":\n                this.y0 = 0;\n                this.y1 = 1;\n                break;\n            case \"right\":\n                this.x0 = 1;\n                this.x1 = 0;\n                break;\n            case \"bottom\":\n                this.y0 = 1;\n                this.y1 = 0;\n                break;\n            case \"to\":\n                var y0 = this.y0;\n                var x0 = this.x0;\n                this.y0 = this.y1;\n                this.x0 = this.x1;\n                this.x1 = x0;\n                this.y1 = y0;\n                break;\n            case \"center\":\n                break; // centered by default\n            // Firefox internally converts position keywords to percentages:\n            // http://www.w3.org/TR/2010/WD-CSS2-20101207/colors.html#propdef-background-position\n            default: // percentage or absolute length\n                // TODO: support absolute start point positions (e.g., use bounds to convert px to a ratio)\n                var ratio = parseFloat(position, 10) * 1e-2;\n                if (isNaN(ratio)) { // invalid or unhandled value\n                    break;\n                }\n                if (index === 0) {\n                    this.y0 = ratio;\n                    this.y1 = 1 - this.y0;\n                } else {\n                    this.x0 = ratio;\n                    this.x1 = 1 - this.x0;\n                }\n                break;\n            }\n        }, this);\n    } else {\n        this.y0 = 0;\n        this.y1 = 1;\n    }\n\n    this.colorStops = imageData.args.slice(hasDirection ? 1 : 0).map(function(colorStop) {\n        var colorStopMatch = colorStop.match(GradientContainer.REGEXP_COLORSTOP);\n        var value = +colorStopMatch[2];\n        var unit = value === 0 ? \"%\" : colorStopMatch[3]; // treat \"0\" as \"0%\"\n        return {\n            color: new Color(colorStopMatch[1]),\n            // TODO: support absolute stop positions (e.g., compute gradient line length & convert px to ratio)\n            stop: unit === \"%\" ? value / 100 : null\n        };\n    });\n\n    if (this.colorStops[0].stop === null) {\n        this.colorStops[0].stop = 0;\n    }\n\n    if (this.colorStops[this.colorStops.length - 1].stop === null) {\n        this.colorStops[this.colorStops.length - 1].stop = 1;\n    }\n\n    // calculates and fills-in explicit stop positions when omitted from rule\n    this.colorStops.forEach(function(colorStop, index) {\n        if (colorStop.stop === null) {\n            this.colorStops.slice(index).some(function(find, count) {\n                if (find.stop !== null) {\n                    colorStop.stop = ((find.stop - this.colorStops[index - 1].stop) / (count + 1)) + this.colorStops[index - 1].stop;\n                    return true;\n                } else {\n                    return false;\n                }\n            }, this);\n        }\n    }, this);\n}\n\nLinearGradientContainer.prototype = Object.create(GradientContainer.prototype);\n\n// TODO: support <angle> (e.g. -?\\d{1,3}(?:\\.\\d+)deg, etc. : https://developer.mozilla.org/docs/Web/CSS/angle )\nLinearGradientContainer.REGEXP_DIRECTION = /^\\s*(?:to|left|right|top|bottom|center|\\d{1,3}(?:\\.\\d+)?%?)(?:\\s|$)/i;\n\nmodule.exports = LinearGradientContainer;\n\n},{\"./color\":3,\"./gradientcontainer\":9}],13:[function(_dereq_,module,exports){\nvar logger = function() {\n    if (logger.options.logging && window.console && window.console.log) {\n        Function.prototype.bind.call(window.console.log, (window.console)).apply(window.console, [(Date.now() - logger.options.start) + \"ms\", \"html2canvas:\"].concat([].slice.call(arguments, 0)));\n    }\n};\n\nlogger.options = {logging: false};\nmodule.exports = logger;\n\n},{}],14:[function(_dereq_,module,exports){\nvar Color = _dereq_('./color');\nvar utils = _dereq_('./utils');\nvar getBounds = utils.getBounds;\nvar parseBackgrounds = utils.parseBackgrounds;\nvar offsetBounds = utils.offsetBounds;\n\nfunction NodeContainer(node, parent) {\n    this.node = node;\n    this.parent = parent;\n    this.stack = null;\n    this.bounds = null;\n    this.borders = null;\n    this.clip = [];\n    this.backgroundClip = [];\n    this.offsetBounds = null;\n    this.visible = null;\n    this.computedStyles = null;\n    this.colors = {};\n    this.styles = {};\n    this.backgroundImages = null;\n    this.transformData = null;\n    this.transformMatrix = null;\n    this.isPseudoElement = false;\n    this.opacity = null;\n}\n\nNodeContainer.prototype.cloneTo = function(stack) {\n    stack.visible = this.visible;\n    stack.borders = this.borders;\n    stack.bounds = this.bounds;\n    stack.clip = this.clip;\n    stack.backgroundClip = this.backgroundClip;\n    stack.computedStyles = this.computedStyles;\n    stack.styles = this.styles;\n    stack.backgroundImages = this.backgroundImages;\n    stack.opacity = this.opacity;\n};\n\nNodeContainer.prototype.getOpacity = function() {\n    return this.opacity === null ? (this.opacity = this.cssFloat('opacity')) : this.opacity;\n};\n\nNodeContainer.prototype.assignStack = function(stack) {\n    this.stack = stack;\n    stack.children.push(this);\n};\n\nNodeContainer.prototype.isElementVisible = function() {\n    return this.node.nodeType === Node.TEXT_NODE ? this.parent.visible : (\n        this.css('display') !== \"none\" &&\n        this.css('visibility') !== \"hidden\" &&\n        !this.node.hasAttribute(\"data-html2canvas-ignore\") &&\n        (this.node.nodeName !== \"INPUT\" || this.node.getAttribute(\"type\") !== \"hidden\")\n    );\n};\n\nNodeContainer.prototype.css = function(attribute) {\n    if (!this.computedStyles) {\n        this.computedStyles = this.isPseudoElement ? this.parent.computedStyle(this.before ? \":before\" : \":after\") : this.computedStyle(null);\n    }\n\n    return this.styles[attribute] || (this.styles[attribute] = this.computedStyles[attribute]);\n};\n\nNodeContainer.prototype.prefixedCss = function(attribute) {\n    var prefixes = [\"webkit\", \"moz\", \"ms\", \"o\"];\n    var value = this.css(attribute);\n    if (value === undefined) {\n        prefixes.some(function(prefix) {\n            value = this.css(prefix + attribute.substr(0, 1).toUpperCase() + attribute.substr(1));\n            return value !== undefined;\n        }, this);\n    }\n    return value === undefined ? null : value;\n};\n\nNodeContainer.prototype.computedStyle = function(type) {\n    return this.node.ownerDocument.defaultView.getComputedStyle(this.node, type);\n};\n\nNodeContainer.prototype.cssInt = function(attribute) {\n    var value = parseInt(this.css(attribute), 10);\n    return (isNaN(value)) ? 0 : value; // borders in old IE are throwing 'medium' for demo.html\n};\n\nNodeContainer.prototype.color = function(attribute) {\n    return this.colors[attribute] || (this.colors[attribute] = new Color(this.css(attribute)));\n};\n\nNodeContainer.prototype.cssFloat = function(attribute) {\n    var value = parseFloat(this.css(attribute));\n    return (isNaN(value)) ? 0 : value;\n};\n\nNodeContainer.prototype.fontWeight = function() {\n    var weight = this.css(\"fontWeight\");\n    switch(parseInt(weight, 10)){\n    case 401:\n        weight = \"bold\";\n        break;\n    case 400:\n        weight = \"normal\";\n        break;\n    }\n    return weight;\n};\n\nNodeContainer.prototype.parseClip = function() {\n    var matches = this.css('clip').match(this.CLIP);\n    if (matches) {\n        return {\n            top: parseInt(matches[1], 10),\n            right: parseInt(matches[2], 10),\n            bottom: parseInt(matches[3], 10),\n            left: parseInt(matches[4], 10)\n        };\n    }\n    return null;\n};\n\nNodeContainer.prototype.parseBackgroundImages = function() {\n    return this.backgroundImages || (this.backgroundImages = parseBackgrounds(this.css(\"backgroundImage\")));\n};\n\nNodeContainer.prototype.cssList = function(property, index) {\n    var value = (this.css(property) || '').split(',');\n    value = value[index || 0] || value[0] || 'auto';\n    value = value.trim().split(' ');\n    if (value.length === 1) {\n        value = [value[0], isPercentage(value[0]) ? 'auto' : value[0]];\n    }\n    return value;\n};\n\nNodeContainer.prototype.parseBackgroundSize = function(bounds, image, index) {\n    var size = this.cssList(\"backgroundSize\", index);\n    var width, height;\n\n    if (isPercentage(size[0])) {\n        width = bounds.width * parseFloat(size[0]) / 100;\n    } else if (/contain|cover/.test(size[0])) {\n        var targetRatio = bounds.width / bounds.height, currentRatio = image.width / image.height;\n        return (targetRatio < currentRatio ^ size[0] === 'contain') ?  {width: bounds.height * currentRatio, height: bounds.height} : {width: bounds.width, height: bounds.width / currentRatio};\n    } else {\n        width = parseInt(size[0], 10);\n    }\n\n    if (size[0] === 'auto' && size[1] === 'auto') {\n        height = image.height;\n    } else if (size[1] === 'auto') {\n        height = width / image.width * image.height;\n    } else if (isPercentage(size[1])) {\n        height =  bounds.height * parseFloat(size[1]) / 100;\n    } else {\n        height = parseInt(size[1], 10);\n    }\n\n    if (size[0] === 'auto') {\n        width = height / image.height * image.width;\n    }\n\n    return {width: width, height: height};\n};\n\nNodeContainer.prototype.parseBackgroundPosition = function(bounds, image, index, backgroundSize) {\n    var position = this.cssList('backgroundPosition', index);\n    var left, top;\n\n    if (isPercentage(position[0])){\n        left = (bounds.width - (backgroundSize || image).width) * (parseFloat(position[0]) / 100);\n    } else {\n        left = parseInt(position[0], 10);\n    }\n\n    if (position[1] === 'auto') {\n        top = left / image.width * image.height;\n    } else if (isPercentage(position[1])){\n        top =  (bounds.height - (backgroundSize || image).height) * parseFloat(position[1]) / 100;\n    } else {\n        top = parseInt(position[1], 10);\n    }\n\n    if (position[0] === 'auto') {\n        left = top / image.height * image.width;\n    }\n\n    return {left: left, top: top};\n};\n\nNodeContainer.prototype.parseBackgroundRepeat = function(index) {\n    return this.cssList(\"backgroundRepeat\", index)[0];\n};\n\nNodeContainer.prototype.parseTextShadows = function() {\n    var textShadow = this.css(\"textShadow\");\n    var results = [];\n\n    if (textShadow && textShadow !== 'none') {\n        var shadows = textShadow.match(this.TEXT_SHADOW_PROPERTY);\n        for (var i = 0; shadows && (i < shadows.length); i++) {\n            var s = shadows[i].match(this.TEXT_SHADOW_VALUES);\n            results.push({\n                color: new Color(s[0]),\n                offsetX: s[1] ? parseFloat(s[1].replace('px', '')) : 0,\n                offsetY: s[2] ? parseFloat(s[2].replace('px', '')) : 0,\n                blur: s[3] ? s[3].replace('px', '') : 0\n            });\n        }\n    }\n    return results;\n};\n\nNodeContainer.prototype.parseTransform = function() {\n    if (!this.transformData) {\n        if (this.hasTransform()) {\n            var offset = this.parseBounds();\n            var origin = this.prefixedCss(\"transformOrigin\").split(\" \").map(removePx).map(asFloat);\n            origin[0] += offset.left;\n            origin[1] += offset.top;\n            this.transformData = {\n                origin: origin,\n                matrix: this.parseTransformMatrix()\n            };\n        } else {\n            this.transformData = {\n                origin: [0, 0],\n                matrix: [1, 0, 0, 1, 0, 0]\n            };\n        }\n    }\n    return this.transformData;\n};\n\nNodeContainer.prototype.parseTransformMatrix = function() {\n    if (!this.transformMatrix) {\n        var transform = this.prefixedCss(\"transform\");\n        var matrix = transform ? parseMatrix(transform.match(this.MATRIX_PROPERTY)) : null;\n        this.transformMatrix = matrix ? matrix : [1, 0, 0, 1, 0, 0];\n    }\n    return this.transformMatrix;\n};\n\nNodeContainer.prototype.inverseTransform = function() {\n    var transformData = this.parseTransform();\n    return { origin: transformData.origin, matrix: matrixInverse(transformData.matrix) };\n};\n\nNodeContainer.prototype.parseBounds = function() {\n    return this.bounds || (this.bounds = this.hasTransform() ? offsetBounds(this.node) : getBounds(this.node));\n};\n\nNodeContainer.prototype.hasTransform = function() {\n    return this.parseTransformMatrix().join(\",\") !== \"1,0,0,1,0,0\" || (this.parent && this.parent.hasTransform());\n};\n\nNodeContainer.prototype.getValue = function() {\n    var value = this.node.value || \"\";\n    if (this.node.tagName === \"SELECT\") {\n        value = selectionValue(this.node);\n    } else if (this.node.type === \"password\") {\n        value = Array(value.length + 1).join('\\u2022'); // jshint ignore:line\n    }\n    return value.length === 0 ? (this.node.placeholder || \"\") : value;\n};\n\nNodeContainer.prototype.MATRIX_PROPERTY = /(matrix|matrix3d)\\((.+)\\)/;\nNodeContainer.prototype.TEXT_SHADOW_PROPERTY = /((rgba|rgb)\\([^\\)]+\\)(\\s-?\\d+px){0,})/g;\nNodeContainer.prototype.TEXT_SHADOW_VALUES = /(-?\\d+px)|(#.+)|(rgb\\(.+\\))|(rgba\\(.+\\))/g;\nNodeContainer.prototype.CLIP = /^rect\\((\\d+)px,? (\\d+)px,? (\\d+)px,? (\\d+)px\\)$/;\n\nfunction selectionValue(node) {\n    var option = node.options[node.selectedIndex || 0];\n    return option ? (option.text || \"\") : \"\";\n}\n\nfunction parseMatrix(match) {\n    if (match && match[1] === \"matrix\") {\n        return match[2].split(\",\").map(function(s) {\n            return parseFloat(s.trim());\n        });\n    } else if (match && match[1] === \"matrix3d\") {\n        var matrix3d = match[2].split(\",\").map(function(s) {\n          return parseFloat(s.trim());\n        });\n        return [matrix3d[0], matrix3d[1], matrix3d[4], matrix3d[5], matrix3d[12], matrix3d[13]];\n    }\n}\n\nfunction matrixInverse(m) {\n    // This is programmed specifically for transform matrices, which have a fixed structure.\n    var a = m[0], b = m[2], c = m[4], d = m[1], e = m[3], f = m[5];\n    var det = a*e - b*d;\n    var M = [e, -d, -b, a, b*f-c*e, c*d-a*f].map(function(val) { return val/det; });\n    return M;\n}\n\nfunction isPercentage(value) {\n    return value.toString().indexOf(\"%\") !== -1;\n}\n\nfunction removePx(str) {\n    return str.replace(\"px\", \"\");\n}\n\nfunction asFloat(str) {\n    return parseFloat(str);\n}\n\nmodule.exports = NodeContainer;\n\n},{\"./color\":3,\"./utils\":26}],15:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\nvar punycode = _dereq_('punycode');\nvar NodeContainer = _dereq_('./nodecontainer');\nvar TextContainer = _dereq_('./textcontainer');\nvar PseudoElementContainer = _dereq_('./pseudoelementcontainer');\nvar FontMetrics = _dereq_('./fontmetrics');\nvar Color = _dereq_('./color');\nvar StackingContext = _dereq_('./stackingcontext');\nvar utils = _dereq_('./utils');\nvar bind = utils.bind;\nvar getBounds = utils.getBounds;\nvar parseBackgrounds = utils.parseBackgrounds;\nvar offsetBounds = utils.offsetBounds;\n\nfunction NodeParser(element, renderer, support, imageLoader, options) {\n    log(\"Starting NodeParser\");\n    this.renderer = renderer;\n    this.options = options;\n    this.range = null;\n    this.support = support;\n    this.renderQueue = [];\n    this.stack = new StackingContext(true, 1, element.ownerDocument, null);\n    var parent = new NodeContainer(element, null);\n    if (options.background) {\n        renderer.rectangle(0, 0, renderer.width, renderer.height, new Color(options.background));\n    }\n    if (element === element.ownerDocument.documentElement) {\n        // http://www.w3.org/TR/css3-background/#special-backgrounds\n        var canvasBackground = new NodeContainer(parent.color('backgroundColor').isTransparent() ? element.ownerDocument.body : element.ownerDocument.documentElement, null);\n        renderer.rectangle(0, 0, renderer.width, renderer.height, canvasBackground.color('backgroundColor'));\n    }\n    parent.visibile = parent.isElementVisible();\n    this.createPseudoHideStyles(element.ownerDocument);\n    this.disableAnimations(element.ownerDocument);\n    this.nodes = flatten([parent].concat(this.getChildren(parent)).filter(function(container) {\n        return container.visible = container.isElementVisible();\n    }).map(this.getPseudoElements, this));\n    this.fontMetrics = new FontMetrics();\n    log(\"Fetched nodes, total:\", this.nodes.length);\n    log(\"Calculate overflow clips\");\n    this.calculateOverflowClips();\n    log(\"Start fetching images\");\n    this.images = imageLoader.fetch(this.nodes.filter(isElement));\n    this.ready = this.images.ready.then(bind(function() {\n        log(\"Images loaded, starting parsing\");\n        log(\"Creating stacking contexts\");\n        this.createStackingContexts();\n        log(\"Sorting stacking contexts\");\n        this.sortStackingContexts(this.stack);\n        this.parse(this.stack);\n        log(\"Render queue created with \" + this.renderQueue.length + \" items\");\n        return new Promise(bind(function(resolve) {\n            if (!options.async) {\n                this.renderQueue.forEach(this.paint, this);\n                resolve();\n            } else if (typeof(options.async) === \"function\") {\n                options.async.call(this, this.renderQueue, resolve);\n            } else if (this.renderQueue.length > 0){\n                this.renderIndex = 0;\n                this.asyncRenderer(this.renderQueue, resolve);\n            } else {\n                resolve();\n            }\n        }, this));\n    }, this));\n}\n\nNodeParser.prototype.calculateOverflowClips = function() {\n    this.nodes.forEach(function(container) {\n        if (isElement(container)) {\n            if (isPseudoElement(container)) {\n                container.appendToDOM();\n            }\n            container.borders = this.parseBorders(container);\n            var clip = (container.css('overflow') === \"hidden\") ? [container.borders.clip] : [];\n            var cssClip = container.parseClip();\n            if (cssClip && [\"absolute\", \"fixed\"].indexOf(container.css('position')) !== -1) {\n                clip.push([[\"rect\",\n                        container.bounds.left + cssClip.left,\n                        container.bounds.top + cssClip.top,\n                        cssClip.right - cssClip.left,\n                        cssClip.bottom - cssClip.top\n                ]]);\n            }\n            container.clip = hasParentClip(container) ? container.parent.clip.concat(clip) : clip;\n            container.backgroundClip = (container.css('overflow') !== \"hidden\") ? container.clip.concat([container.borders.clip]) : container.clip;\n            if (isPseudoElement(container)) {\n                container.cleanDOM();\n            }\n        } else if (isTextNode(container)) {\n            container.clip = hasParentClip(container) ? container.parent.clip : [];\n        }\n        if (!isPseudoElement(container)) {\n            container.bounds = null;\n        }\n    }, this);\n};\n\nfunction hasParentClip(container) {\n    return container.parent && container.parent.clip.length;\n}\n\nNodeParser.prototype.asyncRenderer = function(queue, resolve, asyncTimer) {\n    asyncTimer = asyncTimer || Date.now();\n    this.paint(queue[this.renderIndex++]);\n    if (queue.length === this.renderIndex) {\n        resolve();\n    } else if (asyncTimer + 20 > Date.now()) {\n        this.asyncRenderer(queue, resolve, asyncTimer);\n    } else {\n        setTimeout(bind(function() {\n            this.asyncRenderer(queue, resolve);\n        }, this), 0);\n    }\n};\n\nNodeParser.prototype.createPseudoHideStyles = function(document) {\n    this.createStyles(document, '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ':before { content: \"\" !important; display: none !important; }' +\n        '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER + ':after { content: \"\" !important; display: none !important; }');\n};\n\nNodeParser.prototype.disableAnimations = function(document) {\n    this.createStyles(document, '* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; ' +\n        '-webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}');\n};\n\nNodeParser.prototype.createStyles = function(document, styles) {\n    var hidePseudoElements = document.createElement('style');\n    hidePseudoElements.innerHTML = styles;\n    document.body.appendChild(hidePseudoElements);\n};\n\nNodeParser.prototype.getPseudoElements = function(container) {\n    var nodes = [[container]];\n    if (container.node.nodeType === Node.ELEMENT_NODE) {\n        var before = this.getPseudoElement(container, \":before\");\n        var after = this.getPseudoElement(container, \":after\");\n\n        if (before) {\n            nodes.push(before);\n        }\n\n        if (after) {\n            nodes.push(after);\n        }\n    }\n    return flatten(nodes);\n};\n\nfunction toCamelCase(str) {\n    return str.replace(/(\\-[a-z])/g, function(match){\n        return match.toUpperCase().replace('-','');\n    });\n}\n\nNodeParser.prototype.getPseudoElement = function(container, type) {\n    var style = container.computedStyle(type);\n    if(!style || !style.content || style.content === \"none\" || style.content === \"-moz-alt-content\" || style.display === \"none\") {\n        return null;\n    }\n\n    var content = stripQuotes(style.content);\n    var isImage = content.substr(0, 3) === 'url';\n    var pseudoNode = document.createElement(isImage ? 'img' : 'html2canvaspseudoelement');\n    var pseudoContainer = new PseudoElementContainer(pseudoNode, container, type);\n\n    for (var i = style.length-1; i >= 0; i--) {\n        var property = toCamelCase(style.item(i));\n        pseudoNode.style[property] = style[property];\n    }\n\n    pseudoNode.className = PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n\n    if (isImage) {\n        pseudoNode.src = parseBackgrounds(content)[0].args[0];\n        return [pseudoContainer];\n    } else {\n        var text = document.createTextNode(content);\n        pseudoNode.appendChild(text);\n        return [pseudoContainer, new TextContainer(text, pseudoContainer)];\n    }\n};\n\n\nNodeParser.prototype.getChildren = function(parentContainer) {\n    return flatten([].filter.call(parentContainer.node.childNodes, renderableNode).map(function(node) {\n        var container = [node.nodeType === Node.TEXT_NODE ? new TextContainer(node, parentContainer) : new NodeContainer(node, parentContainer)].filter(nonIgnoredElement);\n        return node.nodeType === Node.ELEMENT_NODE && container.length && node.tagName !== \"TEXTAREA\" ? (container[0].isElementVisible() ? container.concat(this.getChildren(container[0])) : []) : container;\n    }, this));\n};\n\nNodeParser.prototype.newStackingContext = function(container, hasOwnStacking) {\n    var stack = new StackingContext(hasOwnStacking, container.getOpacity(), container.node, container.parent);\n    container.cloneTo(stack);\n    var parentStack = hasOwnStacking ? stack.getParentStack(this) : stack.parent.stack;\n    parentStack.contexts.push(stack);\n    container.stack = stack;\n};\n\nNodeParser.prototype.createStackingContexts = function() {\n    this.nodes.forEach(function(container) {\n        if (isElement(container) && (this.isRootElement(container) || hasOpacity(container) || isPositionedForStacking(container) || this.isBodyWithTransparentRoot(container) || container.hasTransform())) {\n            this.newStackingContext(container, true);\n        } else if (isElement(container) && ((isPositioned(container) && zIndex0(container)) || isInlineBlock(container) || isFloating(container))) {\n            this.newStackingContext(container, false);\n        } else {\n            container.assignStack(container.parent.stack);\n        }\n    }, this);\n};\n\nNodeParser.prototype.isBodyWithTransparentRoot = function(container) {\n    return container.node.nodeName === \"BODY\" && container.parent.color('backgroundColor').isTransparent();\n};\n\nNodeParser.prototype.isRootElement = function(container) {\n    return container.parent === null;\n};\n\nNodeParser.prototype.sortStackingContexts = function(stack) {\n    stack.contexts.sort(zIndexSort(stack.contexts.slice(0)));\n    stack.contexts.forEach(this.sortStackingContexts, this);\n};\n\nNodeParser.prototype.parseTextBounds = function(container) {\n    return function(text, index, textList) {\n        if (container.parent.css(\"textDecoration\").substr(0, 4) !== \"none\" || text.trim().length !== 0) {\n            if (this.support.rangeBounds && !container.parent.hasTransform()) {\n                var offset = textList.slice(0, index).join(\"\").length;\n                return this.getRangeBounds(container.node, offset, text.length);\n            } else if (container.node && typeof(container.node.data) === \"string\") {\n                var replacementNode = container.node.splitText(text.length);\n                var bounds = this.getWrapperBounds(container.node, container.parent.hasTransform());\n                container.node = replacementNode;\n                return bounds;\n            }\n        } else if(!this.support.rangeBounds || container.parent.hasTransform()){\n            container.node = container.node.splitText(text.length);\n        }\n        return {};\n    };\n};\n\nNodeParser.prototype.getWrapperBounds = function(node, transform) {\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n    var parent = node.parentNode,\n        backupText = node.cloneNode(true);\n\n    wrapper.appendChild(node.cloneNode(true));\n    parent.replaceChild(wrapper, node);\n    var bounds = transform ? offsetBounds(wrapper) : getBounds(wrapper);\n    parent.replaceChild(backupText, wrapper);\n    return bounds;\n};\n\nNodeParser.prototype.getRangeBounds = function(node, offset, length) {\n    var range = this.range || (this.range = node.ownerDocument.createRange());\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return range.getBoundingClientRect();\n};\n\nfunction ClearTransform() {}\n\nNodeParser.prototype.parse = function(stack) {\n    // http://www.w3.org/TR/CSS21/visuren.html#z-index\n    var negativeZindex = stack.contexts.filter(negativeZIndex); // 2. the child stacking contexts with negative stack levels (most negative first).\n    var descendantElements = stack.children.filter(isElement);\n    var descendantNonFloats = descendantElements.filter(not(isFloating));\n    var nonInlineNonPositionedDescendants = descendantNonFloats.filter(not(isPositioned)).filter(not(inlineLevel)); // 3 the in-flow, non-inline-level, non-positioned descendants.\n    var nonPositionedFloats = descendantElements.filter(not(isPositioned)).filter(isFloating); // 4. the non-positioned floats.\n    var inFlow = descendantNonFloats.filter(not(isPositioned)).filter(inlineLevel); // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n    var stackLevel0 = stack.contexts.concat(descendantNonFloats.filter(isPositioned)).filter(zIndex0); // 6. the child stacking contexts with stack level 0 and the positioned descendants with stack level 0.\n    var text = stack.children.filter(isTextNode).filter(hasText);\n    var positiveZindex = stack.contexts.filter(positiveZIndex); // 7. the child stacking contexts with positive stack levels (least positive first).\n    negativeZindex.concat(nonInlineNonPositionedDescendants).concat(nonPositionedFloats)\n        .concat(inFlow).concat(stackLevel0).concat(text).concat(positiveZindex).forEach(function(container) {\n            this.renderQueue.push(container);\n            if (isStackingContext(container)) {\n                this.parse(container);\n                this.renderQueue.push(new ClearTransform());\n            }\n        }, this);\n};\n\nNodeParser.prototype.paint = function(container) {\n    try {\n        if (container instanceof ClearTransform) {\n            this.renderer.ctx.restore();\n        } else if (isTextNode(container)) {\n            if (isPseudoElement(container.parent)) {\n                container.parent.appendToDOM();\n            }\n            this.paintText(container);\n            if (isPseudoElement(container.parent)) {\n                container.parent.cleanDOM();\n            }\n        } else {\n            this.paintNode(container);\n        }\n    } catch(e) {\n        log(e);\n        if (this.options.strict) {\n            throw e;\n        }\n    }\n};\n\nNodeParser.prototype.paintNode = function(container) {\n    if (isStackingContext(container)) {\n        this.renderer.setOpacity(container.opacity);\n        this.renderer.ctx.save();\n        if (container.hasTransform()) {\n            this.renderer.setTransform(container.parseTransform());\n        }\n    }\n\n    if (container.node.nodeName === \"INPUT\" && container.node.type === \"checkbox\") {\n        this.paintCheckbox(container);\n    } else if (container.node.nodeName === \"INPUT\" && container.node.type === \"radio\") {\n        this.paintRadio(container);\n    } else {\n        this.paintElement(container);\n    }\n};\n\nNodeParser.prototype.paintElement = function(container) {\n    var bounds = container.parseBounds();\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.renderBackground(container, bounds, container.borders.borders.map(getWidth));\n    }, this, container);\n\n    this.renderer.mask(container.backgroundClip, function() {\n        this.renderer.renderShadows(container, container.borders.clip);\n    }, this, container);\n\n    this.renderer.clip(container.clip, function() {\n        this.renderer.renderBorders(container.borders.borders);\n    }, this, container);\n\n    this.renderer.clip(container.backgroundClip, function() {\n        switch (container.node.nodeName) {\n        case \"svg\":\n        case \"IFRAME\":\n            var imgContainer = this.images.get(container.node);\n            if (imgContainer) {\n                this.renderer.renderImage(container, bounds, container.borders, imgContainer);\n            } else {\n                log(\"Error loading <\" + container.node.nodeName + \">\", container.node);\n            }\n            break;\n        case \"IMG\":\n            var imageContainer = this.images.get(container.node.src);\n            if (imageContainer) {\n                this.renderer.renderImage(container, bounds, container.borders, imageContainer);\n            } else {\n                log(\"Error loading <img>\", container.node.src);\n            }\n            break;\n        case \"CANVAS\":\n            this.renderer.renderImage(container, bounds, container.borders, {image: container.node});\n            break;\n        case \"SELECT\":\n        case \"INPUT\":\n        case \"TEXTAREA\":\n            this.paintFormValue(container);\n            break;\n        }\n    }, this, container);\n};\n\nNodeParser.prototype.paintCheckbox = function(container) {\n    var b = container.parseBounds();\n\n    var size = Math.min(b.width, b.height);\n    var bounds = {width: size - 1, height: size - 1, top: b.top, left: b.left};\n    var r = [3, 3];\n    var radius = [r, r, r, r];\n    var borders = [1,1,1,1].map(function(w) {\n        return {color: new Color('#A5A5A5'), width: w};\n    });\n\n    var borderPoints = calculateCurvePoints(bounds, radius, borders);\n\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.rectangle(bounds.left + 1, bounds.top + 1, bounds.width - 2, bounds.height - 2, new Color(\"#DEDEDE\"));\n        this.renderer.renderBorders(calculateBorders(borders, bounds, borderPoints, radius));\n        if (container.node.checked) {\n            this.renderer.font(new Color('#424242'), 'normal', 'normal', 'bold', (size - 3) + \"px\", 'arial');\n            this.renderer.text(\"\\u2714\", bounds.left + size / 6, bounds.top + size - 1);\n        }\n    }, this, container);\n};\n\nNodeParser.prototype.paintRadio = function(container) {\n    var bounds = container.parseBounds();\n\n    var size = Math.min(bounds.width, bounds.height) - 2;\n\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.circleStroke(bounds.left + 1, bounds.top + 1, size, new Color('#DEDEDE'), 1, new Color('#A5A5A5'));\n        if (container.node.checked) {\n            this.renderer.circle(Math.ceil(bounds.left + size / 4) + 1, Math.ceil(bounds.top + size / 4) + 1, Math.floor(size / 2), new Color('#424242'));\n        }\n    }, this, container);\n};\n\nNodeParser.prototype.paintFormValue = function(container) {\n    var value = container.getValue();\n    if (value.length > 0) {\n        var document = container.node.ownerDocument;\n        var wrapper = document.createElement('html2canvaswrapper');\n        var properties = ['lineHeight', 'textAlign', 'fontFamily', 'fontWeight', 'fontSize', 'color',\n            'paddingLeft', 'paddingTop', 'paddingRight', 'paddingBottom',\n            'width', 'height', 'borderLeftStyle', 'borderTopStyle', 'borderLeftWidth', 'borderTopWidth',\n            'boxSizing', 'whiteSpace', 'wordWrap'];\n\n        properties.forEach(function(property) {\n            try {\n                wrapper.style[property] = container.css(property);\n            } catch(e) {\n                // Older IE has issues with \"border\"\n                log(\"html2canvas: Parse: Exception caught in renderFormValue: \" + e.message);\n            }\n        });\n        var bounds = container.parseBounds();\n        wrapper.style.position = \"fixed\";\n        wrapper.style.left = bounds.left + \"px\";\n        wrapper.style.top = bounds.top + \"px\";\n        wrapper.textContent = value;\n        document.body.appendChild(wrapper);\n        this.paintText(new TextContainer(wrapper.firstChild, container));\n        document.body.removeChild(wrapper);\n    }\n};\n\nNodeParser.prototype.paintText = function(container) {\n    container.applyTextTransform();\n    var characters = punycode.ucs2.decode(container.node.data);\n    var wordRendering = (!this.options.letterRendering || noLetterSpacing(container)) && !hasUnicode(container.node.data);\n    var textList = wordRendering ? getWords(characters) : characters.map(function(character) {\n        return punycode.ucs2.encode([character]);\n    });\n    if (!wordRendering) {\n        container.parent.node.style.fontVariantLigatures = 'none';\n    }\n\n    var weight = container.parent.fontWeight();\n    var size = container.parent.css('fontSize');\n    var family = container.parent.css('fontFamily');\n    var shadows = container.parent.parseTextShadows();\n\n    this.renderer.font(container.parent.color('color'), container.parent.css('fontStyle'), container.parent.css('fontVariant'), weight, size, family);\n    if (shadows.length) {\n        // TODO: support multiple text shadows\n        this.renderer.fontShadow(shadows[0].color, shadows[0].offsetX, shadows[0].offsetY, shadows[0].blur);\n    } else {\n        this.renderer.clearShadow();\n    }\n\n    this.renderer.clip(container.parent.clip, function() {\n        textList.map(this.parseTextBounds(container), this).forEach(function(bounds, index) {\n            if (bounds) {\n                this.renderer.text(textList[index], bounds.left, bounds.bottom);\n                this.renderTextDecoration(container.parent, bounds, this.fontMetrics.getMetrics(family, size));\n            }\n        }, this);\n    }, this, container.parent);\n};\n\nNodeParser.prototype.renderTextDecoration = function(container, bounds, metrics) {\n    switch(container.css(\"textDecoration\").split(\" \")[0]) {\n    case \"underline\":\n        // Draws a line at the baseline of the font\n        // TODO As some browsers display the line as more than 1px if the font-size is big, need to take that into account both in position and size\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top + metrics.baseline + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\n        break;\n    case \"overline\":\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top), bounds.width, 1, container.color(\"color\"));\n        break;\n    case \"line-through\":\n        // TODO try and find exact position for line-through\n        this.renderer.rectangle(bounds.left, Math.ceil(bounds.top + metrics.middle + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\n        break;\n    }\n};\n\nvar borderColorTransforms = {\n    inset: [\n        [\"darken\", 0.60],\n        [\"darken\", 0.10],\n        [\"darken\", 0.10],\n        [\"darken\", 0.60]\n    ]\n};\n\nNodeParser.prototype.parseBorders = function(container) {\n    var nodeBounds = container.parseBounds();\n    var radius = getBorderRadiusData(container);\n    var borders = [\"Top\", \"Right\", \"Bottom\", \"Left\"].map(function(side, index) {\n        var style = container.css('border' + side + 'Style');\n        var color = container.color('border' + side + 'Color');\n        if (style === \"inset\" && color.isBlack()) {\n            color = new Color([255, 255, 255, color.a]); // this is wrong, but\n        }\n        var colorTransform = borderColorTransforms[style] ? borderColorTransforms[style][index] : null;\n        return {\n            width: container.cssInt('border' + side + 'Width'),\n            color: colorTransform ? color[colorTransform[0]](colorTransform[1]) : color,\n            style: style,\n            pathArgs: null,\n            args: null\n        };\n    });\n    var borderPoints = calculateCurvePoints(nodeBounds, radius, borders);\n\n    return {\n        clip: this.parseBackgroundClip(container, borderPoints, borders, radius, nodeBounds),\n        borders: calculateBorders(borders, nodeBounds, borderPoints, radius)\n    };\n};\n\nfunction calculateBorders(borders, nodeBounds, borderPoints, radius) {\n    var pathBounds = {\n        top: nodeBounds.top + borders[0].width/2,\n        right: nodeBounds.right - borders[1].width/2,\n        bottom: nodeBounds.bottom - borders[2].width/2,\n        left: nodeBounds.left + borders[3].width/2\n    };\n    return borders.map(function(border, borderSide) {\n        if (border.width > 0) {\n            var bx = nodeBounds.left;\n            var by = nodeBounds.top;\n            var bw = nodeBounds.width;\n            var bh = nodeBounds.height - (borders[2].width);\n\n            switch(borderSide) {\n            case 0:\n                // top border\n                bh = borders[0].width;\n                border.args = drawSide({\n                        c1: [bx, by],\n                        c2: [bx + bw, by],\n                        c3: [bx + bw - borders[1].width, by + bh],\n                        c4: [bx + borders[3].width, by + bh]\n                    }, radius[0], radius[1],\n                    borderPoints.topLeftOuter, borderPoints.topLeftInner, borderPoints.topRightOuter, borderPoints.topRightInner);\n                border.pathArgs = drawSidePath({\n                        c1: [pathBounds.left, pathBounds.top],\n                        c2: [pathBounds.right, pathBounds.top]\n                    }, radius[0], radius[1],\n                    borderPoints.topLeft, borderPoints.topRight);\n                break;\n            case 1:\n                // right border\n                bx = nodeBounds.left + nodeBounds.width - (borders[1].width);\n                bw = borders[1].width;\n\n                border.args = drawSide({\n                        c1: [bx + bw, by],\n                        c2: [bx + bw, by + bh + borders[2].width],\n                        c3: [bx, by + bh],\n                        c4: [bx, by + borders[0].width]\n                    }, radius[1], radius[2],\n                    borderPoints.topRightOuter, borderPoints.topRightInner, borderPoints.bottomRightOuter, borderPoints.bottomRightInner);\n                border.pathArgs = drawSidePath({\n                        c1: [pathBounds.right, pathBounds.top],\n                        c2: [pathBounds.right, pathBounds.bottom]\n                    }, radius[1], radius[2],\n                    borderPoints.topRight, borderPoints.bottomRight);\n                break;\n            case 2:\n                // bottom border\n                by = (by + nodeBounds.height) - (borders[2].width);\n                bh = borders[2].width;\n                border.args = drawSide({\n                        c1: [bx + bw, by + bh],\n                        c2: [bx, by + bh],\n                        c3: [bx + borders[3].width, by],\n                        c4: [bx + bw - borders[3].width, by]\n                    }, radius[2], radius[3],\n                    borderPoints.bottomRightOuter, borderPoints.bottomRightInner, borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner);\n                border.pathArgs = drawSidePath({\n                        c1: [pathBounds.right, pathBounds.bottom],\n                        c2: [pathBounds.left, pathBounds.bottom]\n                    }, radius[2], radius[3],\n                    borderPoints.bottomRight, borderPoints.bottomLeft);\n                break;\n            case 3:\n                // left border\n                bw = borders[3].width;\n                border.args = drawSide({\n                        c1: [bx, by + bh + borders[2].width],\n                        c2: [bx, by],\n                        c3: [bx + bw, by + borders[0].width],\n                        c4: [bx + bw, by + bh]\n                    }, radius[3], radius[0],\n                    borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner, borderPoints.topLeftOuter, borderPoints.topLeftInner);\n                border.pathArgs = drawSidePath({\n                        c1: [pathBounds.left, pathBounds.bottom],\n                        c2: [pathBounds.left, pathBounds.top]\n                    }, radius[3], radius[0],\n                    borderPoints.bottomLeft, borderPoints.topLeft);\n                break;\n            }\n        }\n        return border;\n    });\n}\n\nNodeParser.prototype.parseBackgroundClip = function(container, borderPoints, borders, radius, bounds) {\n    var backgroundClip = container.css('backgroundClip'),\n        borderArgs = [];\n\n    switch(backgroundClip) {\n    case \"content-box\":\n    case \"padding-box\":\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftInner, borderPoints.topRightInner, bounds.left + borders[3].width, bounds.top + borders[0].width);\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightInner, borderPoints.bottomRightInner, bounds.left + bounds.width - borders[1].width, bounds.top + borders[0].width);\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightInner, borderPoints.bottomLeftInner, bounds.left + bounds.width - borders[1].width, bounds.top + bounds.height - borders[2].width);\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftInner, borderPoints.topLeftInner, bounds.left + borders[3].width, bounds.top + bounds.height - borders[2].width);\n        break;\n\n    default:\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topRightOuter, bounds.left, bounds.top);\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.bottomRightOuter, bounds.left + bounds.width, bounds.top);\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomLeftOuter, bounds.left + bounds.width, bounds.top + bounds.height);\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.topLeftOuter, bounds.left, bounds.top + bounds.height);\n        break;\n    }\n\n    return borderArgs;\n};\n\nfunction getCurvePoints(x, y, r1, r2) {\n    var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    var ox = (r1) * kappa, // control point offset horizontal\n        oy = (r2) * kappa, // control point offset vertical\n        xm = x + r1, // x-middle\n        ym = y + r2; // y-middle\n    return {\n        topLeft: bezierCurve({x: x, y: ym}, {x: x, y: ym - oy}, {x: xm - ox, y: y}, {x: xm, y: y}),\n        topRight: bezierCurve({x: x, y: y}, {x: x + ox,y: y}, {x: xm, y: ym - oy}, {x: xm, y: ym}),\n        bottomRight: bezierCurve({x: xm, y: y}, {x: xm, y: y + oy}, {x: x + ox, y: ym}, {x: x, y: ym}),\n        bottomLeft: bezierCurve({x: xm, y: ym}, {x: xm - ox, y: ym}, {x: x, y: y + oy}, {x: x, y:y})\n    };\n}\n\nfunction calculateCurvePoints(bounds, borderRadius, borders) {\n    var x = bounds.left,\n        y = bounds.top,\n        width = bounds.width,\n        height = bounds.height,\n\n        tlh = borderRadius[0][0] < width / 2 ? borderRadius[0][0] : width / 2,\n        tlv = borderRadius[0][1] < height / 2 ? borderRadius[0][1] : height / 2,\n        trh = borderRadius[1][0] < width / 2 ? borderRadius[1][0] : width / 2,\n        trv = borderRadius[1][1] < height / 2 ? borderRadius[1][1] : height / 2,\n        brh = borderRadius[2][0] < width / 2 ? borderRadius[2][0] : width / 2,\n        brv = borderRadius[2][1] < height / 2 ? borderRadius[2][1] : height / 2,\n        blh = borderRadius[3][0] < width / 2 ? borderRadius[3][0] : width / 2,\n        blv = borderRadius[3][1] < height / 2 ? borderRadius[3][1] : height / 2;\n\n    var topWidth = width - trh,\n        rightHeight = height - brv,\n        bottomWidth = width - brh,\n        leftHeight = height - blv;\n\n    return {\n        topLeft: getCurvePoints(x + borders[3].width/2, y + borders[0].width/2, Math.max(0, tlh - borders[3].width/2), Math.max(0, tlv - borders[0].width/2)).topLeft.subdivide(0.5),\n        topRight: getCurvePoints(x + Math.min(topWidth, width + borders[3].width/2), y + borders[0].width/2, (topWidth > width + borders[3].width/2) ? 0 :trh - borders[3].width/2, trv - borders[0].width/2).topRight.subdivide(0.5),\n        bottomRight: getCurvePoints(x + Math.min(bottomWidth, width - borders[3].width/2), y + Math.min(rightHeight, height + borders[0].width/2), Math.max(0, brh - borders[1].width/2),  brv - borders[2].width/2).bottomRight.subdivide(0.5),\n        bottomLeft: getCurvePoints(x + borders[3].width/2, y + leftHeight, Math.max(0, blh - borders[3].width/2), blv - borders[2].width/2).bottomLeft.subdivide(0.5),\n\n        topLeftOuter: getCurvePoints(x, y, tlh, tlv).topLeft.subdivide(0.5),\n        topLeftInner: getCurvePoints(x + borders[3].width, y + borders[0].width, Math.max(0, tlh - borders[3].width), Math.max(0, tlv - borders[0].width)).topLeft.subdivide(0.5),\n        topRightOuter: getCurvePoints(x + topWidth, y, trh, trv).topRight.subdivide(0.5),\n        topRightInner: getCurvePoints(x + Math.min(topWidth, width + borders[3].width), y + borders[0].width, (topWidth > width + borders[3].width) ? 0 :trh - borders[3].width, trv - borders[0].width).topRight.subdivide(0.5),\n        bottomRightOuter: getCurvePoints(x + bottomWidth, y + rightHeight, brh, brv).bottomRight.subdivide(0.5),\n        bottomRightInner: getCurvePoints(x + Math.min(bottomWidth, width - borders[3].width), y + Math.min(rightHeight, height + borders[0].width), Math.max(0, brh - borders[1].width),  brv - borders[2].width).bottomRight.subdivide(0.5),\n        bottomLeftOuter: getCurvePoints(x, y + leftHeight, blh, blv).bottomLeft.subdivide(0.5),\n        bottomLeftInner: getCurvePoints(x + borders[3].width, y + leftHeight, Math.max(0, blh - borders[3].width), blv - borders[2].width).bottomLeft.subdivide(0.5)\n    };\n}\n\nfunction bezierCurve(start, startControl, endControl, end) {\n    var lerp = function (a, b, t) {\n        return {\n            x: a.x + (b.x - a.x) * t,\n            y: a.y + (b.y - a.y) * t\n        };\n    };\n\n    return {\n        start: start,\n        startControl: startControl,\n        endControl: endControl,\n        end: end,\n        subdivide: function(t) {\n            var ab = lerp(start, startControl, t),\n                bc = lerp(startControl, endControl, t),\n                cd = lerp(endControl, end, t),\n                abbc = lerp(ab, bc, t),\n                bccd = lerp(bc, cd, t),\n                dest = lerp(abbc, bccd, t);\n            return [bezierCurve(start, ab, abbc, dest), bezierCurve(dest, bccd, cd, end)];\n        },\n        curveTo: function(borderArgs) {\n            borderArgs.push([\"bezierCurve\", startControl.x, startControl.y, endControl.x, endControl.y, end.x, end.y]);\n        },\n        curveToReversed: function(borderArgs) {\n            borderArgs.push([\"bezierCurve\", endControl.x, endControl.y, startControl.x, startControl.y, start.x, start.y]);\n        }\n    };\n}\n\nfunction drawSide(borderData, radius1, radius2, outer1, inner1, outer2, inner2) {\n    var borderArgs = [];\n\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", outer1[1].start.x, outer1[1].start.y]);\n        outer1[1].curveTo(borderArgs);\n    } else {\n        borderArgs.push([ \"line\", borderData.c1[0], borderData.c1[1]]);\n    }\n\n    if (radius2[0] > 0 || radius2[1] > 0) {\n        borderArgs.push([\"line\", outer2[0].start.x, outer2[0].start.y]);\n        outer2[0].curveTo(borderArgs);\n        borderArgs.push([\"line\", inner2[0].end.x, inner2[0].end.y]);\n        inner2[0].curveToReversed(borderArgs);\n    } else {\n        borderArgs.push([\"line\", borderData.c2[0], borderData.c2[1]]);\n        borderArgs.push([\"line\", borderData.c3[0], borderData.c3[1]]);\n    }\n\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", inner1[1].end.x, inner1[1].end.y]);\n        inner1[1].curveToReversed(borderArgs);\n    } else {\n        borderArgs.push([\"line\", borderData.c4[0], borderData.c4[1]]);\n    }\n\n    return borderArgs;\n}\n\nfunction drawSidePath(borderData, radius1, radius2, curve1, curve2) {\n    var borderArgs = [];\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", curve1[1].start.x, curve1[1].start.y]);\n        curve1[1].curveTo(borderArgs);\n    } else {\n        borderArgs.push([ \"line\", borderData.c1[0], borderData.c1[1]]);\n    }\n    if (radius2[0] > 0 || radius2[1] > 0) {\n        borderArgs.push([\"line\", curve2[0].start.x, curve2[0].start.y]);\n        curve2[0].curveTo(borderArgs);\n    } else {\n        borderArgs.push([ \"line\", borderData.c2[0], borderData.c2[1]]);\n    }\n\n    return borderArgs;\n}\n\nfunction parseCorner(borderArgs, radius1, radius2, corner1, corner2, x, y) {\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", corner1[0].start.x, corner1[0].start.y]);\n        corner1[0].curveTo(borderArgs);\n        corner1[1].curveTo(borderArgs);\n    } else {\n        borderArgs.push([\"line\", x, y]);\n    }\n\n    if (radius2[0] > 0 || radius2[1] > 0) {\n        borderArgs.push([\"line\", corner2[0].start.x, corner2[0].start.y]);\n    }\n}\n\nfunction negativeZIndex(container) {\n    return container.cssInt(\"zIndex\") < 0;\n}\n\nfunction positiveZIndex(container) {\n    return container.cssInt(\"zIndex\") > 0;\n}\n\nfunction zIndex0(container) {\n    return container.cssInt(\"zIndex\") === 0;\n}\n\nfunction inlineLevel(container) {\n    return [\"inline\", \"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\n}\n\nfunction isStackingContext(container) {\n    return (container instanceof StackingContext);\n}\n\nfunction hasText(container) {\n    return container.node.data.trim().length > 0;\n}\n\nfunction noLetterSpacing(container) {\n    return (/^(normal|none|0px)$/.test(container.parent.css(\"letterSpacing\")));\n}\n\nfunction getBorderRadiusData(container) {\n    return [\"TopLeft\", \"TopRight\", \"BottomRight\", \"BottomLeft\"].map(function(side) {\n        var value = container.css('border' + side + 'Radius');\n        var arr = value.split(\" \");\n        if (arr.length <= 1) {\n            arr[1] = arr[0];\n        }\n        return arr.map(asInt);\n    });\n}\n\nfunction renderableNode(node) {\n    return (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE);\n}\n\nfunction isPositionedForStacking(container) {\n    var position = container.css(\"position\");\n    var zIndex = ([\"absolute\", \"relative\", \"fixed\"].indexOf(position) !== -1) ? container.css(\"zIndex\") : \"auto\";\n    return zIndex !== \"auto\";\n}\n\nfunction isPositioned(container) {\n    return container.css(\"position\") !== \"static\";\n}\n\nfunction isFloating(container) {\n    return container.css(\"float\") !== \"none\";\n}\n\nfunction isInlineBlock(container) {\n    return [\"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\n}\n\nfunction not(callback) {\n    var context = this;\n    return function() {\n        return !callback.apply(context, arguments);\n    };\n}\n\nfunction isElement(container) {\n    return container.node.nodeType === Node.ELEMENT_NODE;\n}\n\nfunction isPseudoElement(container) {\n    return container.isPseudoElement === true;\n}\n\nfunction isTextNode(container) {\n    return container.node.nodeType === Node.TEXT_NODE;\n}\n\nfunction zIndexSort(contexts) {\n    return function(a, b) {\n        return (a.cssInt(\"zIndex\") + (contexts.indexOf(a) / contexts.length)) - (b.cssInt(\"zIndex\") + (contexts.indexOf(b) / contexts.length));\n    };\n}\n\nfunction hasOpacity(container) {\n    return container.getOpacity() < 1;\n}\n\nfunction asInt(value) {\n    return parseInt(value, 10);\n}\n\nfunction getWidth(border) {\n    return border.width;\n}\n\nfunction nonIgnoredElement(nodeContainer) {\n    return (nodeContainer.node.nodeType !== Node.ELEMENT_NODE || [\"SCRIPT\", \"HEAD\", \"TITLE\", \"OBJECT\", \"BR\", \"OPTION\"].indexOf(nodeContainer.node.nodeName) === -1);\n}\n\nfunction flatten(arrays) {\n    return [].concat.apply([], arrays);\n}\n\nfunction stripQuotes(content) {\n    var first = content.substr(0, 1);\n    return (first === content.substr(content.length - 1) && first.match(/'|\"/)) ? content.substr(1, content.length - 2) : content;\n}\n\nfunction getWords(characters) {\n    var words = [], i = 0, onWordBoundary = false, word;\n    while(characters.length) {\n        if (isWordBoundary(characters[i]) === onWordBoundary) {\n            word = characters.splice(0, i);\n            if (word.length) {\n                words.push(punycode.ucs2.encode(word));\n            }\n            onWordBoundary =! onWordBoundary;\n            i = 0;\n        } else {\n            i++;\n        }\n\n        if (i >= characters.length) {\n            word = characters.splice(0, i);\n            if (word.length) {\n                words.push(punycode.ucs2.encode(word));\n            }\n        }\n    }\n    return words;\n}\n\nfunction isWordBoundary(characterCode) {\n    return [\n        32, // <space>\n        13, // \\r\n        10, // \\n\n        9, // \\t\n        45 // -\n    ].indexOf(characterCode) !== -1;\n}\n\nfunction hasUnicode(string) {\n    return (/[^\\u0000-\\u00ff]/).test(string);\n}\n\nmodule.exports = NodeParser;\n\n},{\"./color\":3,\"./fontmetrics\":7,\"./log\":13,\"./nodecontainer\":14,\"./pseudoelementcontainer\":18,\"./stackingcontext\":21,\"./textcontainer\":25,\"./utils\":26,\"punycode\":1}],16:[function(_dereq_,module,exports){\nvar XHR = _dereq_('./xhr');\nvar utils = _dereq_('./utils');\nvar log = _dereq_('./log');\nvar createWindowClone = _dereq_('./clone');\nvar decode64 = utils.decode64;\n\nfunction Proxy(src, proxyUrl, document) {\n    var supportsCORS = ('withCredentials' in new XMLHttpRequest());\n    if (!proxyUrl) {\n        return Promise.reject(\"No proxy configured\");\n    }\n    var callback = createCallback(supportsCORS);\n    var url = createProxyUrl(proxyUrl, src, callback);\n\n    return supportsCORS ? XHR(url) : (jsonp(document, url, callback).then(function(response) {\n        return decode64(response.content);\n    }));\n}\nvar proxyCount = 0;\n\nfunction ProxyURL(src, proxyUrl, document) {\n    var supportsCORSImage = ('crossOrigin' in new Image());\n    var callback = createCallback(supportsCORSImage);\n    var url = createProxyUrl(proxyUrl, src, callback);\n    return (supportsCORSImage ? Promise.resolve(url) : jsonp(document, url, callback).then(function(response) {\n        return \"data:\" + response.type + \";base64,\" + response.content;\n    }));\n}\n\nfunction jsonp(document, url, callback) {\n    return new Promise(function(resolve, reject) {\n        var s = document.createElement(\"script\");\n        var cleanup = function() {\n            delete window.html2canvas.proxy[callback];\n            document.body.removeChild(s);\n        };\n        window.html2canvas.proxy[callback] = function(response) {\n            cleanup();\n            resolve(response);\n        };\n        s.src = url;\n        s.onerror = function(e) {\n            cleanup();\n            reject(e);\n        };\n        document.body.appendChild(s);\n    });\n}\n\nfunction createCallback(useCORS) {\n    return !useCORS ? \"html2canvas_\" + Date.now() + \"_\" + (++proxyCount) + \"_\" + Math.round(Math.random() * 100000) : \"\";\n}\n\nfunction createProxyUrl(proxyUrl, src, callback) {\n    return proxyUrl + \"?url=\" + encodeURIComponent(src) + (callback.length ? \"&callback=html2canvas.proxy.\" + callback : \"\");\n}\n\nfunction documentFromHTML(src) {\n    return function(html) {\n        var parser = new DOMParser(), doc;\n        try {\n            doc = parser.parseFromString(html, \"text/html\");\n        } catch(e) {\n            log(\"DOMParser not supported, falling back to createHTMLDocument\");\n            doc = document.implementation.createHTMLDocument(\"\");\n            try {\n                doc.open();\n                doc.write(html);\n                doc.close();\n            } catch(ee) {\n                log(\"createHTMLDocument write not supported, falling back to document.body.innerHTML\");\n                doc.body.innerHTML = html; // ie9 doesnt support writing to documentElement\n            }\n        }\n\n        var b = doc.querySelector(\"base\");\n        if (!b || !b.href.host) {\n            var base = doc.createElement(\"base\");\n            base.href = src;\n            doc.head.insertBefore(base, doc.head.firstChild);\n        }\n\n        return doc;\n    };\n}\n\nfunction loadUrlDocument(src, proxy, document, width, height, options) {\n    return new Proxy(src, proxy, window.document).then(documentFromHTML(src)).then(function(doc) {\n        return createWindowClone(doc, document, width, height, options, 0, 0);\n    });\n}\n\nexports.Proxy = Proxy;\nexports.ProxyURL = ProxyURL;\nexports.loadUrlDocument = loadUrlDocument;\n\n},{\"./clone\":2,\"./log\":13,\"./utils\":26,\"./xhr\":28}],17:[function(_dereq_,module,exports){\nvar ProxyURL = _dereq_('./proxy').ProxyURL;\n\nfunction ProxyImageContainer(src, proxy) {\n    var link = document.createElement(\"a\");\n    link.href = src;\n    src = link.href;\n    this.src = src;\n    this.image = new Image();\n    var self = this;\n    this.promise = new Promise(function(resolve, reject) {\n        self.image.crossOrigin = \"Anonymous\";\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n\n        new ProxyURL(src, proxy, document).then(function(url) {\n            self.image.src = url;\n        })['catch'](reject);\n    });\n}\n\nmodule.exports = ProxyImageContainer;\n\n},{\"./proxy\":16}],18:[function(_dereq_,module,exports){\nvar NodeContainer = _dereq_('./nodecontainer');\n\nfunction PseudoElementContainer(node, parent, type) {\n    NodeContainer.call(this, node, parent);\n    this.isPseudoElement = true;\n    this.before = type === \":before\";\n}\n\nPseudoElementContainer.prototype.cloneTo = function(stack) {\n    PseudoElementContainer.prototype.cloneTo.call(this, stack);\n    stack.isPseudoElement = true;\n    stack.before = this.before;\n};\n\nPseudoElementContainer.prototype = Object.create(NodeContainer.prototype);\n\nPseudoElementContainer.prototype.appendToDOM = function() {\n    if (this.before) {\n        this.parent.node.insertBefore(this.node, this.parent.node.firstChild);\n    } else {\n        this.parent.node.appendChild(this.node);\n    }\n    this.parent.node.className += \" \" + this.getHideClass();\n};\n\nPseudoElementContainer.prototype.cleanDOM = function() {\n    this.node.parentNode.removeChild(this.node);\n    this.parent.node.className = this.parent.node.className.replace(this.getHideClass(), \"\");\n};\n\nPseudoElementContainer.prototype.getHideClass = function() {\n    return this[\"PSEUDO_HIDE_ELEMENT_CLASS_\" + (this.before ? \"BEFORE\" : \"AFTER\")];\n};\n\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = \"___html2canvas___pseudoelement_before\";\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER = \"___html2canvas___pseudoelement_after\";\n\nmodule.exports = PseudoElementContainer;\n\n},{\"./nodecontainer\":14}],19:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\n\nfunction Renderer(width, height, images, options, document) {\n    this.width = width;\n    this.height = height;\n    this.images = images;\n    this.options = options;\n    this.document = document;\n}\n\nRenderer.prototype.renderImage = function(container, bounds, borderData, imageContainer) {\n    var paddingLeft = container.cssInt('paddingLeft'),\n        paddingTop = container.cssInt('paddingTop'),\n        paddingRight = container.cssInt('paddingRight'),\n        paddingBottom = container.cssInt('paddingBottom'),\n        borders = borderData.borders;\n\n    var width = bounds.width - (borders[1].width + borders[3].width + paddingLeft + paddingRight);\n    var height = bounds.height - (borders[0].width + borders[2].width + paddingTop + paddingBottom);\n    this.drawImage(\n        imageContainer,\n        0,\n        0,\n        imageContainer.image.width || width,\n        imageContainer.image.height || height,\n        bounds.left + paddingLeft + borders[3].width,\n        bounds.top + paddingTop + borders[0].width,\n        width,\n        height\n    );\n};\n\nRenderer.prototype.renderBackground = function(container, bounds, borderData) {\n    if (bounds.height > 0 && bounds.width > 0) {\n        this.renderBackgroundColor(container, bounds);\n        this.renderBackgroundImage(container, bounds, borderData);\n    }\n};\n\nRenderer.prototype.renderBackgroundColor = function(container, bounds) {\n    var color = container.color(\"backgroundColor\");\n    if (!color.isTransparent()) {\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, color);\n    }\n};\n\nRenderer.prototype.renderShadows = function(container, shape) {\n    var boxShadow = container.css('boxShadow');\n    if (boxShadow !== 'none') {\n        var shadows = boxShadow.split(/,(?![^(]*\\))/);\n        this.shadow(shape, shadows);\n    }\n};\n\nRenderer.prototype.renderBorders = function(borders) {\n    borders.forEach(this.renderBorder, this);\n};\n\nRenderer.prototype.renderBorder = function(data) {\n    if (!data.color.isTransparent() && data.args !== null) {\n        if (data.style === 'dashed' || data.style === 'dotted') {\n            var dash = (data.style === 'dashed') ? 3 : data.width;\n            this.ctx.setLineDash([dash]);\n            this.path(data.pathArgs);\n            this.ctx.strokeStyle = data.color;\n            this.ctx.lineWidth = data.width;\n            this.ctx.stroke();\n        } else {\n            this.drawShape(data.args, data.color);\n        }\n    }\n};\n\nRenderer.prototype.renderBackgroundImage = function(container, bounds, borderData) {\n    var backgroundImages = container.parseBackgroundImages();\n    backgroundImages.reverse().forEach(function(backgroundImage, index, arr) {\n        switch(backgroundImage.method) {\n        case \"url\":\n            var image = this.images.get(backgroundImage.args[0]);\n            if (image) {\n                this.renderBackgroundRepeating(container, bounds, image, arr.length - (index+1), borderData);\n            } else {\n                log(\"Error loading background-image\", backgroundImage.args[0]);\n            }\n            break;\n        case \"linear-gradient\":\n        case \"gradient\":\n            var gradientImage = this.images.get(backgroundImage.value);\n            if (gradientImage) {\n                this.renderBackgroundGradient(gradientImage, bounds, borderData);\n            } else {\n                log(\"Error loading background-image\", backgroundImage.args[0]);\n            }\n            break;\n        case \"none\":\n            break;\n        default:\n            log(\"Unknown background-image type\", backgroundImage.args[0]);\n        }\n    }, this);\n};\n\nRenderer.prototype.renderBackgroundRepeating = function(container, bounds, imageContainer, index, borderData) {\n    var size = container.parseBackgroundSize(bounds, imageContainer.image, index);\n    var position = container.parseBackgroundPosition(bounds, imageContainer.image, index, size);\n    var repeat = container.parseBackgroundRepeat(index);\n    switch (repeat) {\n    case \"repeat-x\":\n    case \"repeat no-repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + borderData[3], bounds.top + position.top + borderData[0], 99999, size.height, borderData);\n        break;\n    case \"repeat-y\":\n    case \"no-repeat repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + borderData[0], size.width, 99999, borderData);\n        break;\n    case \"no-repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + position.top + borderData[0], size.width, size.height, borderData);\n        break;\n    default:\n        this.renderBackgroundRepeat(imageContainer, position, size, {top: bounds.top, left: bounds.left}, borderData[3], borderData[0]);\n        break;\n    }\n};\n\nmodule.exports = Renderer;\n\n},{\"./log\":13}],20:[function(_dereq_,module,exports){\nvar Renderer = _dereq_('../renderer');\nvar LinearGradientContainer = _dereq_('../lineargradientcontainer');\nvar log = _dereq_('../log');\n\nfunction CanvasRenderer(width, height) {\n    Renderer.apply(this, arguments);\n    this.canvas = this.options.canvas || this.document.createElement(\"canvas\");\n    this.ctx = this.canvas.getContext(\"2d\");\n    if (!this.options.canvas) {\n        if (this.options.dpi) {\n            this.options.scale = this.options.dpi / 96;   // 1 CSS inch = 96px.\n        }\n        if (this.options.scale) {\n            this.canvas.style.width = width + 'px';\n            this.canvas.style.height = height + 'px';\n            this.canvas.width = Math.floor(width * this.options.scale);\n            this.canvas.height = Math.floor(height * this.options.scale);\n            this.ctx.scale(this.options.scale, this.options.scale);\n        } else {\n            this.canvas.width = width;\n            this.canvas.height = height;\n        }\n    }\n    this.taintCtx = this.document.createElement(\"canvas\").getContext(\"2d\");\n    this.ctx.textBaseline = \"bottom\";\n    this.variables = {};\n    log(\"Initialized CanvasRenderer with size\", width, \"x\", height);\n}\n\nCanvasRenderer.prototype = Object.create(Renderer.prototype);\n\nCanvasRenderer.prototype.setFillStyle = function(fillStyle) {\n    this.ctx.fillStyle = typeof(fillStyle) === \"object\" && !!fillStyle.isColor ? fillStyle.toString() : fillStyle;\n    return this.ctx;\n};\n\nCanvasRenderer.prototype.rectangle = function(left, top, width, height, color) {\n    this.setFillStyle(color).fillRect(left, top, width, height);\n};\n\nCanvasRenderer.prototype.circle = function(left, top, size, color) {\n    this.setFillStyle(color);\n    this.ctx.beginPath();\n    this.ctx.arc(left + size / 2, top + size / 2, size / 2, 0, Math.PI*2, true);\n    this.ctx.closePath();\n    this.ctx.fill();\n};\n\nCanvasRenderer.prototype.circleStroke = function(left, top, size, color, stroke, strokeColor) {\n    this.circle(left, top, size, color);\n    this.ctx.strokeStyle = strokeColor.toString();\n    this.ctx.stroke();\n};\n\nCanvasRenderer.prototype.shadow = function(shape, shadows) {\n    var parseShadow = function(str) {\n        var propertyFilters = { color: /^(#|rgb|hsl|(?!(inset|initial|inherit))\\D+)/i, inset: /^inset/i, px: /px$/i };\n        var pxPropertyNames = [ 'x', 'y', 'blur', 'spread' ];\n        var properties = str.split(/ (?![^(]*\\))/);\n        var info = {};\n        for (var key in propertyFilters) {\n            info[key] = properties.filter(propertyFilters[key].test.bind(propertyFilters[key]));\n            info[key] = info[key].length === 0 ? null : info[key].length === 1 ? info[key][0] : info[key];\n        }\n        for (var i=0; i<info.px.length; i++) {\n            info[pxPropertyNames[i]] = parseInt(info.px[i]);\n        }\n        return info;\n    };\n    var drawShadow = function(shadow) {\n        var info = parseShadow(shadow);\n        if (!info.inset) {\n            context.shadowOffsetX = info.x;\n            context.shadowOffsetY = info.y;\n            context.shadowColor = info.color;\n            context.shadowBlur = info.blur;\n            context.fill();\n        }\n    };\n    var context = this.setFillStyle('white');\n    context.save();\n    this.shape(shape);\n    shadows.forEach(drawShadow, this);\n    context.restore();\n};\n\nCanvasRenderer.prototype.drawShape = function(shape, color) {\n    this.shape(shape);\n    this.setFillStyle(color).fill();\n};\n\nCanvasRenderer.prototype.taints = function(imageContainer) {\n    if (imageContainer.tainted === null) {\n        this.taintCtx.drawImage(imageContainer.image, 0, 0);\n        try {\n            this.taintCtx.getImageData(0, 0, 1, 1);\n            imageContainer.tainted = false;\n        } catch(e) {\n            this.taintCtx = document.createElement(\"canvas\").getContext(\"2d\");\n            imageContainer.tainted = true;\n        }\n    }\n\n    return imageContainer.tainted;\n};\n\nCanvasRenderer.prototype.drawImage = function(imageContainer, sx, sy, sw, sh, dx, dy, dw, dh) {\n    if (!this.taints(imageContainer) || this.options.allowTaint) {\n        this.ctx.drawImage(imageContainer.image, sx, sy, sw, sh, dx, dy, dw, dh);\n    }\n};\n\nCanvasRenderer.prototype.clip = function(shapes, callback, context, container) {\n    this.ctx.save();\n    if (container && container.hasTransform()) {\n        this.setTransform(container.inverseTransform());\n        shapes.filter(hasEntries).forEach(function(shape) {\n            this.shape(shape).clip();\n        }, this);\n        this.setTransform(container.parseTransform());\n    } else {\n        shapes.filter(hasEntries).forEach(function(shape) {\n            this.shape(shape).clip();\n        }, this);\n    }\n    callback.call(context);\n    this.ctx.restore();\n};\n\nCanvasRenderer.prototype.mask = function(shapes, callback, context, container) {\n    var borderClip = shapes[shapes.length-1];\n    if (borderClip && borderClip.length) {\n        var canvasBorderCCW = [\"rect\", this.canvas.width, 0, -this.canvas.width, this.canvas.height];\n        var maskShape = [canvasBorderCCW].concat(borderClip).concat([borderClip[0]]);\n        shapes = shapes.slice(0,-1).concat([maskShape]);\n    }\n    this.clip(shapes, callback, context, container);\n};\n\nCanvasRenderer.prototype.shape = function(shape) {\n    this.ctx.beginPath();\n    shape.forEach(function(point, index) {\n        if (point[0] === \"rect\") {\n            this.ctx.rect.apply(this.ctx, point.slice(1));\n        } else {\n            this.ctx[(index === 0) ? \"moveTo\" : point[0] + \"To\" ].apply(this.ctx, point.slice(1));\n        }\n    }, this);\n    this.ctx.closePath();\n    return this.ctx;\n};\n\nCanvasRenderer.prototype.path = function(shape) {\n    this.ctx.beginPath();\n    shape.forEach(function(point, index) {\n        if (point[0] === \"rect\") {\n            this.ctx.rect.apply(this.ctx, point.slice(1));\n        } else {\n            this.ctx[(index === 0) ? \"moveTo\" : point[0] + \"To\" ].apply(this.ctx, point.slice(1));\n        }\n    }, this);\n    return this.ctx;\n};\n\nCanvasRenderer.prototype.font = function(color, style, variant, weight, size, family) {\n    variant = /^(normal|small-caps)$/i.test(variant) ? variant : '';\n    this.setFillStyle(color).font = [style, variant, weight, size, family].join(\" \").split(\",\")[0];\n};\n\nCanvasRenderer.prototype.fontShadow = function(color, offsetX, offsetY, blur) {\n    this.setVariable(\"shadowColor\", color.toString())\n        .setVariable(\"shadowOffsetY\", offsetX)\n        .setVariable(\"shadowOffsetX\", offsetY)\n        .setVariable(\"shadowBlur\", blur);\n};\n\nCanvasRenderer.prototype.clearShadow = function() {\n    this.setVariable(\"shadowColor\", \"rgba(0,0,0,0)\");\n};\n\nCanvasRenderer.prototype.setOpacity = function(opacity) {\n    this.ctx.globalAlpha = opacity;\n};\n\nCanvasRenderer.prototype.setTransform = function(transform) {\n    this.ctx.translate(transform.origin[0], transform.origin[1]);\n    this.ctx.transform.apply(this.ctx, transform.matrix);\n    this.ctx.translate(-transform.origin[0], -transform.origin[1]);\n};\n\nCanvasRenderer.prototype.setVariable = function(property, value) {\n    if (this.variables[property] !== value) {\n        this.variables[property] = this.ctx[property] = value;\n    }\n\n    return this;\n};\n\nCanvasRenderer.prototype.text = function(text, left, bottom) {\n    this.ctx.fillText(text, left, bottom);\n};\n\nCanvasRenderer.prototype.backgroundRepeatShape = function(imageContainer, backgroundPosition, size, bounds, left, top, width, height, borderData) {\n    var shape = [\n        [\"line\", Math.round(left), Math.round(top)],\n        [\"line\", Math.round(left + width), Math.round(top)],\n        [\"line\", Math.round(left + width), Math.round(height + top)],\n        [\"line\", Math.round(left), Math.round(height + top)]\n    ];\n    this.clip([shape], function() {\n        this.renderBackgroundRepeat(imageContainer, backgroundPosition, size, bounds, borderData[3], borderData[0]);\n    }, this);\n};\n\nCanvasRenderer.prototype.renderBackgroundRepeat = function(imageContainer, backgroundPosition, size, bounds, borderLeft, borderTop) {\n    var offsetX = Math.round(bounds.left + backgroundPosition.left + borderLeft), offsetY = Math.round(bounds.top + backgroundPosition.top + borderTop);\n    this.setFillStyle(this.ctx.createPattern(this.resizeImage(imageContainer, size), \"repeat\"));\n    this.ctx.translate(offsetX, offsetY);\n    this.ctx.fill();\n    this.ctx.translate(-offsetX, -offsetY);\n};\n\nCanvasRenderer.prototype.renderBackgroundGradient = function(gradientImage, bounds) {\n    if (gradientImage instanceof LinearGradientContainer) {\n        var gradient = this.ctx.createLinearGradient(\n            bounds.left + bounds.width * gradientImage.x0,\n            bounds.top + bounds.height * gradientImage.y0,\n            bounds.left +  bounds.width * gradientImage.x1,\n            bounds.top +  bounds.height * gradientImage.y1);\n        gradientImage.colorStops.forEach(function(colorStop) {\n            gradient.addColorStop(colorStop.stop, colorStop.color.toString());\n        });\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, gradient);\n    }\n};\n\nCanvasRenderer.prototype.resizeImage = function(imageContainer, size) {\n    var image = imageContainer.image;\n    if(image.width === size.width && image.height === size.height) {\n        return image;\n    }\n\n    var ctx, canvas = document.createElement('canvas');\n    canvas.width = size.width;\n    canvas.height = size.height;\n    ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height );\n    return canvas;\n};\n\nfunction hasEntries(array) {\n    return array.length > 0;\n}\n\nmodule.exports = CanvasRenderer;\n\n},{\"../lineargradientcontainer\":12,\"../log\":13,\"../renderer\":19}],21:[function(_dereq_,module,exports){\nvar NodeContainer = _dereq_('./nodecontainer');\n\nfunction StackingContext(hasOwnStacking, opacity, element, parent) {\n    NodeContainer.call(this, element, parent);\n    this.ownStacking = hasOwnStacking;\n    this.contexts = [];\n    this.children = [];\n    this.opacity = (this.parent ? this.parent.stack.opacity : 1) * opacity;\n}\n\nStackingContext.prototype = Object.create(NodeContainer.prototype);\n\nStackingContext.prototype.getParentStack = function(context) {\n    var parentStack = (this.parent) ? this.parent.stack : null;\n    return parentStack ? (parentStack.ownStacking ? parentStack : parentStack.getParentStack(context)) : context.stack;\n};\n\nmodule.exports = StackingContext;\n\n},{\"./nodecontainer\":14}],22:[function(_dereq_,module,exports){\nfunction Support(document) {\n    this.rangeBounds = this.testRangeBounds(document);\n    this.cors = this.testCORS();\n    this.svg = this.testSVG();\n}\n\nSupport.prototype.testRangeBounds = function(document) {\n    var range, testElement, rangeBounds, rangeHeight, support = false;\n\n    if (document.createRange) {\n        range = document.createRange();\n        if (range.getBoundingClientRect) {\n            testElement = document.createElement('boundtest');\n            testElement.style.height = \"123px\";\n            testElement.style.display = \"block\";\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            rangeBounds = range.getBoundingClientRect();\n            rangeHeight = rangeBounds.height;\n\n            if (rangeHeight === 123) {\n                support = true;\n            }\n            document.body.removeChild(testElement);\n        }\n    }\n\n    return support;\n};\n\nSupport.prototype.testCORS = function() {\n    return typeof((new Image()).crossOrigin) !== \"undefined\";\n};\n\nSupport.prototype.testSVG = function() {\n    var img = new Image();\n    var canvas = document.createElement(\"canvas\");\n    var ctx =  canvas.getContext(\"2d\");\n    img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch(e) {\n        return false;\n    }\n    return true;\n};\n\nmodule.exports = Support;\n\n},{}],23:[function(_dereq_,module,exports){\nvar XHR = _dereq_('./xhr');\nvar decode64 = _dereq_('./utils').decode64;\n\nfunction SVGContainer(src) {\n    this.src = src;\n    this.image = null;\n    var self = this;\n\n    this.promise = this.hasFabric().then(function() {\n        return (self.isInline(src) ? Promise.resolve(self.inlineFormatting(src)) : XHR(src));\n    }).then(function(svg) {\n        return new Promise(function(resolve) {\n            window.html2canvas.svg.fabric.loadSVGFromString(svg, self.createCanvas.call(self, resolve));\n        });\n    });\n}\n\nSVGContainer.prototype.hasFabric = function() {\n    return !window.html2canvas.svg || !window.html2canvas.svg.fabric ? Promise.reject(new Error(\"html2canvas.svg.js is not loaded, cannot render svg\")) : Promise.resolve();\n};\n\nSVGContainer.prototype.inlineFormatting = function(src) {\n    return (/^data:image\\/svg\\+xml;base64,/.test(src)) ? this.decode64(this.removeContentType(src)) : this.removeContentType(src);\n};\n\nSVGContainer.prototype.removeContentType = function(src) {\n    return src.replace(/^data:image\\/svg\\+xml(;base64)?,/,'');\n};\n\nSVGContainer.prototype.isInline = function(src) {\n    return (/^data:image\\/svg\\+xml/i.test(src));\n};\n\nSVGContainer.prototype.createCanvas = function(resolve) {\n    var self = this;\n    return function (objects, options) {\n        var canvas = new window.html2canvas.svg.fabric.StaticCanvas('c');\n        self.image = canvas.lowerCanvasEl;\n        canvas\n            .setWidth(options.width)\n            .setHeight(options.height)\n            .add(window.html2canvas.svg.fabric.util.groupSVGElements(objects, options))\n            .renderAll();\n        resolve(canvas.lowerCanvasEl);\n    };\n};\n\nSVGContainer.prototype.decode64 = function(str) {\n    return (typeof(window.atob) === \"function\") ? window.atob(str) : decode64(str);\n};\n\nmodule.exports = SVGContainer;\n\n},{\"./utils\":26,\"./xhr\":28}],24:[function(_dereq_,module,exports){\nvar SVGContainer = _dereq_('./svgcontainer');\n\nfunction SVGNodeContainer(node, _native) {\n    this.src = node;\n    this.image = null;\n    var self = this;\n\n    this.promise = _native ? new Promise(function(resolve, reject) {\n        self.image = new Image();\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n        self.image.src = \"data:image/svg+xml,\" + (new XMLSerializer()).serializeToString(node);\n        if (self.image.complete === true) {\n            resolve(self.image);\n        }\n    }) : this.hasFabric().then(function() {\n        return new Promise(function(resolve) {\n            window.html2canvas.svg.fabric.parseSVGDocument(node, self.createCanvas.call(self, resolve));\n        });\n    });\n}\n\nSVGNodeContainer.prototype = Object.create(SVGContainer.prototype);\n\nmodule.exports = SVGNodeContainer;\n\n},{\"./svgcontainer\":23}],25:[function(_dereq_,module,exports){\nvar NodeContainer = _dereq_('./nodecontainer');\n\nfunction TextContainer(node, parent) {\n    NodeContainer.call(this, node, parent);\n}\n\nTextContainer.prototype = Object.create(NodeContainer.prototype);\n\nTextContainer.prototype.applyTextTransform = function() {\n    this.node.data = this.transform(this.parent.css(\"textTransform\"));\n};\n\nTextContainer.prototype.transform = function(transform) {\n    var text = this.node.data;\n    switch(transform){\n        case \"lowercase\":\n            return text.toLowerCase();\n        case \"capitalize\":\n            return text.replace(/(^|\\s|:|-|\\(|\\))([a-z])/g, capitalize);\n        case \"uppercase\":\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nfunction capitalize(m, p1, p2) {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n}\n\nmodule.exports = TextContainer;\n\n},{\"./nodecontainer\":14}],26:[function(_dereq_,module,exports){\nexports.smallImage = function smallImage() {\n    return \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n};\n\nexports.bind = function(callback, context) {\n    return function() {\n        return callback.apply(context, arguments);\n    };\n};\n\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nexports.decode64 = function(base64) {\n    var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    var len = base64.length, i, encoded1, encoded2, encoded3, encoded4, byte1, byte2, byte3;\n\n    var output = \"\";\n\n    for (i = 0; i < len; i+=4) {\n        encoded1 = chars.indexOf(base64[i]);\n        encoded2 = chars.indexOf(base64[i+1]);\n        encoded3 = chars.indexOf(base64[i+2]);\n        encoded4 = chars.indexOf(base64[i+3]);\n\n        byte1 = (encoded1 << 2) | (encoded2 >> 4);\n        byte2 = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        byte3 = ((encoded3 & 3) << 6) | encoded4;\n        if (encoded3 === 64) {\n            output += String.fromCharCode(byte1);\n        } else if (encoded4 === 64 || encoded4 === -1) {\n            output += String.fromCharCode(byte1, byte2);\n        } else{\n            output += String.fromCharCode(byte1, byte2, byte3);\n        }\n    }\n\n    return output;\n};\n\nexports.getBounds = function(node) {\n    if (node.getBoundingClientRect) {\n        var clientRect = node.getBoundingClientRect();\n        var width = node.offsetWidth == null ? clientRect.width : node.offsetWidth;\n        return {\n            top: clientRect.top,\n            bottom: clientRect.bottom || (clientRect.top + clientRect.height),\n            right: clientRect.left + width,\n            left: clientRect.left,\n            width:  width,\n            height: node.offsetHeight == null ? clientRect.height : node.offsetHeight\n        };\n    }\n    return {};\n};\n\nexports.offsetBounds = function(node) {\n    var parent = node.offsetParent ? exports.offsetBounds(node.offsetParent) : {top: 0, left: 0};\n\n    return {\n        top: node.offsetTop + parent.top,\n        bottom: node.offsetTop + node.offsetHeight + parent.top,\n        right: node.offsetLeft + parent.left + node.offsetWidth,\n        left: node.offsetLeft + parent.left,\n        width: node.offsetWidth,\n        height: node.offsetHeight\n    };\n};\n\nexports.parseBackgrounds = function(backgroundImage) {\n    var whitespace = ' \\r\\n\\t',\n        method, definition, prefix, prefix_i, block, results = [],\n        mode = 0, numParen = 0, quote, args;\n    var appendResult = function() {\n        if(method) {\n            if (definition.substr(0, 1) === '\"') {\n                definition = definition.substr(1, definition.length - 2);\n            }\n            if (definition) {\n                args.push(definition);\n            }\n            if (method.substr(0, 1) === '-' && (prefix_i = method.indexOf('-', 1 ) + 1) > 0) {\n                prefix = method.substr(0, prefix_i);\n                method = method.substr(prefix_i);\n            }\n            results.push({\n                prefix: prefix,\n                method: method.toLowerCase(),\n                value: block,\n                args: args,\n                image: null\n            });\n        }\n        args = [];\n        method = prefix = definition = block = '';\n    };\n    args = [];\n    method = prefix = definition = block = '';\n    backgroundImage.split(\"\").forEach(function(c) {\n        if (mode === 0 && whitespace.indexOf(c) > -1) {\n            return;\n        }\n        switch(c) {\n        case '\"':\n            if(!quote) {\n                quote = c;\n            } else if(quote === c) {\n                quote = null;\n            }\n            break;\n        case '(':\n            if(quote) {\n                break;\n            } else if(mode === 0) {\n                mode = 1;\n                block += c;\n                return;\n            } else {\n                numParen++;\n            }\n            break;\n        case ')':\n            if (quote) {\n                break;\n            } else if(mode === 1) {\n                if(numParen === 0) {\n                    mode = 0;\n                    block += c;\n                    appendResult();\n                    return;\n                } else {\n                    numParen--;\n                }\n            }\n            break;\n\n        case ',':\n            if (quote) {\n                break;\n            } else if(mode === 0) {\n                appendResult();\n                return;\n            } else if (mode === 1) {\n                if (numParen === 0 && !method.match(/^url$/i)) {\n                    args.push(definition);\n                    definition = '';\n                    block += c;\n                    return;\n                }\n            }\n            break;\n        }\n\n        block += c;\n        if (mode === 0) {\n            method += c;\n        } else {\n            definition += c;\n        }\n    });\n\n    appendResult();\n    return results;\n};\n\n},{}],27:[function(_dereq_,module,exports){\nvar GradientContainer = _dereq_('./gradientcontainer');\n\nfunction WebkitGradientContainer(imageData) {\n    GradientContainer.apply(this, arguments);\n    this.type = imageData.args[0] === \"linear\" ? GradientContainer.TYPES.LINEAR : GradientContainer.TYPES.RADIAL;\n}\n\nWebkitGradientContainer.prototype = Object.create(GradientContainer.prototype);\n\nmodule.exports = WebkitGradientContainer;\n\n},{\"./gradientcontainer\":9}],28:[function(_dereq_,module,exports){\nfunction XHR(url) {\n    return new Promise(function(resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url);\n\n        xhr.onload = function() {\n            if (xhr.status === 200) {\n                resolve(xhr.responseText);\n            } else {\n                reject(new Error(xhr.statusText));\n            }\n        };\n\n        xhr.onerror = function() {\n            reject(new Error(\"Network Error\"));\n        };\n\n        xhr.send();\n    });\n}\n\nmodule.exports = XHR;\n\n},{}]},{},[4])(4)\n});\n"],"sourceRoot":""}