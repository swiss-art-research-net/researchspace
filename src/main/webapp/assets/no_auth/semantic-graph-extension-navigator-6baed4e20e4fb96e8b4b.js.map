{"version":3,"sources":["webpack:///./src/main/web/components/semantic/graph/extensions/CytoscapeNavigator.ts"],"names":["CytoscapeNavigator","registerCytoscapeExtension","name","type","registrationFn","registerNavigatorExtension","api","cytoscapeNavigator","cytoscape","jQuery","initializationFn","initializeNavigatorExtension","cytoscapeApi","options","container","createNavigatorContainer","config","document","createElement","className","setAttribute","ModuleRegistry","RAW_STYLE_ATTRIBUTE","style","position","assign","instance","appendChild","maybe","Just","navigator"],"mappings":"iIAmBA,YACA,QACA,UACA,QAEA,aACA,UAiFa,EAAAA,mBAAqB,EAAAC,2BAA2B,CAC3DC,KAAM,YACNC,KAAM,OACNC,eAlFF,SAASC,2BAA2BC,GAClCC,EAAmBD,EAAIE,UAAWF,EAAIG,SAkFtCC,iBA/EF,SAASC,6BAA6B,G,IACpCC,EAAA,EAAAA,aACAC,EAAA,EAAAA,QAEMC,EAQR,SAASC,yBAAyBC,GAChC,IAAMF,EAAYG,SAASC,cAAc,OASzC,OARAJ,EAAUK,UAAY,sBAGtBL,EAAUM,aAAa,QAASJ,EAAO,EAAAK,eAAeC,sBAItDR,EAAUS,MAAMC,SAAW,WACpBV,EAlBWC,CAAyBF,GACrCG,EAAS,EAAAS,OAAO,GAAIZ,EAAS,CAAEC,UAAWA,IAIhD,OADAF,EAAac,SAASZ,YAAYa,YAAYb,GACvCc,EAAMC,KAAKjB,EAAac,SAASI,UAAUd,OAwEpD,UAAe,EAAAhB","file":"semantic-graph-extension-navigator-6baed4e20e4fb96e8b4b.js","sourcesContent":["/**\n * ResearchSpace\n * Copyright (C) 2020, Â© Trustees of the British Museum\n * Copyright (C) 2015-2019, metaphacts GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { assign } from 'lodash';\nimport * as maybe from 'data.maybe';\nimport * as cytoscapeNavigator from 'cytoscape-navigator';\nimport 'cytoscape-navigator/cytoscape.js-navigator.css';\n\nimport { ModuleRegistry } from 'platform/api/module-loader';\nimport { ContextCytoscapeApi, registerCytoscapeExtension, ExtensionContext } from '../api/Api';\n\nfunction registerNavigatorExtension(api: ContextCytoscapeApi) {\n  cytoscapeNavigator(api.cytoscape, api.jQuery);\n}\n\nfunction initializeNavigatorExtension({\n  cytoscapeApi,\n  options,\n}: ExtensionContext<Cy.Navigator.Options>): Data.Maybe<Cy.Navigator.Instance> {\n  const container = createNavigatorContainer(options);\n  const config = assign({}, options, { container: container });\n\n  // add navigator container to cytoscape container\n  cytoscapeApi.instance.container().appendChild(container);\n  return maybe.Just(cytoscapeApi.instance.navigator(config));\n}\n\nfunction createNavigatorContainer(config: Cy.Navigator.Options): HTMLDivElement {\n  const container = document.createElement('div');\n  container.className = 'cytoscape-navigator';\n\n  // propagate style attribute value from component attribute to navigator container\n  container.setAttribute('style', config[ModuleRegistry.RAW_STYLE_ATTRIBUTE]);\n\n  // assumption here is that cytoscape instance container has relative position\n  // so navigator container absolutely positioned in it\n  container.style.position = 'absolute';\n  return container;\n}\n\n/**\n * Bird's eye view pan and zoom control for `semantic-graph` component\n */\nexport interface SemanticGraphNavigatorExtensionConfig {\n  /**\n   * Additional CSS styles for navigation container\n   */\n  style?: string;\n\n  /**\n   * Set `false` to update graph pan only on drag end; set `0` to do it instantly; set a number (frames per second) to update not more than N times per second\n   *\n   * @default 0\n   */\n  viewLiveFramerate?: number | false;\n\n  /**\n   * Max thumbnail's updates per second triggered by graph updates\n   *\n   * @default 30\n   */\n  thumbnailEventFramerate?: number;\n\n  /**\n   * Max thumbnail's updates per second. Set false to disable\n   *\n   * @default false\n   */\n  thumbnailLiveFramerate?: number | false;\n\n  /**\n   * Double-click delay in milliseconds\n   *\n   * @default 200\n   */\n  dblClickDelay?: number;\n\n  /**\n   * Milliseconds to throttle rerender updates to the panzoom for performance\n   *\n   * @default 100\n   */\n  rerenderDelay?: number;\n}\n\n/**\n * Cytoscape extension for birds-eye style navigation.\n *\n * @see https://github.com/cytoscape/cytoscape.js-navigator\n */\nexport const CytoscapeNavigator = registerCytoscapeExtension({\n  name: 'navigator',\n  type: 'core',\n  registrationFn: registerNavigatorExtension,\n  initializationFn: initializeNavigatorExtension,\n});\nexport default CytoscapeNavigator;\nexport type Config = Cy.Navigator.Options;\n"],"sourceRoot":""}