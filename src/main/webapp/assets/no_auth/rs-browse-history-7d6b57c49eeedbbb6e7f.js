(window.webpackJsonp=window.webpackJsonp||[]).push([[453],{1492:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=n(1),i=n(72),s=n(142),a=n(16),l=n(63),c=n(659),m=n(220);n(1493);var u=function(e){function BrowseHistoryComponent(t,n){var o=e.call(this,t,n)||this;return o.goBack=function(){c.MemoryHistory.goBack()},o.goForward=function(){c.MemoryHistory.goForward()},o.clearRecent=function(){o.forceMenuClosure(),c.clearPersistedRecentPages(),c.resetMemoryHistory(),o.getMemoryEntries()},o.dropdownToggle=function(e){o.setState({menuOpen:e})},o.forceMenuClosure=function(){o.setState({menuOpen:!1})},o.state={links:[],menuOpen:!1,locIndex:0},o}return o.__extends(BrowseHistoryComponent,e),BrowseHistoryComponent.prototype.componentDidMount=function(){this.getMemoryEntries()},BrowseHistoryComponent.prototype.getMemoryEntries=function(){var e=this;this.setState({links:[]});var t=a.uniqWith(c.MemoryHistory.entries,a.isEqual);this.setState({locIndex:t.indexOf(c.MemoryHistory.location)}),t.map((function(t,n){var o=t.pathname+(t.search?t.search:"");l.resolveResourceIri(s(o)).onValue((function(t){var o=e.removeTagsFromUri(t.getOrElse(null));o&&e.setState((function(e){return{links:e.links.concat({index:n,link:o}).sort((function(e,t){return t.index-e.index}))}}))}))}))},BrowseHistoryComponent.prototype.removeTagsFromUri=function(e){var t=/^<(.*)>$/g.exec(e.toString());return t.length>1?t[1]:e.toString()},BrowseHistoryComponent.prototype.render=function(){var e=this;return r.createElement("div",{className:"browse-history"},r.createElement(i.Nav,{bsStyle:"pills"},r.createElement(i.NavDropdown,{open:this.state.menuOpen,onToggle:function(t){return e.dropdownToggle(t)},disabled:this.state.links.length<1,title:"Recent",id:"basic-nav-dropdown"},this.state.links.map((function(e,t){return r.createElement("li",{key:e.link+t},r.createElement(m.ResourceLinkComponent,{uri:e.link,guessRepository:!0}))})),this.state.links.length>1&&r.createElement("li",{className:"divider"}),this.state.links.length>1&&r.createElement("li",null,r.createElement("a",{onClick:this.clearRecent},"Clear recent"))),r.createElement(i.NavItem,{disabled:this.state.links.length<2||this.state.locIndex<1,title:"Back",onClick:this.goBack,href:"#"},r.createElement("i",{className:"fa fa-caret-left"})),r.createElement(i.NavItem,{disabled:this.state.locIndex===this.state.links.length-1,title:"Forward",onClick:this.goForward,href:"#"},r.createElement("i",{className:"fa fa-caret-right"}))))},BrowseHistoryComponent}(r.Component);t.BrowseHistoryComponent=u,t.default=u}}]);
//# sourceMappingURL=rs-browse-history-7d6b57c49eeedbbb6e7f.js.map