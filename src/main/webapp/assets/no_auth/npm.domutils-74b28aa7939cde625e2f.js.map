{"version":3,"sources":["webpack:///./node_modules/domutils/index.js","webpack:///./node_modules/domutils/node_modules/entities/lib/decode.js","webpack:///./node_modules/domutils/node_modules/entities/lib/encode.js","webpack:///./node_modules/domutils/lib/stringify.js","webpack:///./node_modules/domutils/node_modules/dom-serializer/index.js","webpack:///./node_modules/domutils/node_modules/dom-serializer/node_modules/domelementtype/lib/index.js","webpack:///./node_modules/domutils/node_modules/entities/lib/index.js","webpack:///./node_modules/domutils/node_modules/entities/lib/decode_codepoint.js","webpack:///./node_modules/domutils/lib/traversal.js","webpack:///./node_modules/domutils/lib/manipulation.js","webpack:///./node_modules/domutils/lib/querying.js","webpack:///./node_modules/domutils/lib/legacy.js","webpack:///./node_modules/domutils/lib/helpers.js"],"names":["DomUtils","module","exports","forEach","ext","Object","keys","key","bind","__importDefault","this","mod","__esModule","defineProperty","value","entities_json_1","legacy_json_1","xml_json_1","decode_codepoint_1","getStrictDecoder","map","join","replace","getReplacer","re","RegExp","str","String","decodeXML","default","decodeHTMLStrict","sorter","a","b","charAt","parseInt","substr","slice","decodeHTML","legacy","sort","i","j","length","replacer","inverseXML","getInverseObj","xmlReplacer","getInverseReplacer","encodeXML","getInverse","inverseHTML","htmlReplacer","obj","reduce","inverse","name","single","multiple","k","push","unshift","encodeHTML","reNonASCII","reAstralSymbols","singleCharReplacer","c","charCodeAt","toString","toUpperCase","astralReplacer","_","data","reXmlChars","escape","ElementType","getOuterHTML","isTag","getInnerHTML","elem","opts","children","getText","Array","isArray","type","CDATA","Text","entities","foreignNames","elementNames","__proto__","attributeNames","unencodedElements","style","script","xmp","iframe","noembed","noframes","plaintext","noscript","singleTag","area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","render","dom","cheerio","output","renderTag","Directive","renderDirective","Comment","renderComment","renderCdata","renderText","foreignModeIntegrationPoints","xmlMode","parent","indexOf","assign","tag","attribs","formatAttrs","attributes","decodeEntities","Script","Style","Tag","Doctype","decode_1","encode_1","decode","level","decodeStrict","encode","encode_2","encodeHTML4","encodeHTML5","decode_2","decodeHTML4","decodeHTML5","decodeHTML4Strict","decodeHTML5Strict","decodeXMLStrict","decode_json_1","decodeCodePoint","codePoint","fromCharCode","getChildren","getParent","getSiblings","getAttributeValue","hasAttrib","hasOwnProperty","call","getName","removeElement","prev","next","childs","splice","lastIndexOf","replaceElement","replacement","appendChild","child","sibling","append","currNext","prepend","find","test","elems","recurse","limit","result","concat","filter","element","isFinite","Infinity","findOneChild","l","findOne","existsOne","findAll","rootElems","stack","shift","apply","testElement","options","tag_name","tag_type","tag_contains","Checks","getAttribCheck","attrib","combineFuncs","getElements","funcs","getElementById","id","getElementsByTagName","getElementsByTagType","removeSubsets","nodes","node","ancestor","idx","POSITION","comparePos","compareDocumentPosition","nodeA","nodeB","current","sharedParent","siblings","aSibling","bSibling","aParents","bParents","uniqueSort","position","relative"],"mappings":"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","file":"npm.domutils-74b28aa7939cde625e2f.js","sourcesContent":["var DomUtils = module.exports;\n\n[\n\trequire(\"./lib/stringify\"),\n\trequire(\"./lib/traversal\"),\n\trequire(\"./lib/manipulation\"),\n\trequire(\"./lib/querying\"),\n\trequire(\"./lib/legacy\"),\n\trequire(\"./lib/helpers\")\n].forEach(function(ext){\n\tObject.keys(ext).forEach(function(key){\n\t\tDomUtils[key] = ext[key].bind(DomUtils);\n\t});\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"./maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar decode_codepoint_1 = __importDefault(require(\"./decode_codepoint\"));\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\nfunction getStrictDecoder(map) {\n    var keys = Object.keys(map).join(\"|\");\n    var replace = getReplacer(map);\n    keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n    var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n    return function (str) { return String(str).replace(re, replace); };\n}\nvar sorter = function (a, b) { return (a < b ? 1 : -1); };\nexports.decodeHTML = (function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        }\n        else {\n            keys[i] += \";\";\n        }\n    }\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n    function replacer(str) {\n        if (str.substr(-1) !== \";\")\n            str += \";\";\n        return replace(str);\n    }\n    //TODO consider creating a merged map\n    return function (str) {\n        return String(str).replace(re, replacer);\n    };\n})();\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            if (str.charAt(2) === \"X\" || str.charAt(2) === \"x\") {\n                return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n            }\n            return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n        }\n        return map[str.slice(1, -1)];\n    };\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\nexports.encodeXML = getInverse(inverseXML, xmlReplacer);\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (inverse, name) {\n        inverse[obj[name]] = \"&\" + name + \";\";\n        return inverse;\n    }, {});\n}\nfunction getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n    Object.keys(inverse).forEach(function (k) {\n        return k.length === 1\n            ? // Add value to single array\n                single.push(\"\\\\\" + k)\n            : // Add value to multiple array\n                multiple.push(k);\n    });\n    //TODO add ranges\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\nvar reNonASCII = /[^\\0-\\x7F]/g;\nvar reAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\nfunction singleCharReplacer(c) {\n    return \"&#x\" + c\n        .charCodeAt(0)\n        .toString(16)\n        .toUpperCase() + \";\";\n}\n// eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any\nfunction astralReplacer(c, _) {\n    // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n    var high = c.charCodeAt(0);\n    var low = c.charCodeAt(1);\n    var codePoint = (high - 0xd800) * 0x400 + low - 0xdc00 + 0x10000;\n    return \"&#x\" + codePoint.toString(16).toUpperCase() + \";\";\n}\nfunction getInverse(inverse, re) {\n    return function (data) {\n        return data\n            .replace(re, function (name) { return inverse[name]; })\n            .replace(reAstralSymbols, astralReplacer)\n            .replace(reNonASCII, singleCharReplacer);\n    };\n}\nvar reXmlChars = getInverseReplacer(inverseXML);\nfunction escape(data) {\n    return data\n        .replace(reXmlChars, singleCharReplacer)\n        .replace(reAstralSymbols, astralReplacer)\n        .replace(reNonASCII, singleCharReplacer);\n}\nexports.escape = escape;\n","var ElementType = require(\"domelementtype\"),\n    getOuterHTML = require(\"dom-serializer\"),\n    isTag = ElementType.isTag;\n\nmodule.exports = {\n\tgetInnerHTML: getInnerHTML,\n\tgetOuterHTML: getOuterHTML,\n\tgetText: getText\n};\n\nfunction getInnerHTML(elem, opts){\n\treturn elem.children ? elem.children.map(function(elem){\n\t\treturn getOuterHTML(elem, opts);\n\t}).join(\"\") : \"\";\n}\n\nfunction getText(elem){\n\tif(Array.isArray(elem)) return elem.map(getText).join(\"\");\n\tif(isTag(elem)) return elem.name === \"br\" ? \"\\n\" : getText(elem.children);\n\tif(elem.type === ElementType.CDATA) return getText(elem.children);\n\tif(elem.type === ElementType.Text) return elem.data;\n\treturn \"\";\n}\n","/*\n  Module dependencies\n*/\nvar ElementType = require('domelementtype');\nvar entities = require('entities');\n\n/* mixed-case SVG and MathML tags & attributes\n   recognized by the HTML parser, see\n   https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign\n*/\nvar foreignNames = require('./foreignNames.json');\nforeignNames.elementNames.__proto__ = null; /* use as a simple dictionary */\nforeignNames.attributeNames.__proto__ = null;\n\nvar unencodedElements = {\n  __proto__: null,\n  style: true,\n  script: true,\n  xmp: true,\n  iframe: true,\n  noembed: true,\n  noframes: true,\n  plaintext: true,\n  noscript: true\n};\n\n/*\n  Format attributes\n*/\nfunction formatAttrs(attributes, opts) {\n  if (!attributes) return;\n\n  var output = '';\n  var value;\n\n  // Loop through the attributes\n  for (var key in attributes) {\n    value = attributes[key];\n    if (output) {\n      output += ' ';\n    }\n\n    if (opts.xmlMode === 'foreign') {\n      /* fix up mixed-case attribute names */\n      key = foreignNames.attributeNames[key] || key;\n    }\n    output += key;\n    if ((value !== null && value !== '') || opts.xmlMode) {\n      output +=\n        '=\"' +\n        (opts.decodeEntities\n          ? entities.encodeXML(value)\n          : value.replace(/\\\"/g, '&quot;')) +\n        '\"';\n    }\n  }\n\n  return output;\n}\n\n/*\n  Self-enclosing tags (stolen from node-htmlparser)\n*/\nvar singleTag = {\n  __proto__: null,\n  area: true,\n  base: true,\n  basefont: true,\n  br: true,\n  col: true,\n  command: true,\n  embed: true,\n  frame: true,\n  hr: true,\n  img: true,\n  input: true,\n  isindex: true,\n  keygen: true,\n  link: true,\n  meta: true,\n  param: true,\n  source: true,\n  track: true,\n  wbr: true\n};\n\nvar render = (module.exports = function(dom, opts) {\n  if (!Array.isArray(dom) && !dom.cheerio) dom = [dom];\n  opts = opts || {};\n\n  var output = '';\n\n  for (var i = 0; i < dom.length; i++) {\n    var elem = dom[i];\n\n    if (elem.type === 'root') output += render(elem.children, opts);\n    else if (ElementType.isTag(elem)) output += renderTag(elem, opts);\n    else if (elem.type === ElementType.Directive)\n      output += renderDirective(elem);\n    else if (elem.type === ElementType.Comment) output += renderComment(elem);\n    else if (elem.type === ElementType.CDATA) output += renderCdata(elem);\n    else output += renderText(elem, opts);\n  }\n\n  return output;\n});\n\nvar foreignModeIntegrationPoints = [\n  'mi',\n  'mo',\n  'mn',\n  'ms',\n  'mtext',\n  'annotation-xml',\n  'foreignObject',\n  'desc',\n  'title'\n];\n\nfunction renderTag(elem, opts) {\n  // Handle SVG / MathML in HTML\n  if (opts.xmlMode === 'foreign') {\n    /* fix up mixed-case element names */\n    elem.name = foreignNames.elementNames[elem.name] || elem.name;\n    /* exit foreign mode at integration points */\n    if (\n      elem.parent &&\n      foreignModeIntegrationPoints.indexOf(elem.parent.name) >= 0\n    )\n      opts = Object.assign({}, opts, { xmlMode: false });\n  }\n  if (!opts.xmlMode && ['svg', 'math'].indexOf(elem.name) >= 0) {\n    opts = Object.assign({}, opts, { xmlMode: 'foreign' });\n  }\n\n  var tag = '<' + elem.name;\n  var attribs = formatAttrs(elem.attribs, opts);\n\n  if (attribs) {\n    tag += ' ' + attribs;\n  }\n\n  if (opts.xmlMode && (!elem.children || elem.children.length === 0)) {\n    tag += '/>';\n  } else {\n    tag += '>';\n    if (elem.children) {\n      tag += render(elem.children, opts);\n    }\n\n    if (!singleTag[elem.name] || opts.xmlMode) {\n      tag += '</' + elem.name + '>';\n    }\n  }\n\n  return tag;\n}\n\nfunction renderDirective(elem) {\n  return '<' + elem.data + '>';\n}\n\nfunction renderText(elem, opts) {\n  var data = elem.data || '';\n\n  // if entities weren't decoded, no need to encode them back\n  if (\n    opts.decodeEntities &&\n    !(elem.parent && elem.parent.name in unencodedElements)\n  ) {\n    data = entities.encodeXML(data);\n  }\n\n  return data;\n}\n\nfunction renderCdata(elem) {\n  return '<![CDATA[' + elem.children[0].data + ']]>';\n}\n\nfunction renderComment(elem) {\n  return '<!--' + elem.data + '-->';\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nfunction isTag(elem) {\n    return (elem.type === \"tag\" /* Tag */ ||\n        elem.type === \"script\" /* Script */ ||\n        elem.type === \"style\" /* Style */);\n}\nexports.isTag = isTag;\n// Exports for backwards compatibility\nexports.Text = \"text\" /* Text */; //Text\nexports.Directive = \"directive\" /* Directive */; //<? ... ?>\nexports.Comment = \"comment\" /* Comment */; //<!-- ... -->\nexports.Script = \"script\" /* Script */; //<script> tags\nexports.Style = \"style\" /* Style */; //<style> tags\nexports.Tag = \"tag\" /* Tag */; //Any tag\nexports.CDATA = \"cdata\" /* CDATA */; //<![CDATA[ ... ]]>\nexports.Doctype = \"doctype\" /* Doctype */;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_1 = require(\"./decode\");\nvar encode_1 = require(\"./encode\");\nfunction decode(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTML)(data);\n}\nexports.decode = decode;\nfunction decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTMLStrict)(data);\n}\nexports.decodeStrict = decodeStrict;\nfunction encode(data, level) {\n    return (!level || level <= 0 ? encode_1.encodeXML : encode_1.encodeHTML)(data);\n}\nexports.encode = encode;\nvar encode_2 = require(\"./encode\");\nexports.encodeXML = encode_2.encodeXML;\nexports.encodeHTML = encode_2.encodeHTML;\nexports.escape = encode_2.escape;\n// Legacy aliases\nexports.encodeHTML4 = encode_2.encodeHTML;\nexports.encodeHTML5 = encode_2.encodeHTML;\nvar decode_2 = require(\"./decode\");\nexports.decodeXML = decode_2.decodeXML;\nexports.decodeHTML = decode_2.decodeHTML;\nexports.decodeHTMLStrict = decode_2.decodeHTMLStrict;\n// Legacy aliases\nexports.decodeHTML4 = decode_2.decodeHTML;\nexports.decodeHTML5 = decode_2.decodeHTML;\nexports.decodeHTML4Strict = decode_2.decodeHTMLStrict;\nexports.decodeHTML5Strict = decode_2.decodeHTMLStrict;\nexports.decodeXMLStrict = decode_2.decodeXML;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\"));\n// modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        // @ts-ignore\n        codePoint = decode_json_1.default[codePoint];\n    }\n    var output = \"\";\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n}\nexports.default = decodeCodePoint;\n","var getChildren = exports.getChildren = function(elem){\n\treturn elem.children;\n};\n\nvar getParent = exports.getParent = function(elem){\n\treturn elem.parent;\n};\n\nexports.getSiblings = function(elem){\n\tvar parent = getParent(elem);\n\treturn parent ? getChildren(parent) : [elem];\n};\n\nexports.getAttributeValue = function(elem, name){\n\treturn elem.attribs && elem.attribs[name];\n};\n\nexports.hasAttrib = function(elem, name){\n\treturn !!elem.attribs && hasOwnProperty.call(elem.attribs, name);\n};\n\nexports.getName = function(elem){\n\treturn elem.name;\n};\n","exports.removeElement = function(elem){\n\tif(elem.prev) elem.prev.next = elem.next;\n\tif(elem.next) elem.next.prev = elem.prev;\n\n\tif(elem.parent){\n\t\tvar childs = elem.parent.children;\n\t\tchilds.splice(childs.lastIndexOf(elem), 1);\n\t}\n};\n\nexports.replaceElement = function(elem, replacement){\n\tvar prev = replacement.prev = elem.prev;\n\tif(prev){\n\t\tprev.next = replacement;\n\t}\n\n\tvar next = replacement.next = elem.next;\n\tif(next){\n\t\tnext.prev = replacement;\n\t}\n\n\tvar parent = replacement.parent = elem.parent;\n\tif(parent){\n\t\tvar childs = parent.children;\n\t\tchilds[childs.lastIndexOf(elem)] = replacement;\n\t}\n};\n\nexports.appendChild = function(elem, child){\n\tchild.parent = elem;\n\n\tif(elem.children.push(child) !== 1){\n\t\tvar sibling = elem.children[elem.children.length - 2];\n\t\tsibling.next = child;\n\t\tchild.prev = sibling;\n\t\tchild.next = null;\n\t}\n};\n\nexports.append = function(elem, next){\n\tvar parent = elem.parent,\n\t\tcurrNext = elem.next;\n\n\tnext.next = currNext;\n\tnext.prev = elem;\n\telem.next = next;\n\tnext.parent = parent;\n\n\tif(currNext){\n\t\tcurrNext.prev = next;\n\t\tif(parent){\n\t\t\tvar childs = parent.children;\n\t\t\tchilds.splice(childs.lastIndexOf(currNext), 0, next);\n\t\t}\n\t} else if(parent){\n\t\tparent.children.push(next);\n\t}\n};\n\nexports.prepend = function(elem, prev){\n\tvar parent = elem.parent;\n\tif(parent){\n\t\tvar childs = parent.children;\n\t\tchilds.splice(childs.lastIndexOf(elem), 0, prev);\n\t}\n\n\tif(elem.prev){\n\t\telem.prev.next = prev;\n\t}\n\t\n\tprev.parent = parent;\n\tprev.prev = elem.prev;\n\tprev.next = elem;\n\telem.prev = prev;\n};\n\n\n","var isTag = require(\"domelementtype\").isTag;\n\nmodule.exports = {\n\tfilter: filter,\n\tfind: find,\n\tfindOneChild: findOneChild,\n\tfindOne: findOne,\n\texistsOne: existsOne,\n\tfindAll: findAll\n};\n\nfunction filter(test, element, recurse, limit){\n\tif(!Array.isArray(element)) element = [element];\n\n\tif(typeof limit !== \"number\" || !isFinite(limit)){\n\t\tlimit = Infinity;\n\t}\n\treturn find(test, element, recurse !== false, limit);\n}\n\nfunction find(test, elems, recurse, limit){\n\tvar result = [], childs;\n\n\tfor(var i = 0, j = elems.length; i < j; i++){\n\t\tif(test(elems[i])){\n\t\t\tresult.push(elems[i]);\n\t\t\tif(--limit <= 0) break;\n\t\t}\n\n\t\tchilds = elems[i].children;\n\t\tif(recurse && childs && childs.length > 0){\n\t\t\tchilds = find(test, childs, recurse, limit);\n\t\t\tresult = result.concat(childs);\n\t\t\tlimit -= childs.length;\n\t\t\tif(limit <= 0) break;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction findOneChild(test, elems){\n\tfor(var i = 0, l = elems.length; i < l; i++){\n\t\tif(test(elems[i])) return elems[i];\n\t}\n\n\treturn null;\n}\n\nfunction findOne(test, elems){\n\tvar elem = null;\n\n\tfor(var i = 0, l = elems.length; i < l && !elem; i++){\n\t\tif(!isTag(elems[i])){\n\t\t\tcontinue;\n\t\t} else if(test(elems[i])){\n\t\t\telem = elems[i];\n\t\t} else if(elems[i].children.length > 0){\n\t\t\telem = findOne(test, elems[i].children);\n\t\t}\n\t}\n\n\treturn elem;\n}\n\nfunction existsOne(test, elems){\n\tfor(var i = 0, l = elems.length; i < l; i++){\n\t\tif(\n\t\t\tisTag(elems[i]) && (\n\t\t\t\ttest(elems[i]) || (\n\t\t\t\t\telems[i].children.length > 0 &&\n\t\t\t\t\texistsOne(test, elems[i].children)\n\t\t\t\t)\n\t\t\t)\n\t\t){\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nfunction findAll(test, rootElems){\n\tvar result = [];\n\tvar stack = rootElems.slice();\n\twhile(stack.length){\n\t\tvar elem = stack.shift();\n\t\tif(!isTag(elem)) continue;\n\t\tif (elem.children && elem.children.length > 0) {\n\t\t\tstack.unshift.apply(stack, elem.children);\n\t\t}\n\t\tif(test(elem)) result.push(elem);\n\t}\n\treturn result;\n}\n","var ElementType = require(\"domelementtype\");\nvar isTag = exports.isTag = ElementType.isTag;\n\nexports.testElement = function(options, element){\n\tfor(var key in options){\n\t\tif(!options.hasOwnProperty(key));\n\t\telse if(key === \"tag_name\"){\n\t\t\tif(!isTag(element) || !options.tag_name(element.name)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if(key === \"tag_type\"){\n\t\t\tif(!options.tag_type(element.type)) return false;\n\t\t} else if(key === \"tag_contains\"){\n\t\t\tif(isTag(element) || !options.tag_contains(element.data)){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if(!element.attribs || !options[key](element.attribs[key])){\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n\nvar Checks = {\n\ttag_name: function(name){\n\t\tif(typeof name === \"function\"){\n\t\t\treturn function(elem){ return isTag(elem) && name(elem.name); };\n\t\t} else if(name === \"*\"){\n\t\t\treturn isTag;\n\t\t} else {\n\t\t\treturn function(elem){ return isTag(elem) && elem.name === name; };\n\t\t}\n\t},\n\ttag_type: function(type){\n\t\tif(typeof type === \"function\"){\n\t\t\treturn function(elem){ return type(elem.type); };\n\t\t} else {\n\t\t\treturn function(elem){ return elem.type === type; };\n\t\t}\n\t},\n\ttag_contains: function(data){\n\t\tif(typeof data === \"function\"){\n\t\t\treturn function(elem){ return !isTag(elem) && data(elem.data); };\n\t\t} else {\n\t\t\treturn function(elem){ return !isTag(elem) && elem.data === data; };\n\t\t}\n\t}\n};\n\nfunction getAttribCheck(attrib, value){\n\tif(typeof value === \"function\"){\n\t\treturn function(elem){ return elem.attribs && value(elem.attribs[attrib]); };\n\t} else {\n\t\treturn function(elem){ return elem.attribs && elem.attribs[attrib] === value; };\n\t}\n}\n\nfunction combineFuncs(a, b){\n\treturn function(elem){\n\t\treturn a(elem) || b(elem);\n\t};\n}\n\nexports.getElements = function(options, element, recurse, limit){\n\tvar funcs = Object.keys(options).map(function(key){\n\t\tvar value = options[key];\n\t\treturn key in Checks ? Checks[key](value) : getAttribCheck(key, value);\n\t});\n\n\treturn funcs.length === 0 ? [] : this.filter(\n\t\tfuncs.reduce(combineFuncs),\n\t\telement, recurse, limit\n\t);\n};\n\nexports.getElementById = function(id, element, recurse){\n\tif(!Array.isArray(element)) element = [element];\n\treturn this.findOne(getAttribCheck(\"id\", id), element, recurse !== false);\n};\n\nexports.getElementsByTagName = function(name, element, recurse, limit){\n\treturn this.filter(Checks.tag_name(name), element, recurse, limit);\n};\n\nexports.getElementsByTagType = function(type, element, recurse, limit){\n\treturn this.filter(Checks.tag_type(type), element, recurse, limit);\n};\n","// removeSubsets\n// Given an array of nodes, remove any member that is contained by another.\nexports.removeSubsets = function(nodes) {\n\tvar idx = nodes.length, node, ancestor, replace;\n\n\t// Check if each node (or one of its ancestors) is already contained in the\n\t// array.\n\twhile (--idx > -1) {\n\t\tnode = ancestor = nodes[idx];\n\n\t\t// Temporarily remove the node under consideration\n\t\tnodes[idx] = null;\n\t\treplace = true;\n\n\t\twhile (ancestor) {\n\t\t\tif (nodes.indexOf(ancestor) > -1) {\n\t\t\t\treplace = false;\n\t\t\t\tnodes.splice(idx, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tancestor = ancestor.parent;\n\t\t}\n\n\t\t// If the node has been found to be unique, re-insert it.\n\t\tif (replace) {\n\t\t\tnodes[idx] = node;\n\t\t}\n\t}\n\n\treturn nodes;\n};\n\n// Source: http://dom.spec.whatwg.org/#dom-node-comparedocumentposition\nvar POSITION = {\n\tDISCONNECTED: 1,\n\tPRECEDING: 2,\n\tFOLLOWING: 4,\n\tCONTAINS: 8,\n\tCONTAINED_BY: 16\n};\n\n// Compare the position of one node against another node in any other document.\n// The return value is a bitmask with the following values:\n//\n// document order:\n// > There is an ordering, document order, defined on all the nodes in the\n// > document corresponding to the order in which the first character of the\n// > XML representation of each node occurs in the XML representation of the\n// > document after expansion of general entities. Thus, the document element\n// > node will be the first node. Element nodes occur before their children.\n// > Thus, document order orders element nodes in order of the occurrence of\n// > their start-tag in the XML (after expansion of entities). The attribute\n// > nodes of an element occur after the element and before its children. The\n// > relative order of attribute nodes is implementation-dependent./\n// Source:\n// http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n//\n// @argument {Node} nodaA The first node to use in the comparison\n// @argument {Node} nodeB The second node to use in the comparison\n//\n// @return {Number} A bitmask describing the input nodes' relative position.\n//         See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n//         a description of these values.\nvar comparePos = exports.compareDocumentPosition = function(nodeA, nodeB) {\n\tvar aParents = [];\n\tvar bParents = [];\n\tvar current, sharedParent, siblings, aSibling, bSibling, idx;\n\n\tif (nodeA === nodeB) {\n\t\treturn 0;\n\t}\n\n\tcurrent = nodeA;\n\twhile (current) {\n\t\taParents.unshift(current);\n\t\tcurrent = current.parent;\n\t}\n\tcurrent = nodeB;\n\twhile (current) {\n\t\tbParents.unshift(current);\n\t\tcurrent = current.parent;\n\t}\n\n\tidx = 0;\n\twhile (aParents[idx] === bParents[idx]) {\n\t\tidx++;\n\t}\n\n\tif (idx === 0) {\n\t\treturn POSITION.DISCONNECTED;\n\t}\n\n\tsharedParent = aParents[idx - 1];\n\tsiblings = sharedParent.children;\n\taSibling = aParents[idx];\n\tbSibling = bParents[idx];\n\n\tif (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n\t\tif (sharedParent === nodeB) {\n\t\t\treturn POSITION.FOLLOWING | POSITION.CONTAINED_BY;\n\t\t}\n\t\treturn POSITION.FOLLOWING;\n\t} else {\n\t\tif (sharedParent === nodeA) {\n\t\t\treturn POSITION.PRECEDING | POSITION.CONTAINS;\n\t\t}\n\t\treturn POSITION.PRECEDING;\n\t}\n};\n\n// Sort an array of nodes based on their relative position in the document and\n// remove any duplicate nodes. If the array contains nodes that do not belong\n// to the same document, sort order is unspecified.\n//\n// @argument {Array} nodes Array of DOM nodes\n//\n// @returns {Array} collection of unique nodes, sorted in document order\nexports.uniqueSort = function(nodes) {\n\tvar idx = nodes.length, node, position;\n\n\tnodes = nodes.slice();\n\n\twhile (--idx > -1) {\n\t\tnode = nodes[idx];\n\t\tposition = nodes.indexOf(node);\n\t\tif (position > -1 && position < idx) {\n\t\t\tnodes.splice(idx, 1);\n\t\t}\n\t}\n\tnodes.sort(function(a, b) {\n\t\tvar relative = comparePos(a, b);\n\t\tif (relative & POSITION.PRECEDING) {\n\t\t\treturn -1;\n\t\t} else if (relative & POSITION.FOLLOWING) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t});\n\n\treturn nodes;\n};\n"],"sourceRoot":""}