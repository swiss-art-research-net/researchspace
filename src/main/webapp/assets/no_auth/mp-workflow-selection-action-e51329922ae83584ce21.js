(window.webpackJsonp=window.webpackJsonp||[]).push([[389],{1474:function(n,e,t){Object.defineProperty(e,"__esModule",{value:!0});var o=t(11),i=t(1),r=t(56),l=t(162),c=t(34),a=t(214),s=t(2267),u=t(1295),p=function(n){function WorkflowSelectionAction(e,t){var o=n.call(this,e,t)||this;return o.cancellation=new c.Cancellation,o.state={values:{}},o}return o.__extends(WorkflowSelectionAction,n),WorkflowSelectionAction.prototype.componentDidMount=function(){var n=this;this.cancellation.map(l.listen({eventType:s.SelectionEvents.Toggle,target:this.props.selection}).bufferWithTimeOrCount(300,100).filter((function(n){return n.length>0}))).onValue((function(e){return n.setState((function(n){var t={};return e.forEach((function(n){var e=n.data;return t[e.tag]=e.value})),{values:o.__assign(o.__assign({},n.values),t)}}))}))},WorkflowSelectionAction.prototype.componentDidUpdate=function(n,e){this.state.values!==e.values&&this.context.onChange&&this.context.onChange(this.state.values)},WorkflowSelectionAction.prototype.componentWillUnmount=function(){this.cancellation.cancelAll()},WorkflowSelectionAction.prototype.mapChildren=function(n){var e=this;return a.universalChildren(i.Children.map(n,(function(n){if(a.isValidChild(n)){if(a.componentHasType(n,u.WorkflowManagerComponent)){var t=e.state.values,o=Object.keys(t).filter((function(n){return t[n]}));return i.cloneElement(n,{iris:o})}if(n.props.children)return i.cloneElement(n,{},e.mapChildren(n.props.children))}return n})))},WorkflowSelectionAction.prototype.render=function(){return this.mapChildren(this.props.children)},WorkflowSelectionAction.contextTypes=o.__assign(o.__assign({},r.Component.contextTypes),s.SelectionGroupContextTypes),WorkflowSelectionAction}(r.Component);e.WorkflowSelectionAction=p,e.default=p}}]);
//# sourceMappingURL=mp-workflow-selection-action-e51329922ae83584ce21.js.map