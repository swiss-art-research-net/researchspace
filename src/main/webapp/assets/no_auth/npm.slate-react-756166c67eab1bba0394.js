(window.webpackJsonp=window.webpackJsonp||[]).push([[300],{2389:function(e,t,n){"use strict";n.r(t),n.d(t,"Editor",(function(){return pe})),n.d(t,"cloneFragment",(function(){return cloneFragment})),n.d(t,"findDOMNode",(function(){return findDOMNode})),n.d(t,"findDOMRange",(function(){return findDOMRange})),n.d(t,"findNode",(function(){return findNode})),n.d(t,"findRange",(function(){return findRange})),n.d(t,"getEventRange",(function(){return getEventRange})),n.d(t,"getEventTransfer",(function(){return getEventTransfer})),n.d(t,"setEventTransfer",(function(){return setEventTransfer})),n.d(t,"ReactPlugin",(function(){return ReactPlugin}));var r=n(1609),o=n(3516),a=n.n(o),i=n(2387),s=n(3519),l=n(3521),d=n(2390),u=n(3523),c=n.n(u),f=n(3525),p=n(20),g=n.n(p),v=n(1),h=n.n(v),y=n(0),m=n.n(y),C=n(3526),b=n(3527),k=n.n(b),D=n(43),E=n(2388),F=n(3528),w=n.n(F),O=n(1534),x=n.n(O),S=n(2392),T=n(3529),N=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onPaste","onSelect"],R={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};function findDOMNode(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;r.Node.isNode(e)&&(e=e.key);var n=t.document.querySelector('[data-key="'+e+'"]');if(!n)throw new Error('Unable to find a DOM node for "'+e+'". This is often because of forgetting to add `props.attributes` to a custom component.');return n}function removeAllRanges(e){var t=window.document;if(t&&t.body.createTextRange){var n=t.body.createTextRange();n.collapse(),n.select()}else e.removeAllRanges()}var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},A=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},B=/^([\w-]+)(?::(\d+))?$/;var P={parse:function parse(e){var t=B.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var n=slicedToArray(t,3),r=(n[0],n[1]),o=n[2];return{key:r,index:parseInt(o,10)}},stringify:function stringify(e){return e.key+":"+e.index}};function findPoint(e,t,n){Object(i.default)(!r.Value.isValue(n),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var o=function normalizeNodeAndOffset(e,t){if(1==e.nodeType&&e.childNodes.length){var n=t==e.childNodes.length,r=n?"backward":"forward";for(e=getEditableChild(e,n?t-1:t,r);1==e.nodeType&&e.childNodes.length;){var o=n?e.childNodes.length-1:0;e=getEditableChild(e,o,r)}t=n?e.textContent.length:0}return{node:e,offset:t}}(e,t),s=o.node,l=o.offset,d=a()(e),u=s.parentNode,c=u.closest("[data-offset-key]"),f=void 0,p=void 0;if(c){var g=d.document.createRange(),v=c.closest("[data-key]");g.setStart(v,0),g.setEnd(s,l),p=v,f=g.toString().length}else{var h=u.closest("[data-slate-void]");if(!h)return null;if(!(c=h.querySelector("[data-offset-key]")))return null;f=(p=c).textContent.length}f==p.textContent.length&&u.hasAttribute("data-slate-zero-width")&&f--;var y=c.getAttribute("data-offset-key");if(!y)return null;var m=P.parse(y).key,C=n.value;return C.document.hasDescendant(m)?C.document.createPoint({key:m,offset:f}):null}function getEditableChild(e,t,n){for(var r=e.childNodes,o=r[t],a=t,i=!1,s=!1;(8==o.nodeType||1==o.nodeType&&0==o.childNodes.length||1==o.nodeType&&"false"==o.getAttribute("contenteditable"))&&(!i||!s);)a>=r.length?(i=!0,a=t-1,n="backward"):a<0?(s=!0,a=t+1,n="forward"):(o=r[a],"forward"==n&&a++,"backward"==n&&a--);return o||null}var M=R.FRAGMENT,_=R.HTML,L=R.TEXT;function cloneFragment(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};Object(i.default)(!r.Value.isValue(t),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var o=a()(e.target),u=o.getSelection(),c=t.value,f=c.document,p=c.fragment,g=c.selection,v=g.start,h=g.end,y=f.getClosestVoid(v.key,t),m=f.getClosestVoid(h.key,t);if(!u.isCollapsed||y){var C=s.default.serializeNode(p),b=u.getRangeAt(0),k=b.cloneContents(),D=k.childNodes[0];if(k.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(D=e)})),m){var E=b.cloneRange(),F=findDOMNode(m,o);E.setEndAfter(F),k=E.cloneContents()}if(y&&(D=k.childNodes[0].childNodes[1].firstChild),[].slice.call(k.querySelectorAll("[data-slate-zero-width]")).forEach((function(e){var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),3==D.nodeType){var w=o.document.createElement("span");w.style.whiteSpace="pre",w.appendChild(D),k.appendChild(w),D=w}D.setAttribute("data-slate-fragment",C);var O=r.Value.create({document:p}),x=l.default.serialize(O),S=o.document.createElement("div");if(S.appendChild(k),e.clipboardData&&e.clipboardData.setData&&!d.IS_IE)return e.preventDefault(),e.clipboardData.setData(L,x),e.clipboardData.setData(M,C),e.clipboardData.setData(_,S.innerHTML),void n();var T=e.target.closest("[data-slate-editor]");S.setAttribute("contenteditable",!0),S.style.position="absolute",S.style.left="-9999px",T.appendChild(S),u.selectAllChildren(S),o.requestAnimationFrame((function(){T.removeChild(S),removeAllRanges(u),u.addRange(b),n()}))}}function findNode(e,t){Object(i.default)(!r.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.closest("[data-key]");if(!n)return null;var o=n.getAttribute("data-key");return o&&t.value.document.getNode(o)||null}function findDOMPoint(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=findDOMNode(e.key,t),r=0,o=Array.from(n.querySelectorAll("[data-slate-content], [data-slate-zero-width]")),a=!0,i=!1,s=void 0;try{for(var l,d=o[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){var u=l.value,c=u.childNodes[0],f=c.textContent.length,p=f;u.hasAttribute("data-slate-length")&&(p=parseInt(u.getAttribute("data-slate-length"),10));var g=r+p;if(e.offset<=g){var v=Math.min(f,Math.max(0,e.offset-r));return{node:c,offset:v}}r=g}}catch(e){i=!0,s=e}finally{try{!a&&d.return&&d.return()}finally{if(i)throw s}}return null}function findRange(e,t){Object(i.default)(!r.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var n=e.anchorNode||e.startContainer;if(!n)return null;var o=a()(n);(e instanceof o.Range||o.StaticRange&&e instanceof o.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var s=e,l=s.anchorNode,u=s.anchorOffset,c=s.focusNode,f=s.focusOffset,p=s.isCollapsed,g=t.value,v=findPoint(l,u,t),h=p?v:findPoint(c,f,t);if(!v||!h)return null;if(d.IS_IE||d.IS_EDGE){var y=findDOMPoint(v),m=findDOMPoint(h);e={anchorNode:y.node,anchorOffset:y.offset,focusNode:m.node,focusOffset:m.offset}}return g.document.createRange({anchor:v,focus:h})}function getEventRange(e,t){Object(i.default)(!r.Value.isValue(t),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),e.nativeEvent&&(e=e.nativeEvent);var n=e,o=n.x,s=n.y,l=n.target;if(null==o||null==s)return null;var d=t.value.document,u=findNode(l,t);if(!u)return null;if(t.query("isVoid",u)){var c=l.getBoundingClientRect(),f="inline"==u.object?o-c.left<c.left+c.width-o:s-c.top<c.top+c.height-s,p=u.getFirstText(),g=d.createRange();if(f){var v=d.getPreviousText(p.key);if(v)return g.moveToEndOfNode(v)}var h=d.getNextText(p.key);return h?g.moveToStartOfNode(h):null}var y=a()(l),m=void 0;if(y.document.caretRangeFromPoint)m=y.document.caretRangeFromPoint(o,s);else if(y.document.caretPositionFromPoint){var C=y.document.caretPositionFromPoint(o,s);(m=y.document.createRange()).setStart(C.offsetNode,C.offset),m.setEnd(C.offsetNode,C.offset)}else if(y.document.body.createTextRange){m=y.document.body.createTextRange();try{m.moveToPoint(o,s)}catch(e){return null}}var b=findRange(m,t);return b||null}var j=R.FRAGMENT,V=R.HTML,q=R.NODE,U=R.RICH,$=R.TEXT,z=/ data-slate-fragment="([^\s"]+)"/;function getEventTransfer(e){!d.IS_IE&&e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData,n=getType(t,j),r=getType(t,q),o=getType(t,V),a=getType(t,U),i=getType(t,$),l=void 0;if(!n&&o&&~o.indexOf(' data-slate-fragment="')){var u=z.exec(o),c=slicedToArray(u,2),f=(c[0],c[1]);f&&(n=f)}if(i){var p=function getEmbeddedTypes(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!=t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(e){throw new Error("Unable to parse custom Slate drag event data.")}}(i);p[j]&&(n=p[j]),p[q]&&(r=p[q]),p[$]&&(i=p[$])}n&&(n=s.default.deserializeNode(n)),r&&(r=s.default.deserializeNode(r));try{t.items&&t.items.length?l=Array.from(t.items).map((function(e){return"file"==e.kind?e.getAsFile():null})).filter((function(e){return e})):t.files&&t.files.length&&(l=Array.from(t.files))}catch(e){t.files&&t.files.length&&(l=Array.from(t.files))}var g={files:l,fragment:n,html:o,node:r,rich:a,text:i};return g.type=function getTransferType(e){return e.fragment?"fragment":e.node?"node":e.rich&&e.html?"html":e.rich&&e.text?"text":e.files&&e.files.length?"files":e.html?"html":e.text?"text":"unknown"}(g),g}function getType(e,t){return e.types&&e.types.length?-1!==Array.from(e.types).indexOf(t)&&e.getData(t)||null:t==$&&e.getData("Text")||null}var W=R.TEXT;function setEventTransfer(e,t,n){var r=R[t.toUpperCase()];if(!r)throw new Error('Cannot set unknown transfer type "'+r+'".');e.nativeEvent&&(e=e.nativeEvent);var o=e.dataTransfer||e.clipboardData;try{o.setData(r,n),o.setData("text",o.getData("text"))}catch(e){var a="SLATE-DATA-EMBED::",i=o.getData(W),s={};if(i.substring(0,a.length)===a)try{s=JSON.parse(i.substring(a.length))}catch(e){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[W]=i;s[r]=n;var l=""+a+JSON.stringify(s);o.setData(W,l)}}function setSelectionFromDOM(e,t,n){var r=t.value,o=r.document;if(n.rangeCount){var a=findRange(n,t);if(a){var i=a,s=i.anchor,l=i.focus,d=o.getNode(s.key),u=o.getNode(l.key),c=o.getClosestInline(s.key),f=o.getClosestInline(l.key),p=o.getClosestBlock(l.key),g=o.getClosestBlock(s.key);if(g&&!t.isVoid(g)&&0==s.offset&&p&&t.isVoid(p)&&0!=l.offset&&(a=a.setFocus(l.setOffset(0))),c&&!t.isVoid(c)&&s.offset==d.text.length){var v=o.getClosestBlock(s.key).getNextText(s.key);v&&(a=a.moveAnchorTo(v.key,0))}if(f&&!t.isVoid(f)&&l.offset==u.text.length){var h=o.getClosestBlock(l.key).getNextText(l.key);h&&(a=a.moveFocusTo(h.key,0))}var y=o.createSelection(a);y=(y=y.setIsFocused(!0)).set("marks",r.selection.marks),t.select(y)}}else t.blur()}var H=c()("slate:after");function AfterPlugin(){var e=null,t=!1;return{onBeforeInput:function onBeforeInput(e,t,n){var r=t.value;if(!!e.nativeEvent)return e.preventDefault(),t.insertText(e.data),n();var o=e.getTargetRanges(),a=slicedToArray(o,1)[0];if(!a)return n();H("onBeforeInput",{event:e}),e.preventDefault();var i=r.document,s=r.selection,l=findRange(a,t);switch(e.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":t.deleteAtRange(l);break;case"deleteWordBackward":t.deleteWordBackwardAtRange(l);break;case"deleteWordForward":t.deleteWordForwardAtRange(l);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":t.deleteLineBackwardAtRange(l);break;case"deleteSoftLineForward":case"deleteHardLineForward":t.deleteLineForwardAtRange(l);break;case"insertLineBreak":case"insertParagraph":i.hasVoidParent(s.start.path,t)?t.moveToStartOfNextText():t.splitBlockAtRange(l);break;case"insertFromYank":case"insertReplacementText":case"insertText":var d=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==d)break;t.insertTextAtRange(l,d,s.marks),s.marks&&r.document!=t.value.document&&t.select({marks:null})}n()},onBlur:function onBlur(e,t,n){H("onBlur",{event:e}),t.blur(),n()},onClick:function onClick(e,t,n){if(t.readOnly)return n();var r=t.value.document,o=findNode(e.target,t);if(!o)return n();H("onClick",{event:e});var a=r.getAncestors(o.key);o&&(t.isVoid(o)||a.some((function(e){return t.isVoid(e)})))&&t.focus().moveToEndOfNode(o),n()},onCopy:function onCopy(e,t,n){H("onCopy",{event:e}),cloneFragment(e,t),n()},onCut:function onCut(e,t,n){H("onCut",{event:e}),cloneFragment(e,t,(function(){var e=t.value,n=e.endBlock,r=e.endInline,o=e.selection.isCollapsed,a=n&&t.isVoid(n)&&o,i=r&&t.isVoid(r)&&o;a?t.removeNodeByKey(n.key):i?t.removeNodeByKey(r.key):t.delete()})),n()},onDragEnd:function onDragEnd(t,n,r){H("onDragEnd",{event:t}),e=null,r()},onDragStart:function onDragStart(t,n,r){H("onDragStart",{event:t}),e=!0;var o=n.value,a=o.document,i=findNode(t.target,n),l=a.getAncestors(i.key),d=i&&(n.isVoid(i)||l.some((function(e){return n.isVoid(e)}))),u=o.blocks.some((function(e){return e.key===i.key}));d&&!u&&n.moveToRangeOfNode(i);var c=n.value.fragment;setEventTransfer(t,"fragment",s.default.serializeNode(c)),r()},onDrop:function onDrop(t,n,r){var o=n.value,i=o.document,s=o.selection,l=a()(t.target),d=getEventRange(t,n);if(!d)return r();H("onDrop",{event:t});var u=getEventTransfer(t),c=u.type,f=u.fragment,p=u.text;if(n.focus(),e&&s.end.key==d.end.key&&s.end.offset<d.end.offset&&(d=d.moveForward(s.start.key==s.end.key?0-s.end.offset+s.start.offset:0-s.end.offset)),e&&n.delete(),n.select(d),"text"==c||"html"==c){var g=d.anchor,v=i.hasVoidParent(g.key,n);if(v){for(var h=i.getNode(g.key);v&&(h=i.getNextText(h.key));)v=i.hasVoidParent(h.key,n);h&&n.moveToStartOfNode(h)}p&&p.split("\n").forEach((function(e,t){t>0&&n.splitBlock(),n.insertText(e)}))}"fragment"==c&&n.insertFragment(f);var y=findDOMNode(i.getNode(d.focus.key),l);y&&y.dispatchEvent(new MouseEvent("mouseup",{view:l,bubbles:!0,cancelable:!0})),r()},onFocus:function onFocus(e,n,r){H("onFocus",{event:e}),!t||d.IS_IE||d.IS_EDGE?n.focus():n.deselect().focus(),r()},onInput:function onInput(e,t,n){H("onInput");var r=a()(e.target),o=r.getSelection();!function setTextFromDomNode(e,t,n){var r=findPoint(n,0,t);if(r){var o=t.value,a=o.document,i=o.selection,s=a.getDescendant(r.key),l=a.getClosestBlock(s.key),d=s.getLeaves(),u=l.getLastText(),c=d.last(),f=0,p=0,g=d.find((function(e){if(f=p,(p+=e.text.length)>r.offset)return!0}))||c,v=g.text,h=n.textContent,y=s==u,m=g==c,C=h.charAt(h.length-1);if(y&&m&&"\n"==C&&(h=h.slice(0,-1)),h!=v){var b=i.moveAnchorTo(r.key,f).moveFocusTo(r.key,p);b=a.resolveRange(b),t.insertTextAtRange(b,h,g.marks)}}}(0,t,o.anchorNode),setSelectionFromDOM(0,t,o),n()},onKeyDown:function onKeyDown(e,t,n){H("onKeyDown",{event:e});var r=t.value,o=r.document,a=r.selection,i=o.hasVoidParent(a.start.path,t);if(f.default.isSplitBlock(e)&&!d.IS_IOS)return i?t.moveToStartOfNextText():t.splitBlock();if(f.default.isDeleteBackward(e)&&!d.IS_IOS)return t.deleteCharBackward();if(f.default.isDeleteForward(e)&&!d.IS_IOS)return t.deleteCharForward();if(f.default.isDeleteLineBackward(e))return t.deleteLineBackward();if(f.default.isDeleteLineForward(e))return t.deleteLineForward();if(f.default.isDeleteWordBackward(e))return t.deleteWordBackward();if(f.default.isDeleteWordForward(e))return t.deleteWordForward();if(f.default.isRedo(e))return t.redo();if(f.default.isUndo(e))return t.undo();if(f.default.isMoveLineBackward(e))return e.preventDefault(),t.moveToStartOfBlock();if(f.default.isMoveLineForward(e))return e.preventDefault(),t.moveToEndOfBlock();if(f.default.isExtendLineBackward(e))return e.preventDefault(),t.moveFocusToStartOfBlock();if(f.default.isExtendLineForward(e))return e.preventDefault(),t.moveFocusToEndOfBlock();if(f.default.isMoveBackward(e))return e.preventDefault(),a.isCollapsed?t.moveBackward():t.moveToStart();if(f.default.isMoveForward(e))return e.preventDefault(),a.isCollapsed?t.moveForward():t.moveToEnd();if(f.default.isMoveWordBackward(e))return e.preventDefault(),t.moveWordBackward();if(f.default.isMoveWordForward(e))return e.preventDefault(),t.moveWordForward();if(f.default.isExtendBackward(e)){var s=r.previousText,l=r.startText,u=s&&o.hasVoidParent(s.key,t);if(i||u||""==l.text)return e.preventDefault(),t.moveFocusBackward()}if(f.default.isExtendForward(e)){var c=r.nextText,p=r.startText,g=c&&o.hasVoidParent(c.key,t);if(i||g||""==p.text)return e.preventDefault(),t.moveFocusForward()}n()},onMouseDown:function onMouseDown(e,n,r){H("onMouseDown",{event:e}),t=!0,r()},onMouseUp:function onMouseUp(e,n,r){H("onMouseUp",{event:e}),t=!1,r()},onPaste:function onPaste(e,t,n){H("onPaste",{event:e});var r=t.value,o=getEventTransfer(e),a=o.type,i=o.fragment,s=o.text;if("fragment"==a&&t.insertFragment(i),"text"==a||"html"==a){if(!s)return n();var d=r.document,u=r.selection,c=r.startBlock;if(t.isVoid(c))return n();var f=c,p=d.getInsertMarksAtRange(u),g=l.default.deserialize(s,{defaultBlock:f,defaultMarks:p}).document;t.insertFragment(g)}n()},onSelect:function onSelect(e,t,n){H("onSelect",{event:e});var r=a()(e.target);setSelectionFromDOM(0,t,r.getSelection()),n()}}}var K=c()("slate:before");function BeforePlugin(){var e=null,t=0,n=!1,r=!1,o=!1;return{onBeforeInput:function onBeforeInput(e,t,n){var r=!!e.nativeEvent;t.readOnly||r&&d.HAS_INPUT_EVENTS_LEVEL_2||(K("onBeforeInput",{event:e}),n())},onBlur:function onBlur(t,n,o){if(!r&&!n.readOnly){var i=t.relatedTarget,s=t.target,l=a()(s);if(e!==l.document.activeElement){if(i){var d=g.a.findDOMNode(n);if(i===d)return;if(i.hasAttribute("data-slate-spacer"))return;var u=findNode(i,n);if(d.contains(i)&&u&&!n.isVoid(u))return}K("onBlur",{event:t}),o()}}},onClick:function onClick(e,t,n){K("onClick",{event:e}),n()},onCompositionEnd:function onCompositionEnd(e,r,o){var a=t;window.requestAnimationFrame((function(){t>a||(n=!1)})),K("onCompositionEnd",{event:e}),o()},onCompositionStart:function onCompositionStart(e,r,o){n=!0,t++,r.value.selection.isCollapsed||r.delete(),K("onCompositionStart",{event:e}),o()},onCopy:function onCopy(e,t,n){var o=a()(e.target);r=!0,o.requestAnimationFrame((function(){return r=!1})),K("onCopy",{event:e}),n()},onCut:function onCut(e,t,n){if(!t.readOnly){var o=a()(e.target);r=!0,o.requestAnimationFrame((function(){return r=!1})),K("onCut",{event:e}),n()}},onDragEnd:function onDragEnd(e,t,n){o=!1,K("onDragEnd",{event:e}),n()},onDragEnter:function onDragEnter(e,t,n){K("onDragEnter",{event:e}),n()},onDragExit:function onDragExit(e,t,n){K("onDragExit",{event:e}),n()},onDragLeave:function onDragLeave(e,t,n){K("onDragLeave",{event:e}),n()},onDragOver:function onDragOver(e,t,n){var r=findNode(e.target,t);t.isVoid(r)&&e.preventDefault(),d.IS_IE&&e.preventDefault(),o||(o=!0,d.IS_IE||(e.nativeEvent.dataTransfer.dropEffect="move")),K("onDragOver",{event:e}),n()},onDragStart:function onDragStart(e,t,n){o=!0,K("onDragStart",{event:e}),n()},onDrop:function onDrop(e,t,n){t.readOnly||(e.preventDefault(),K("onDrop",{event:e}),n())},onFocus:function onFocus(t,n,o){if(!r&&!n.readOnly){var i=g.a.findDOMNode(n),s=a()(t.target);e=s.document.activeElement,d.IS_FIREFOX&&t.target!=i?i.focus():(K("onFocus",{event:t}),o())}},onInput:function onInput(e,t,r){n||t.value.selection.isBlurred||(K("onInput",{event:e}),r())},onKeyDown:function onKeyDown(e,t,r){t.readOnly||(n?f.default.isCompose(e)&&e.preventDefault():(!d.IS_IOS&&(f.default.isBold(e)||f.default.isDeleteBackward(e)||f.default.isDeleteForward(e)||f.default.isDeleteLineBackward(e)||f.default.isDeleteLineForward(e)||f.default.isDeleteWordBackward(e)||f.default.isDeleteWordForward(e)||f.default.isItalic(e)||f.default.isRedo(e)||f.default.isSplitBlock(e)||f.default.isTransposeCharacter(e)||f.default.isUndo(e))&&e.preventDefault(),K("onKeyDown",{event:e}),r()))},onPaste:function onPaste(e,t,n){t.readOnly||(e.preventDefault(),K("onPaste",{event:e}),n())},onSelect:function onSelect(t,o,i){if(!r&&!n&&!o.readOnly){var s=a()(t.target);e=s.document.activeElement,K("onSelect",{event:t}),i()}}}}function DOMPlugin(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plugins,n=void 0===t?[]:t,r=BeforePlugin(),o=AfterPlugin();return[r].concat(toConsumableArray(n),[o])}var X=c()("slate:leaves"),J=function(e){function Leaf(){var e,t,n;classCallCheck(this,Leaf);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=possibleConstructorReturn(this,(e=Leaf.__proto__||Object.getPrototypeOf(Leaf)).call.apply(e,[this].concat(o))),G.call(n),possibleConstructorReturn(n,t)}return inherits(Leaf,e),A(Leaf,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return e.index!=this.props.index||e.marks!=this.props.marks||e.text!=this.props.text||e.parent!=this.props.parent}},{key:"render",value:function render(){this.debug("render",this);var e=this.props,t=e.node,n=e.index,r=P.stringify({key:t.key,index:n});return h.a.createElement("span",{"data-slate-leaf":!0,"data-offset-key":r},this.renderMarks())}},{key:"renderMarks",value:function renderMarks(){var e=this.props,t=e.marks,n=e.node,r=e.offset,o=e.text,a=e.editor,i=this.renderText(),s={"data-slate-mark":!0};return t.reduce((function(e,i){var l={editor:a,mark:i,marks:t,node:n,offset:r,text:o,children:e,attributes:s};return a.run("renderMark",l)||e}),i)}},{key:"renderText",value:function renderText(){var e=this.props,t=e.block,n=e.node,r=e.editor,o=e.parent,a=e.text,i=e.index,s=e.leaves;if(r.query("isVoid",o))return h.a.createElement("span",{"data-slate-zero-width":"z","data-slate-length":o.text.length},"\ufeff");if(""===a&&"block"===o.object&&""===o.text&&o.nodes.last()===n)return h.a.createElement("span",{"data-slate-zero-width":"n","data-slate-length":0},"\ufeff",h.a.createElement("br",null));if(""===a)return h.a.createElement("span",{"data-slate-zero-width":"z","data-slate-length":0},"\ufeff");var l=t.getLastText(),d=a.charAt(a.length-1),u=n===l,c=i===s.size-1;return u&&c&&"\n"===d?h.a.createElement("span",{"data-slate-content":!0},a+"\n"):h.a.createElement("span",{"data-slate-content":!0},a)}}]),Leaf}(h.a.Component);J.propTypes={block:C.default.block.isRequired,editor:m.a.object.isRequired,index:m.a.number.isRequired,leaves:C.default.leaves.isRequired,marks:C.default.marks.isRequired,node:C.default.node.isRequired,offset:m.a.number.isRequired,parent:C.default.node.isRequired,text:m.a.string.isRequired};var G=function _initialiseProps(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];X.apply(void 0,[t,e.props.node.key+"-"+e.props.index].concat(r))}},Q=c()("slate:node"),Y=function(e){function Text(){var e,t,n;classCallCheck(this,Text);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=possibleConstructorReturn(this,(e=Text.__proto__||Object.getPrototypeOf(Text)).call.apply(e,[this].concat(o))),Z.call(n),possibleConstructorReturn(n,t)}return inherits(Text,e),A(Text,[{key:"render",value:function render(){var e=this;this.debug("render",this);var t=this.props,n=t.decorations,o=t.editor,a=t.node,i=t.style,s=o.value.document,l=a.key,d=n.filter((function(e){var t=e.start,n=e.end;if(t.key===l||n.key===l)return!0;if(t.key===n.key)return!1;var o=s.assertPath(l);return-1!==r.PathUtils.compare(o,t.path)&&1!==r.PathUtils.compare(o,n.path)})),u=0===d.size?a.getLeaves():a.getLeaves(d),c=0,f=u.map((function(t,n){var r=e.renderLeaf(u,t,n,c);return c+=t.text.length,r}));return h.a.createElement("span",{"data-key":l,style:i},f)}}]),Text}(h.a.Component);Y.propTypes={block:C.default.block,decorations:k.a.list.isRequired,editor:m.a.object.isRequired,node:C.default.node.isRequired,parent:C.default.node.isRequired,style:m.a.object},Y.defaultProps={style:null};var Z=function _initialiseProps(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node,i=a.key;Q.apply(void 0,[t,i+" (text)"].concat(r))},this.shouldComponentUpdate=function(t){var n=t,r=e.props;if(n.node!=r.node)return!0;if("block"==n.parent.object){var o=r.parent.nodes.last(),a=n.parent.nodes.last();if(r.node==o&&n.node!=a)return!0}return!n.decorations.equals(r.decorations)},this.renderLeaf=function(t,n,r,o){var a=e.props,i=a.block,s=a.node,l=a.parent,d=a.editor,u=n.text,c=n.marks;return h.a.createElement(J,{key:s.key+"-"+r,block:i,editor:d,index:r,marks:c,node:s,offset:o,parent:l,leaves:t,text:u})}},ee=c()("slate:void"),te=function(e){function Void(){var e,t,n;classCallCheck(this,Void);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=possibleConstructorReturn(this,(e=Void.__proto__||Object.getPrototypeOf(Void)).call.apply(e,[this].concat(o))),ne.call(n),possibleConstructorReturn(n,t)}return inherits(Void,e),A(Void,[{key:"render",value:function render(){var e=this.props,t=e.children,n=e.node,r=e.readOnly,o="block"==n.object?"div":"span",a=h.a.createElement(o,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},this.renderText()),i=h.a.createElement(o,{contentEditable:!!r&&null},t);return this.debug("render",{props:e}),h.a.createElement(o,{"data-slate-void":!0,"data-key":n.key,contentEditable:!(!r&&"block"!=n.object)&&null},r?null:a,i)}}]),Void}(h.a.Component);te.propTypes={block:C.default.block,children:m.a.any.isRequired,editor:m.a.object.isRequired,node:C.default.node.isRequired,parent:C.default.node.isRequired,readOnly:m.a.bool.isRequired};var ne=function _initialiseProps(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node,i=a.key,s=a.type,l=i+" ("+s+")";ee.apply(void 0,[t,""+l].concat(r))},this.renderText=function(){var t=e.props,n=t.block,r=t.decorations,o=t.node,a=t.readOnly,i=t.editor,s=o.getFirstText();return h.a.createElement(Y,{block:"block"==o.object?o:n,decorations:r,editor:i,key:s.key,node:s,parent:o,readOnly:a})}};function getChildrenDecorations(e,t){var n=Object(D.Set)().asMutable(),r=[];return function orderChildDecorations(e,t){if(t.isEmpty())return e.nodes.toArray().map((function(e,t){return{child:e,index:t}}));var n=(o={},a=e.key,i=0,a in o?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i,o),r=1;var o,a,i;e.forEachDescendant((function(e){n[e.key]=r,r+=1}));var s=e.nodes.toArray(),l=s.map((function(e,t){return{child:e,index:t,order:n[e.key]}}));return t.forEach((function(e){var t=n[e.start.key],o=void 0===t?0:function getContainingChildOrder(e,t,n){var r=e.findIndex((function(e){return n<t[e.key]}));if(r<=0)return 0;var o=e[r-1];return t[o.key]}(s,n,t);l.push({isRangeStart:!0,order:o-.5,decoration:e});var a=(n[e.end.key]||r)+.5;l.push({isRangeEnd:!0,order:a,decoration:e})})),l.sort((function(e,t){return e.order>t.order?1:-1}))}(e,t).forEach((function(e){e.isRangeStart?n.add(e.decoration):e.isRangeEnd?n.remove(e.decoration):r.push(n.toList())})),r}var re=c()("slate:node"),oe=function(e){function Node$$1(){var e,t,n;classCallCheck(this,Node$$1);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=n=possibleConstructorReturn(this,(e=Node$$1.__proto__||Object.getPrototypeOf(Node$$1)).call.apply(e,[this].concat(o))),ae.call(n),possibleConstructorReturn(n,t)}return inherits(Node$$1,e),A(Node$$1,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){var t=this.props,n=t.editor.run("shouldNodeComponentUpdate",t,e),r=e,o=t;if(null!=n){if(n)return!0;Object(E.default)(!1!==n,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return r.readOnly!=o.readOnly||(r.node!=o.node||(!(!r.isSelected&&!o.isSelected)||(!(!r.isFocused&&!o.isFocused)||!r.decorations.equals(o.decorations))))}},{key:"render",value:function render(){var e=this;this.debug("render",this);var t=this.props,n=t.editor,r=t.isSelected,o=t.isFocused,a=t.node,i=t.decorations,s=t.parent,l=t.readOnly,d=n.value.selection,u=a.getSelectionIndexes(d,r),c=i.concat(a.getDecorations(n)),f=getChildrenDecorations(a,c),p=[];a.nodes.forEach((function(t,n){var r=!!u&&u.start<=n&&n<u.end;p.push(e.renderNode(t,r,f[n]))}));var g={"data-key":a.key};a.isLeafBlock()&&("rtl"==a.getTextDirection()&&(g.dir="rtl"));var v={key:a.key,editor:n,isFocused:o,isSelected:r,node:a,parent:s,readOnly:l},y=n.run("renderNode",I({},v,{attributes:g,children:p}));return n.query("isVoid",a)?h.a.createElement(te,this.props,y):y}}]),Node$$1}(h.a.Component);oe.propTypes={block:C.default.block,decorations:k.a.list.isRequired,editor:m.a.object.isRequired,isFocused:m.a.bool.isRequired,isSelected:m.a.bool.isRequired,node:C.default.node.isRequired,parent:C.default.node.isRequired,readOnly:m.a.bool.isRequired};var ae=function _initialiseProps(){var e=this;this.debug=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=e.props.node,i=a.key,s=a.type;re.apply(void 0,[t,i+" ("+s+")"].concat(r))},this.renderNode=function(t,n,r){var o=e.props,a=o.block,i=o.editor,s=o.node,l=o.readOnly,d=o.isFocused,u="text"==t.object?Y:oe;return h.a.createElement(u,{block:"block"==s.object?s:a,decorations:r,editor:i,isSelected:n,isFocused:d&&n,key:t.key,node:t,parent:s,readOnly:l})}};function findDOMRange(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=e.anchor,r=e.focus,o=e.isBackward,a=e.isCollapsed,i=findDOMPoint(n,t),s=a?i:findDOMPoint(r,t);if(!i||!s)return null;var l=t.document.createRange(),d=o?s:i,u=o?i:s;return l.setStart(d.node,d.offset),l.setEnd(u.node,u.offset),l}var ie=["auto","overlay","scroll"],se=d.IS_IOS&&!!window.navigator.userAgent.match(/os 11_/i);function scrollToSelection(e){if(!se&&e.anchorNode){var t=a()(e.anchorNode),n=function findScrollContainer(e,t){for(var n=e.parentNode,r=void 0;!r&&n.parentNode;){var o=t.getComputedStyle(n).overflowY;if(ie.includes(o)){r=n;break}n=n.parentNode}return r||t.document.body}(e.anchorNode,t),r=n==t.document.body||n==t.document.documentElement,o=w()(e),i=e.getRangeAt(0).cloneRange();i.collapse(o);var s=i.getBoundingClientRect();d.IS_SAFARI&&i.collapsed&&0==s.top&&0==s.height&&(0==i.startOffset?i.setEnd(i.endContainer,1):i.setStart(i.startContainer,i.startOffset-1),0==(s=i.getBoundingClientRect()).top&&0==s.height&&i.getClientRects().length&&(s=i.getClientRects()[0]));var l=void 0,u=void 0,c=void 0,f=void 0,p=0,g=0,v=0,h=0,y=0,m=0,C=0,b=0;if(r){l=t.innerWidth,u=t.innerHeight,c=t.pageYOffset,f=t.pageXOffset}else{var k=n.offsetWidth,D=n.offsetHeight,E=n.scrollTop,F=n.scrollLeft,O=t.getComputedStyle(n),x=O.borderTopWidth,S=O.borderBottomWidth,T=O.borderLeftWidth,N=O.borderRightWidth,R=O.paddingTop,A=O.paddingBottom,I=O.paddingLeft,B=O.paddingRight,P=n.getBoundingClientRect();l=k,u=D,p=P.top+parseInt(x,10),g=P.left+parseInt(T,10),v=parseInt(x,10)+parseInt(S,10),h=parseInt(T,10)+parseInt(N,10),y=parseInt(R,10),m=parseInt(A,10),C=parseInt(I,10),b=parseInt(B,10),c=E,f=F}var M=s.top+c-p,_=s.left+f-g,L=f,j=c;_<f?L=_-C:_+s.width+h>f+l&&(L=_+h+b-l),M<c?j=M-y:M+s.height+v>c+u&&(j=M+v+m+s.height-u),r?t.scrollTo(L,j):(n.scrollTop=j,n.scrollLeft=L)}}var le=/Permission denied to access property "nodeType"/,de=c()("slate:content"),ue=function(e){function Content(){var e,t,n;classCallCheck(this,Content);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=n=possibleConstructorReturn(this,(e=Content.__proto__||Object.getPrototypeOf(Content)).call.apply(e,[this].concat(o))),n.tmp={isUpdatingSelection:!1},n.handlers=N.reduce((function(e,t){return e[t]=function(e){return n.onEvent(t,e)},e}),{}),n.updateSelection=function(){var e=n.props.editor.value.selection,t=e.isBackward,r=a()(n.element),o=r.getSelection(),i=r.document.activeElement;if(o){var s=o.rangeCount,l=o.anchorNode,u=!1;if(e.isBlurred&&i===n.element&&(n.element.blur(),u=!0),e.isUnset&&s&&n.isInEditor(l)&&(removeAllRanges(o),u=!0),e.isFocused&&i!==n.element&&(n.element.focus({preventScroll:!0}),u=!0),e.isFocused&&e.isSet){var c=!!s&&o.getRangeAt(0),f=findDOMRange(e,r);if(!f)return void Object(E.default)(!1,"Unable to find a native DOM range from the current selection.");var p=f.startContainer,g=f.startOffset,v=f.endContainer,h=f.endOffset;if(c&&(p==c.startContainer&&g==c.startOffset&&v==c.endContainer&&h==c.endOffset||p==c.endContainer&&g==c.endOffset&&v==c.startContainer&&h==c.startOffset))return;u=!0,n.tmp.isUpdatingSelection=!0,removeAllRanges(o),o.setBaseAndExtent?t?o.setBaseAndExtent(f.endContainer,f.endOffset,f.startContainer,f.startOffset):o.setBaseAndExtent(f.startContainer,f.startOffset,f.endContainer,f.endOffset):o.addRange(f),scrollToSelection(o),setTimeout((function(){d.IS_FIREFOX&&n.element&&n.element.focus(),n.tmp.isUpdatingSelection=!1}))}u&&de("updateSelection",{selection:e,native:o,activeElement:i})}},n.ref=function(e){n.element=e},n.isInEditor=function(e){var t=n.element,r=void 0;try{if(8===e.nodeType)return!1;r=3===e.nodeType?e.parentNode:e}catch(e){if(d.IS_FIREFOX&&le.test(e.message))return!1;throw e}return r.isContentEditable&&(r===t||r.closest("[data-slate-editor]")===t)},n.onNativeSelectionChange=x()((function(e){n.props.readOnly||a()(e.target).document.activeElement===n.element&&n.props.onEvent("onSelect",e)}),100),n.renderNode=function(e,t,r){var o=n.props,a=o.editor,i=o.readOnly,s=a.value,l=s.document,d=s.selection.isFocused;return h.a.createElement(oe,{block:null,editor:a,decorations:r,isSelected:t,isFocused:d&&t,key:e.key,node:e,parent:l,readOnly:i})},possibleConstructorReturn(n,t)}return inherits(Content,e),A(Content,[{key:"componentDidMount",value:function componentDidMount(){a()(this.element).document.addEventListener("selectionchange",this.onNativeSelectionChange),d.HAS_INPUT_EVENTS_LEVEL_2&&this.element.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection()}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e=a()(this.element);e&&e.document.removeEventListener("selectionchange",this.onNativeSelectionChange),d.HAS_INPUT_EVENTS_LEVEL_2&&this.element.removeEventListener("beforeinput",this.handlers.onBeforeInput)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.updateSelection()}},{key:"onEvent",value:function onEvent(e,t){if(de("onEvent",e),!this.tmp.isUpdatingSelection||"onSelect"!=e&&"onBlur"!=e&&"onFocus"!=e){if("onSelect"==e){var n=this.props.editor,r=n.value.selection,o=findRange(a()(t.target).getSelection(),n);if(o&&o.equals(r.toRange()))return void this.updateSelection()}if("onDragEnd"==e||"onDragEnter"==e||"onDragExit"==e||"onDragLeave"==e||"onDragOver"==e||"onDragStart"==e||"onDrop"==e)if(t.target.closest("[data-slate-editor]")!==this.element)return;("onBeforeInput"!=e&&"onBlur"!=e&&"onCompositionEnd"!=e&&"onCompositionStart"!=e&&"onCopy"!=e&&"onCut"!=e&&"onFocus"!=e&&"onInput"!=e&&"onKeyDown"!=e&&"onKeyUp"!=e&&"onPaste"!=e&&"onSelect"!=e||this.isInEditor(t.target))&&this.props.onEvent(e,t)}}},{key:"render",value:function render(){var e=this,t=this.props,n=this.handlers,r=t.id,o=t.className,a=t.readOnly,i=t.editor,s=t.tabIndex,l=t.role,d=t.tagName,u=t.spellCheck,c=i.value,f=d,p=c.document,g=c.selection,v=c.decorations,y=p.getSelectionIndexes(g),m=p.getDecorations(i).concat(v),C=getChildrenDecorations(p,m),b=p.nodes.toArray().map((function(t,n){var r=!!y&&y.start<=n&&n<y.end;return e.renderNode(t,r,C[n])})),k=I({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},a?{}:{WebkitUserModify:"read-write-plaintext-only"},t.style);return de("render",{props:t}),h.a.createElement(f,I({},n,{"data-slate-editor":!0,ref:this.ref,"data-key":p.key,contentEditable:!a||null,suppressContentEditableWarning:!0,id:r,className:o,autoCorrect:t.autoCorrect?"on":"off",spellCheck:u,style:k,role:a?null:l||"textbox",tabIndex:s,"data-gramm":!1}),b)}}]),Content}(h.a.Component);ue.propTypes={autoCorrect:m.a.bool.isRequired,className:m.a.string,editor:m.a.object.isRequired,id:m.a.string,readOnly:m.a.bool.isRequired,role:m.a.string,spellCheck:m.a.bool.isRequired,style:m.a.object,tabIndex:m.a.number,tagName:m.a.string},ue.defaultProps={style:{},tagName:"div"};var ce=[].concat(toConsumableArray(N),["commands","decorateNode","queries","renderEditor","renderMark","renderNode","schema"]);function ReactPlugin(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.placeholder,n=e.plugins,r=void 0===n?[]:n;function decorateNode(e,t,n){return[]}function renderEditor(e,t,n){return h.a.createElement(ue,{autoCorrect:e.autoCorrect,className:e.className,editor:t,id:e.id,onEvent:function onEvent(e,n){return t.run(e,n)},readOnly:e.readOnly,role:e.role,spellCheck:e.spellCheck,style:e.style,tabIndex:e.tabIndex,tagName:e.tagName})}function renderNode(e,t,n){var r=e.attributes,o=e.children,a=e.node.object;if("block"!=a&&"inline"!=a)return null;var i="block"==a?"div":"span";return h.a.createElement(i,I({},r,{style:{position:"relative"}}),o)}var o=[],a=ce.reduce((function(t,n){return n in e&&(t[n]=e[n]),t}),{});return o.push(DOMPlugin({plugins:[a].concat(toConsumableArray(r))})),t&&o.push(Object(S.default)({placeholder:t,when:function when(e,t){return"document"===t.object&&""===t.text&&1===t.nodes.size&&1===t.getTexts().size}})),o.push({decorateNode,renderEditor,renderNode}),o}var fe=c()("slate:editor"),pe=function(e){function Editor$$1(){var e,t,n;classCallCheck(this,Editor$$1);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return t=n=possibleConstructorReturn(this,(e=Editor$$1.__proto__||Object.getPrototypeOf(Editor$$1)).call.apply(e,[this].concat(a))),n.state={value:n.props.defaultValue},n.tmp={mounted:!1,change:null,resolves:0,updates:0},n.resolveController=Object(T.default)((function(){Object(E.default)(n.tmp.resolves<5||n.tmp.resolves!==n.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands`, `queries` or `placeholder` prop on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),n.tmp.resolves++;var e=ReactPlugin(I({},n.props,{value:n.props.value||n.state.value}));n.controller=new r.Editor({plugins:[e],onChange:function onChange(e){n.tmp.mounted?n.handleChange(e):n.tmp.change=e}},{controller:n,construct:!1}),n.controller.run("onConstruct")})),possibleConstructorReturn(n,t)}return inherits(Editor$$1,e),A(Editor$$1,[{key:"componentDidMount",value:function componentDidMount(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.focus(),this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.tmp.updates++,this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.tmp.mounted=!1}},{key:"render",value:function render(){fe("render",this);var e=I({},this.props,{editor:this}),t=e.commands,n=e.placeholder,r=e.plugins,o=e.queries,a=e.schema;this.resolveController(r,a,t,o,n);var i=e.options,s=e.readOnly,l=e.value,d=this.state.value,u=l||d;return this.controller.setReadOnly(s),this.controller.setValue(u,i),this.controller.run("renderEditor",I({},e,{value:u}))}},{key:"handleChange",value:function handleChange(e){var t=this.props.onChange;this.state.value&&this.setState({value:e.value}),t(e)}},{key:"applyOperation",value:function applyOperation(){var e;return(e=this.controller).applyOperation.apply(e,arguments)}},{key:"command",value:function command(){var e;return(e=this.controller).command.apply(e,arguments)}},{key:"hasCommand",value:function hasCommand(){var e;return(e=this.controller).hasCommand.apply(e,arguments)}},{key:"hasQuery",value:function hasQuery(){var e;return(e=this.controller).hasQuery.apply(e,arguments)}},{key:"normalize",value:function normalize(){var e;return(e=this.controller).normalize.apply(e,arguments)}},{key:"query",value:function query(){var e;return(e=this.controller).query.apply(e,arguments)}},{key:"registerCommand",value:function registerCommand(){var e;return(e=this.controller).registerCommand.apply(e,arguments)}},{key:"registerQuery",value:function registerQuery(){var e;return(e=this.controller).registerQuery.apply(e,arguments)}},{key:"run",value:function run(){var e;return(e=this.controller).run.apply(e,arguments)}},{key:"withoutNormalizing",value:function withoutNormalizing(){var e;return(e=this.controller).withoutNormalizing.apply(e,arguments)}},{key:"call",value:function call(){var e;return(e=this.controller).call.apply(e,arguments)}},{key:"change",value:function change(){var e;return(e=this.controller).change.apply(e,arguments)}},{key:"onChange",value:function onChange(){var e;return(e=this.controller).onChange.apply(e,arguments)}},{key:"applyOperations",value:function applyOperations(){var e;return(e=this.controller).applyOperations.apply(e,arguments)}},{key:"setOperationFlag",value:function setOperationFlag(){var e;return(e=this.controller).setOperationFlag.apply(e,arguments)}},{key:"getFlag",value:function getFlag(){var e;return(e=this.controller).getFlag.apply(e,arguments)}},{key:"unsetOperationFlag",value:function unsetOperationFlag(){var e;return(e=this.controller).unsetOperationFlag.apply(e,arguments)}},{key:"withoutNormalization",value:function withoutNormalization(){var e;return(e=this.controller).withoutNormalization.apply(e,arguments)}},{key:"operations",get:function get$$1(){return this.controller.operations}},{key:"readOnly",get:function get$$1(){return this.controller.readOnly}},{key:"value",get:function get$$1(){return this.controller.value}},{key:"editor",get:function get$$1(){return this.controller.editor}},{key:"schema",get:function get$$1(){Object(i.default)(!1,"As of Slate 0.42, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function get$$1(){Object(i.default)(!1,"As of Slate 0.42, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),Editor$$1}(h.a.Component);pe.propTypes=I({autoCorrect:m.a.bool,autoFocus:m.a.bool,className:m.a.string,defaultValue:C.default.value,id:m.a.string,onChange:m.a.func,options:m.a.object,placeholder:m.a.any,plugins:m.a.array,readOnly:m.a.bool,role:m.a.string,schema:m.a.object,spellCheck:m.a.bool,style:m.a.object,tabIndex:m.a.number,value:C.default.value},N.reduce((function(e,t){return e[t]=m.a.func,e}),{})),pe.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function onChange(){},options:{},placeholder:"",plugins:[],readOnly:!1,schema:{},spellCheck:!0};var ge={Editor:pe,cloneFragment,findDOMNode,findDOMRange,findNode,findRange,getEventRange,getEventTransfer,setEventTransfer,ReactPlugin};t.default=ge},3523:function(e,t,n){"use strict";(function(r){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function log(){var e;return"object"===("undefined"==typeof console?"undefined":_typeof(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function formatArgs(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function save(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function load(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function localstorage(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(3524)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(119))},3524:function(e,t,n){"use strict";e.exports=function setup(e){function selectColor(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return createDebug.colors[Math.abs(t)%createDebug.colors.length]}function createDebug(e){var t;function debug(){if(debug.enabled){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=debug,a=Number(new Date),i=a-(t||a);o.diff=i,o.prev=t,o.curr=a,t=a,n[0]=createDebug.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var s=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,t){if("%%"===e)return e;s++;var r=createDebug.formatters[t];if("function"==typeof r){var a=n[s];e=r.call(o,a),n.splice(s,1),s--}return e})),createDebug.formatArgs.call(o,n);var l=o.log||createDebug.log;l.apply(o,n)}}return debug.namespace=e,debug.enabled=createDebug.enabled(e),debug.useColors=createDebug.useColors(),debug.color=selectColor(e),debug.destroy=destroy,debug.extend=extend,"function"==typeof createDebug.init&&createDebug.init(debug),createDebug.instances.push(debug),debug}function destroy(){var e=createDebug.instances.indexOf(this);return-1!==e&&(createDebug.instances.splice(e,1),!0)}function extend(e,t){return createDebug(this.namespace+(void 0===t?":":t)+e)}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(e){if(e instanceof Error)return e.stack||e.message;return e},createDebug.disable=function disable(){createDebug.enable("")},createDebug.enable=function enable(e){var t;createDebug.save(e),createDebug.names=[],createDebug.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+e.substr(1)+"$")):createDebug.names.push(new RegExp("^"+e+"$")));for(t=0;t<createDebug.instances.length;t++){var o=createDebug.instances[t];o.enabled=createDebug.enabled(o.namespace)}},createDebug.enabled=function enabled(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=createDebug.skips.length;t<n;t++)if(createDebug.skips[t].test(e))return!1;for(t=0,n=createDebug.names.length;t<n;t++)if(createDebug.names[t].test(e))return!0;return!1},createDebug.humanize=n(2367),Object.keys(e).forEach((function(t){createDebug[t]=e[t]})),createDebug.instances=[],createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=selectColor,createDebug.enable(createDebug.load()),createDebug}}}]);
//# sourceMappingURL=npm.slate-react-756166c67eab1bba0394.js.map