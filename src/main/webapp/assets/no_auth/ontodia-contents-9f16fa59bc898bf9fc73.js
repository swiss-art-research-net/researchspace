(window.webpackJsonp=window.webpackJsonp||[]).push([[445],{1465:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(1),a=n(1),r=n(33),s=n(56),l=n(162),p=n(634),c=n(23),d=n(214),m=n(630),u=n(117),h=n(1835),v=n(1845),f=n(1466),C=function(e){function OntodiaContents(t,n){var i=e.call(this,t,n)||this;return i.cancellation=new p.Cancellation,i.listenToEvents=function(){i.cancellation.map(l.listen({eventType:v.DiagramChanged,source:i.props.id})).observe({value:function(e){var t=e.data,n=t.model,o=t.authoringState,a=t.temporaryState;return i.updateElements({model:n,authoringState:o,temporaryState:a})}})},i.onCreateSet=function(){var hideDialog=function(){return u.getOverlaySystem().hide("create-set-dialog")};u.getOverlaySystem().show("create-set-dialog",a.createElement(h.SaveSetDialog,{onSave:function(e){var t=[];return i.state.elements.forEach((function(e){var n=e.iri;e.persisted&&t.push(c.Rdf.iri(n))})),h.createNewSetFromItems(i.props.id,e,t).map(hideDialog)},onHide:hideDialog,maxSetSize:r.Nothing()}))},i.state={elements:[]},i}return i.__extends(OntodiaContents,e),OntodiaContents.prototype.componentDidMount=function(){this.listenToEvents()},OntodiaContents.prototype.componentWillUnmount=function(){this.cancellation.cancelAll()},OntodiaContents.prototype.updateElements=function(e){var t=e.model,n=e.authoringState,i=e.temporaryState,o=[];t.elements.forEach((function(e){var t;e.temporary||o.push({iri:e.iri,persisted:(t=e.iri,!n.elements.has(t)&&!i.elements.has(t))})})),this.setState({elements:o})},OntodiaContents.prototype.mapChildren=function(e){var t=this;return o.Children.map(e,(function(e){return d.isValidChild(e)?"button"===e.type&&"submit"===e.props.name?a.cloneElement(e,{onClick:t.onCreateSet}):e.props.children?a.cloneElement(e,{},d.universalChildren(t.mapChildren(e.props.children))):e:e}))},OntodiaContents.prototype.render=function(){var e=this;return o.createElement("div",{className:f.container},o.createElement("div",{className:f.items},this.state.elements.map((function(t){var n=t.iri,i=t.persisted;return a.createElement(m.TemplateItem,{key:n,template:{source:e.props.template,options:{iri:c.Rdf.iri(n),persisted:i}}})}))),this.mapChildren(this.props.children))},OntodiaContents.defaultProps={template:"<div><semantic-link iri='{{iri}}'></semantic-link></div>"},OntodiaContents}(s.Component);t.OntodiaContents=C,t.default=C}}]);
//# sourceMappingURL=ontodia-contents-9f16fa59bc898bf9fc73.js.map