(window.webpackJsonp=window.webpackJsonp||[]).push([[429],{2348:function(e,t,n){"use strict";(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(38))},2349:function(e,t,n){"use strict";e.exports={CONTAINER_HEIGHT_SCALE_FACTOR:"containerHeightScaleFactor"}},2350:function(e,t,n){"use strict";var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var i=function(){function InfiniteComputer(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InfiniteComputer),this.heightData=e,this.numberOfChildren=t}return o(InfiniteComputer,[{key:"getTotalScrollableHeight",value:function getTotalScrollableHeight(){0}},{key:"getDisplayIndexStart",value:function getDisplayIndexStart(e){0}},{key:"getDisplayIndexEnd",value:function getDisplayIndexEnd(e){0}},{key:"getTopSpacerHeight",value:function getTopSpacerHeight(e){0}},{key:"getBottomSpacerHeight",value:function getBottomSpacerHeight(e){0}}]),InfiniteComputer}();e.exports=i},3347:function(e,t,n){"use strict";(function(t){var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var i=t.React||n(1),r=t.PropTypes||n(0),l=n(2348);n(3348);var a=n(2349),s=n(3351),c=n(2351),u=n(3355),p=function(e){function Infinite(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Infinite);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Infinite.__proto__||Object.getPrototypeOf(Infinite)).call(this,e));f.call(t);var n=t.recomputeInternalStateFromProps(e);t.computedProps=n.computedProps,t.utils=n.utils,t.shouldAttachToBottom=e.displayBottomUpwards;var o=n.newState;return o.scrollTimeout=void 0,o.isScrolling=!1,t.state=o,t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Infinite,e),o(Infinite,null,[{key:"containerHeightScaleFactor",value:function containerHeightScaleFactor(e){if(!c(e))throw new Error("The scale factor must be a number.");return{type:a.CONTAINER_HEIGHT_SCALE_FACTOR,amount:e}}}]),o(Infinite,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){var t=this.recomputeInternalStateFromProps(e);this.computedProps=t.computedProps,this.utils=t.utils,this.setState(t.newState)}},{key:"componentWillUpdate",value:function componentWillUpdate(){this.props.displayBottomUpwards&&(this.preservedScrollState=this.utils.getScrollTop()-this.loadingSpinnerHeight)}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){if(this.loadingSpinnerHeight=this.utils.getLoadingSpinnerHeight(),!e.useWindowAsScrollContainer&&this.props.useWindowAsScrollContainer&&this.utils.subscribeToScrollListener(),this.props.displayBottomUpwards){var n=this.getLowestPossibleScrollTop();this.shouldAttachToBottom&&this.utils.getScrollTop()<n?this.utils.setScrollTop(n):e.isInfiniteLoading&&!this.props.isInfiniteLoading&&this.utils.setScrollTop(this.state.infiniteComputer.getTotalScrollableHeight()-t.infiniteComputer.getTotalScrollableHeight()+this.preservedScrollState)}var o=this.state.numberOfChildren!==t.numberOfChildren;if(o){var i=s.recomputeApertureStateFromOptionsAndScrollTop(this.state,this.utils.getScrollTop());this.setState(i)}o&&!this.hasAllVisibleItems()&&!this.state.isInfiniteLoading&&this.onInfiniteLoad()}},{key:"componentDidMount",value:function componentDidMount(){if(this.utils.subscribeToScrollListener(),this.hasAllVisibleItems()||this.onInfiniteLoad(),this.props.displayBottomUpwards){var e=this.getLowestPossibleScrollTop();this.shouldAttachToBottom&&this.utils.getScrollTop()<e&&this.utils.setScrollTop(e)}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.utils.unsubscribeFromScrollListener()}},{key:"render",value:function render(){var e,t=this;e=this.state.numberOfChildren>1?this.computedProps.children.slice(this.state.displayIndexStart,this.state.displayIndexEnd+1):this.computedProps.children;var n={};this.state.isScrolling&&(n.pointerEvents="none");var o=this.state.infiniteComputer.getTopSpacerHeight(this.state.displayIndexStart),r=this.state.infiniteComputer.getBottomSpacerHeight(this.state.displayIndexEnd);if(this.computedProps.displayBottomUpwards){var l=this.computedProps.containerHeight-this.state.infiniteComputer.getTotalScrollableHeight();l>0&&(o=l-this.loadingSpinnerHeight)}var a=void 0===this.computedProps.infiniteLoadBeginEdgeOffset?null:i.createElement("div",{ref:function ref(e){t.loadingSpinner=e}},this.state.isInfiniteLoading?this.computedProps.loadingSpinnerDelegate:null);return i.createElement("div",{className:this.computedProps.className,ref:function ref(e){t.scrollable=e},style:this.utils.buildScrollableStyle(),onScroll:this.utils.nodeScrollListener},i.createElement("div",{ref:function ref(e){t.smoothScrollingWrapper=e},style:n},i.createElement("div",{ref:function ref(e){t.topSpacer=e},style:s.buildHeightStyle(o)}),this.computedProps.displayBottomUpwards&&a,e,!this.computedProps.displayBottomUpwards&&a,i.createElement("div",{ref:function ref(e){t.bottomSpacer=e},style:s.buildHeightStyle(r)})))}}]),Infinite}(i.Component);p.propTypes={children:r.any,handleScroll:r.func,preloadBatchSize:r.oneOfType([r.number,r.shape({type:r.oneOf(["containerHeightScaleFactor"]).isRequired,amount:r.number.isRequired})]),preloadAdditionalHeight:r.oneOfType([r.number,r.shape({type:r.oneOf(["containerHeightScaleFactor"]).isRequired,amount:r.number.isRequired})]),elementHeight:r.oneOfType([r.number,r.arrayOf(r.number)]).isRequired,containerHeight:r.number,useWindowAsScrollContainer:r.bool,displayBottomUpwards:r.bool.isRequired,infiniteLoadBeginEdgeOffset:r.number,onInfiniteLoad:r.func,loadingSpinnerDelegate:r.node,isInfiniteLoading:r.bool,timeScrollStateLastsForAfterUserScrolls:r.number,className:r.string,styles:r.shape({scrollableStyle:r.object}).isRequired},p.defaultProps={handleScroll:function handleScroll(){},useWindowAsScrollContainer:!1,onInfiniteLoad:function onInfiniteLoad(){},loadingSpinnerDelegate:i.createElement("div",null),displayBottomUpwards:!1,isInfiniteLoading:!1,timeScrollStateLastsForAfterUserScrolls:150,className:"",styles:{}};var f=function _initialiseProps(){var e=this;this.shouldAttachToBottom=!1,this.preservedScrollState=0,this.loadingSpinnerHeight=0,this.generateComputedUtilityFunctions=function(t){var n={getLoadingSpinnerHeight:function(){var t=0;return e.loadingSpinner&&(t=e.loadingSpinner.offsetHeight||0),t}};return t.useWindowAsScrollContainer?(n.subscribeToScrollListener=function(){l.addEventListener("scroll",e.infiniteHandleScroll)},n.unsubscribeFromScrollListener=function(){l.removeEventListener("scroll",e.infiniteHandleScroll)},n.nodeScrollListener=function(){},n.getScrollTop=function(){return l.pageYOffset},n.setScrollTop=function(e){l.scroll(l.pageXOffset,e)},n.scrollShouldBeIgnored=function(){return!1},n.buildScrollableStyle=function(){return{}}):(n.subscribeToScrollListener=function(){},n.unsubscribeFromScrollListener=function(){},n.nodeScrollListener=e.infiniteHandleScroll,n.getScrollTop=function(){return e.scrollable?e.scrollable.scrollTop:0},n.setScrollTop=function(t){e.scrollable&&(e.scrollable.scrollTop=t)},n.scrollShouldBeIgnored=function(t){return t.target!==e.scrollable},n.buildScrollableStyle=function(){return Object.assign({},{height:e.computedProps.containerHeight,overflowX:"hidden",overflowY:"scroll",WebkitOverflowScrolling:"touch"},e.computedProps.styles.scrollableStyle||{})}),n},this.recomputeInternalStateFromProps=function(t){u(t);var n=s.generateComputedProps(t),o=e.generateComputedUtilityFunctions(t),r={};return r.numberOfChildren=i.Children.count(n.children),r.infiniteComputer=s.createInfiniteComputer(n.elementHeight,n.children),void 0!==n.isInfiniteLoading&&(r.isInfiniteLoading=n.isInfiniteLoading),r.preloadBatchSize=n.preloadBatchSize,r.preloadAdditionalHeight=n.preloadAdditionalHeight,r=Object.assign(r,s.recomputeApertureStateFromOptionsAndScrollTop(r,o.getScrollTop())),{computedProps:n,utils:o,newState:r}},this.infiniteHandleScroll=function(t){e.utils.scrollShouldBeIgnored(t)||(e.computedProps.handleScroll(e.scrollable),e.handleScroll(e.utils.getScrollTop()))},this.manageScrollTimeouts=function(){e.state.scrollTimeout&&clearTimeout(e.state.scrollTimeout);var t=e,n=setTimeout((function(){t.setState({isScrolling:!1,scrollTimeout:void 0})}),e.computedProps.timeScrollStateLastsForAfterUserScrolls);e.setState({isScrolling:!0,scrollTimeout:n})},this.getLowestPossibleScrollTop=function(){return e.state.infiniteComputer.getTotalScrollableHeight()-e.computedProps.containerHeight},this.hasAllVisibleItems=function(){return!(c(e.computedProps.infiniteLoadBeginEdgeOffset)&&e.state.infiniteComputer.getTotalScrollableHeight()<e.computedProps.containerHeight)},this.passedEdgeForInfiniteScroll=function(t){var n=e.computedProps.infiniteLoadBeginEdgeOffset;return"number"==typeof n&&(e.computedProps.displayBottomUpwards?!e.shouldAttachToBottom&&t<n:t>e.state.infiniteComputer.getTotalScrollableHeight()-e.computedProps.containerHeight-n)},this.onInfiniteLoad=function(){e.setState({isInfiniteLoading:!0}),e.computedProps.onInfiniteLoad()},this.handleScroll=function(t){e.shouldAttachToBottom=e.computedProps.displayBottomUpwards&&t>=e.getLowestPossibleScrollTop(),e.manageScrollTimeouts();var n=s.recomputeApertureStateFromOptionsAndScrollTop(e.state,t);e.passedEdgeForInfiniteScroll(t)&&!e.state.isInfiniteLoading?(e.setState(Object.assign({},n)),e.onInfiniteLoad()):e.setState(n)}};e.exports=p,t.Infinite=p}).call(this,n(38))},3348:function(e,t,n){"use strict";Object.assign||(Object.assign=n(3349)),Array.isArray||(Array.isArray=n(3350))},3349:function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var n,r,l=toObject(e),a=1;a<arguments.length;a++){for(var s in n=Object(arguments[a]))o.call(n,s)&&(l[s]=n[s]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(n);for(var c=0;c<r.length;c++)i.call(n,r[c])&&(l[r[c]]=n[r[c]])}}return l}},3351:function(e,t,n){"use strict";(function(t){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=n(3352),r=n(3353),l=n(2349),a=t.React||n(1),s=n(2348);e.exports={createInfiniteComputer:function createInfiniteComputer(e,t){var n=a.Children.count(t);return Array.isArray(e)?new r(e,n):new i(e,n)},recomputeApertureStateFromOptionsAndScrollTop:function recomputeApertureStateFromOptionsAndScrollTop(e,t){var n=e.preloadBatchSize,o=e.preloadAdditionalHeight,i=e.infiniteComputer,r=n*(0===n?0:Math.floor(t/n)),l=r+n,a=Math.max(0,r-o),s=Math.min(i.getTotalScrollableHeight(),l+o);return{displayIndexStart:i.getDisplayIndexStart(a),displayIndexEnd:i.getDisplayIndexEnd(s)}},generateComputedProps:function generateComputedProps(e){var t=e.containerHeight,n=e.preloadBatchSize,i=e.preloadAdditionalHeight,r=e.handleScroll,a=e.onInfiniteLoad,c=function _objectWithoutProperties(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["containerHeight","preloadBatchSize","preloadAdditionalHeight","handleScroll","onInfiniteLoad"]),u={};t="number"==typeof t?t:0,u.containerHeight=e.useWindowAsScrollContainer?s.innerHeight:t,u.handleScroll=r||function(){},u.onInfiniteLoad=a||function(){};var p={type:l.CONTAINER_HEIGHT_SCALE_FACTOR,amount:.5},f=n&&n.type?n:p;"number"==typeof n?u.preloadBatchSize=n:"object"===(void 0===f?"undefined":o(f))&&f.type===l.CONTAINER_HEIGHT_SCALE_FACTOR?u.preloadBatchSize=u.containerHeight*f.amount:u.preloadBatchSize=0;var h={type:l.CONTAINER_HEIGHT_SCALE_FACTOR,amount:1},d=i&&i.type?i:h;return"number"==typeof i?u.preloadAdditionalHeight=i:"object"===(void 0===d?"undefined":o(d))&&d.type===l.CONTAINER_HEIGHT_SCALE_FACTOR?u.preloadAdditionalHeight=u.containerHeight*d.amount:u.preloadAdditionalHeight=0,Object.assign(c,u)},buildHeightStyle:function buildHeightStyle(e){return{width:"100%",height:Math.ceil(e)}}}}).call(this,n(38))},3352:function(e,t,n){"use strict";var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(e){function ConstantInfiniteComputer(){return _classCallCheck(this,ConstantInfiniteComputer),_possibleConstructorReturn(this,(ConstantInfiniteComputer.__proto__||Object.getPrototypeOf(ConstantInfiniteComputer)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ConstantInfiniteComputer,e),o(ConstantInfiniteComputer,[{key:"getTotalScrollableHeight",value:function getTotalScrollableHeight(){return this.heightData*this.numberOfChildren}},{key:"getDisplayIndexStart",value:function getDisplayIndexStart(e){return Math.floor(e/this.heightData)}},{key:"getDisplayIndexEnd",value:function getDisplayIndexEnd(e){var t=Math.ceil(e/this.heightData);return t>0?t-1:t}},{key:"getTopSpacerHeight",value:function getTopSpacerHeight(e){return e*this.heightData}},{key:"getBottomSpacerHeight",value:function getBottomSpacerHeight(e){var t=e+1;return Math.max(0,(this.numberOfChildren-t)*this.heightData)}}]),ConstantInfiniteComputer}(n(2350));e.exports=i},3353:function(e,t,n){"use strict";var o=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var i=n(2350),r=n(3354),l=function(e){function ArrayInfiniteComputer(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ArrayInfiniteComputer);var n=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(ArrayInfiniteComputer.__proto__||Object.getPrototypeOf(ArrayInfiniteComputer)).call(this,e,t));return n.prefixHeightData=n.heightData.reduce((function(e,t){return 0===e.length?[t]:(e.push(e[e.length-1]+t),e)}),[]),n}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ArrayInfiniteComputer,e),o(ArrayInfiniteComputer,[{key:"maybeIndexToIndex",value:function maybeIndexToIndex(e){return null==e?this.prefixHeightData.length-1:e}},{key:"getTotalScrollableHeight",value:function getTotalScrollableHeight(){var e=this.prefixHeightData.length;return 0===e?0:this.prefixHeightData[e-1]}},{key:"getDisplayIndexStart",value:function getDisplayIndexStart(e){var t=r.binaryIndexSearch(this.prefixHeightData,e,r.opts.CLOSEST_HIGHER);return this.maybeIndexToIndex(t)}},{key:"getDisplayIndexEnd",value:function getDisplayIndexEnd(e){var t=r.binaryIndexSearch(this.prefixHeightData,e,r.opts.CLOSEST_HIGHER);return this.maybeIndexToIndex(t)}},{key:"getTopSpacerHeight",value:function getTopSpacerHeight(e){var t=e-1;return t<0?0:this.prefixHeightData[t]}},{key:"getBottomSpacerHeight",value:function getBottomSpacerHeight(e){return-1===e?0:this.getTotalScrollableHeight()-this.prefixHeightData[e]}}]),ArrayInfiniteComputer}(i);e.exports=l},3354:function(e,t,n){"use strict";var o={CLOSEST_LOWER:1,CLOSEST_HIGHER:2};e.exports={binaryIndexSearch:function binaryIndexSearch(e,t,n){for(var i,r,l,a=e.length-1,s=0;s<=a;){if((l=e[r=s+Math.floor((a-s)/2)])===t)return r;l<t?s=r+1:l>t&&(a=r-1)}return n===o.CLOSEST_LOWER&&s>0?i=s-1:n===o.CLOSEST_HIGHER&&a<e.length-1&&(i=a+1),i},opts:o}},3355:function(e,t,n){"use strict";(function(t){var o=t.React||n(1),i=n(2351);e.exports=function(e){var t="Invariant Violation: ";if(!e.containerHeight&&!e.useWindowAsScrollContainer)throw new Error(t+"Either containerHeight or useWindowAsScrollContainer must be provided.");if(!i(e.elementHeight)&&!Array.isArray(e.elementHeight))throw new Error(t+"You must provide either a number or an array of numbers as the elementHeight.");if(Array.isArray(e.elementHeight)&&o.Children.count(e.children)!==e.elementHeight.length)throw new Error(t+"There must be as many values provided in the elementHeight prop as there are children.")}}).call(this,n(38))}}]);
//# sourceMappingURL=npm.react-infinite-32ab591225fa6d35bd7c.js.map