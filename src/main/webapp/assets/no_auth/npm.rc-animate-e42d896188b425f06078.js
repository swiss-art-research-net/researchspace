(window.webpackJsonp=window.webpackJsonp||[]).push([[276],{2361:function(n,e,t){"use strict";t.r(e);e.default={isAppearSupported:function isAppearSupported(n){return n.transitionName&&n.transitionAppear||n.animation.appear},isEnterSupported:function isEnterSupported(n){return n.transitionName&&n.transitionEnter||n.animation.enter},isLeaveSupported:function isLeaveSupported(n){return n.transitionName&&n.transitionLeave||n.animation.leave},allowAppearCallback:function allowAppearCallback(n){return n.transitionAppear||n.animation.appear},allowEnterCallback:function allowEnterCallback(n){return n.transitionEnter||n.animation.enter},allowLeaveCallback:function allowLeaveCallback(n){return n.transitionLeave||n.animation.leave}}},3377:function(n,e,t){"use strict";t.r(e);var i=t(3),r=t.n(i),o=t(1209),a=t.n(o),l=t(4),s=t.n(l),p=t(1207),c=t.n(p),h=t(5),d=t.n(h),u=t(6),f=t.n(u),y=t(1),m=t.n(y),v=t(0),C=t.n(v),k=t(3378),A=t(3379),E=t(3380),b=t(2361),w="rc_animate_"+Date.now();function getChildrenFromProps(n){var e=n.children;return m.a.isValidElement(e)&&!e.key?m.a.cloneElement(e,{key:w}):e}function noop(){}var g=function(n){function Animate(n){s()(this,Animate);var e=d()(this,(Animate.__proto__||Object.getPrototypeOf(Animate)).call(this,n));return K.call(e),e.currentlyAnimatingKeys={},e.keysToEnter=[],e.keysToLeave=[],e.state={children:Object(A.toArrayChildren)(getChildrenFromProps(n))},e.childrenRefs={},e}return f()(Animate,n),c()(Animate,[{key:"componentDidMount",value:function componentDidMount(){var n=this,e=this.props.showProp,t=this.state.children;e&&(t=t.filter((function(n){return!!n.props[e]}))),t.forEach((function(e){e&&n.performAppear(e.key)}))}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(n){var e=this;this.nextProps=n;var t=Object(A.toArrayChildren)(getChildrenFromProps(n)),i=this.props;i.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach((function(n){e.stop(n)}));var r=i.showProp,o=this.currentlyAnimatingKeys,l=i.exclusive?Object(A.toArrayChildren)(getChildrenFromProps(i)):this.state.children,s=[];r?(l.forEach((function(n){var e=n&&Object(A.findChildInChildrenByKey)(t,n.key),i=void 0;(i=e&&e.props[r]||!n.props[r]?e:m.a.cloneElement(e||n,a()({},r,!0)))&&s.push(i)})),t.forEach((function(n){n&&Object(A.findChildInChildrenByKey)(l,n.key)||s.push(n)}))):s=Object(A.mergeChildren)(l,t),this.setState({children:s}),t.forEach((function(n){var t=n&&n.key;if(!n||!o[t]){var i=n&&Object(A.findChildInChildrenByKey)(l,t);if(r){var a=n.props[r];if(i)!Object(A.findShownChildInChildrenByKey)(l,t,r)&&a&&e.keysToEnter.push(t);else a&&e.keysToEnter.push(t)}else i||e.keysToEnter.push(t)}})),l.forEach((function(n){var i=n&&n.key;if(!n||!o[i]){var a=n&&Object(A.findChildInChildrenByKey)(t,i);if(r){var l=n.props[r];if(a)!Object(A.findShownChildInChildrenByKey)(t,i,r)&&l&&e.keysToLeave.push(i);else l&&e.keysToLeave.push(i)}else a||e.keysToLeave.push(i)}}))}},{key:"componentDidUpdate",value:function componentDidUpdate(){var n=this.keysToEnter;this.keysToEnter=[],n.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function isValidChildByKey(n,e){var t=this.props.showProp;return t?Object(A.findShownChildInChildrenByKey)(n,e,t):Object(A.findChildInChildrenByKey)(n,e)}},{key:"stop",value:function stop(n){delete this.currentlyAnimatingKeys[n];var e=this.childrenRefs[n];e&&e.stop()}},{key:"render",value:function render(){var n=this,e=this.props;this.nextProps=e;var t=this.state.children,i=null;t&&(i=t.map((function(t){if(null==t)return t;if(!t.key)throw new Error("must set key for <rc-animate> children");return m.a.createElement(E.default,{key:t.key,ref:function ref(e){n.childrenRefs[t.key]=e},animation:e.animation,transitionName:e.transitionName,transitionEnter:e.transitionEnter,transitionAppear:e.transitionAppear,transitionLeave:e.transitionLeave},t)})));var o=e.component;if(o){var a=e;return"string"==typeof o&&(a=r()({className:e.className,style:e.style},e.componentProps)),m.a.createElement(o,a,i)}return i[0]||null}}]),Animate}(m.a.Component);g.isAnimate=!0,g.propTypes={className:C.a.string,style:C.a.object,component:C.a.any,componentProps:C.a.object,animation:C.a.object,transitionName:C.a.oneOfType([C.a.string,C.a.object]),transitionEnter:C.a.bool,transitionAppear:C.a.bool,exclusive:C.a.bool,transitionLeave:C.a.bool,onEnd:C.a.func,onEnter:C.a.func,onLeave:C.a.func,onAppear:C.a.func,showProp:C.a.string,children:C.a.node},g.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:noop,onEnter:noop,onLeave:noop,onAppear:noop};var K=function _initialiseProps(){var n=this;this.performEnter=function(e){n.childrenRefs[e]&&(n.currentlyAnimatingKeys[e]=!0,n.childrenRefs[e].componentWillEnter(n.handleDoneAdding.bind(n,e,"enter")))},this.performAppear=function(e){n.childrenRefs[e]&&(n.currentlyAnimatingKeys[e]=!0,n.childrenRefs[e].componentWillAppear(n.handleDoneAdding.bind(n,e,"appear")))},this.handleDoneAdding=function(e,t){var i=n.props;if(delete n.currentlyAnimatingKeys[e],!i.exclusive||i===n.nextProps){var r=Object(A.toArrayChildren)(getChildrenFromProps(i));n.isValidChildByKey(r,e)?"appear"===t?b.default.allowAppearCallback(i)&&(i.onAppear(e),i.onEnd(e,!0)):b.default.allowEnterCallback(i)&&(i.onEnter(e),i.onEnd(e,!0)):n.performLeave(e)}},this.performLeave=function(e){n.childrenRefs[e]&&(n.currentlyAnimatingKeys[e]=!0,n.childrenRefs[e].componentWillLeave(n.handleDoneLeaving.bind(n,e)))},this.handleDoneLeaving=function(e){var t=n.props;if(delete n.currentlyAnimatingKeys[e],!t.exclusive||t===n.nextProps){var i=Object(A.toArrayChildren)(getChildrenFromProps(t));if(n.isValidChildByKey(i,e))n.performEnter(e);else{var r=function end(){b.default.allowLeaveCallback(t)&&(t.onLeave(e),t.onEnd(e,!1))};Object(A.isSameChildren)(n.state.children,i,t.showProp)?r():n.setState({children:i},r)}}}};e.default=Object(k.default)(g)},3379:function(n,e,t){"use strict";t.r(e),t.d(e,"toArrayChildren",(function(){return toArrayChildren})),t.d(e,"findChildInChildrenByKey",(function(){return findChildInChildrenByKey})),t.d(e,"findShownChildInChildrenByKey",(function(){return findShownChildInChildrenByKey})),t.d(e,"findHiddenChildInChildrenByKey",(function(){return findHiddenChildInChildrenByKey})),t.d(e,"isSameChildren",(function(){return isSameChildren})),t.d(e,"mergeChildren",(function(){return mergeChildren}));var i=t(1),r=t.n(i);function toArrayChildren(n){var e=[];return r.a.Children.forEach(n,(function(n){e.push(n)})),e}function findChildInChildrenByKey(n,e){var t=null;return n&&n.forEach((function(n){t||n&&n.key===e&&(t=n)})),t}function findShownChildInChildrenByKey(n,e,t){var i=null;return n&&n.forEach((function(n){if(n&&n.key===e&&n.props[t]){if(i)throw new Error("two child with same key for <rc-animate> children");i=n}})),i}function findHiddenChildInChildrenByKey(n,e,t){var i=0;return n&&n.forEach((function(n){i||(i=n&&n.key===e&&!n.props[t])})),i}function isSameChildren(n,e,t){var i=n.length===e.length;return i&&n.forEach((function(n,r){var o=e[r];n&&o&&(n&&!o||!n&&o||n.key!==o.key||t&&n.props[t]!==o.props[t])&&(i=!1)})),i}function mergeChildren(n,e){var t=[],i={},r=[];return n.forEach((function(n){n&&findChildInChildrenByKey(e,n.key)?r.length&&(i[n.key]=r,r=[]):r.push(n)})),e.forEach((function(n){n&&Object.prototype.hasOwnProperty.call(i,n.key)&&(t=t.concat(i[n.key])),t.push(n)})),t=t.concat(r)}},3380:function(n,e,t){"use strict";t.r(e);var i=t(4),r=t.n(i),o=t(1207),a=t.n(o),l=t(5),s=t.n(l),p=t(6),c=t.n(p),h=t(1),d=t.n(h),u=t(20),f=t.n(u),y=t(0),m=t.n(y),v=t(3381),C=t(2361),k={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},A=function(n){function AnimateChild(){return r()(this,AnimateChild),s()(this,(AnimateChild.__proto__||Object.getPrototypeOf(AnimateChild)).apply(this,arguments))}return c()(AnimateChild,n),a()(AnimateChild,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.stop()}},{key:"componentWillEnter",value:function componentWillEnter(n){C.default.isEnterSupported(this.props)?this.transition("enter",n):n()}},{key:"componentWillAppear",value:function componentWillAppear(n){C.default.isAppearSupported(this.props)?this.transition("appear",n):n()}},{key:"componentWillLeave",value:function componentWillLeave(n){C.default.isLeaveSupported(this.props)?this.transition("leave",n):n()}},{key:"transition",value:function transition(n,e){var t=this,i=f.a.findDOMNode(this),r=this.props,o=r.transitionName,a="object"==typeof o;this.stop();var l=function end(){t.stopper=null,e()};if((v.isCssAnimationSupported||!r.animation[n])&&o&&r[k[n]]){var s=a?o[n]:o+"-"+n,p=s+"-active";a&&o[n+"Active"]&&(p=o[n+"Active"]),this.stopper=Object(v.default)(i,{name:s,active:p},l)}else this.stopper=r.animation[n](i,l)}},{key:"stop",value:function stop(){var n=this.stopper;n&&(this.stopper=null,n.stop())}},{key:"render",value:function render(){return this.props.children}}]),AnimateChild}(d.a.Component);A.propTypes={children:m.a.any,animation:m.a.any,transitionName:m.a.any},e.default=A}}]);
//# sourceMappingURL=npm.rc-animate-e42d896188b425f06078.js.map