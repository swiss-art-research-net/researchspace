{"version":3,"sources":["webpack:///./node_modules/rdf-graph-array/index.js"],"names":["rdf","util","NamedNode","iri","this","interfaceName","nominalValue","prototype","equals","other","constructor","name","test","toNT","encodeString","toString","valueOf","BlankNode","nextId","Literal","value","language","datatype","native","langString","string","Triple","subject","predicate","object","toQuad","graph","Quad","toTriple","Graph","actions","_graph","_gspo","AbstractGraph","call","inherits","add","quad","i","index","g","s","p","o","push","forEach","action","run","addAction","remove","splice","indexOf","toArray","slice","module","exports"],"mappings":"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","file":"npm.rdf-graph-array-d3a22681050aaa1cf12a.js","sourcesContent":["var rdf = require('rdf-graph-abstract')\nvar util = require('util')\n\nrdf.NamedNode = function (iri) {\n  this.interfaceName = 'NamedNode'\n  this.nominalValue = iri\n}\n\nrdf.NamedNode.prototype.equals = function (other) {\n  if (typeof other === 'string') {\n    return this.nominalValue === other\n  }\n\n  if (typeof other === 'object') {\n    if (other.constructor.name === 'RegExp') {\n      return other.test(this.nominalValue)\n    }\n\n    if (other.interfaceName === this.interfaceName) {\n      return this.nominalValue === other.nominalValue\n    }\n  }\n\n  return false\n}\n\nrdf.NamedNode.prototype.toNT = function () {\n  return '<' + rdf.encodeString(this.nominalValue) + '>'\n}\n\nrdf.NamedNode.prototype.toString = function () {\n  return this.nominalValue\n}\n\nrdf.NamedNode.prototype.valueOf = function () {\n  return this.nominalValue\n}\n\nrdf.BlankNode = function () {\n  this.interfaceName = 'BlankNode'\n  this.nominalValue = 'b' + (++rdf.BlankNode.nextId)\n}\n\nrdf.BlankNode.prototype.equals = function (other) {\n  if (typeof other === 'string') {\n    return this.nominalValue === other\n  }\n\n  if (typeof other === 'object') {\n    if (other.constructor.name === 'RegExp') {\n      return other.test(this.nominalValue)\n    }\n\n    if (other.interfaceName === this.interfaceName) {\n      return this.nominalValue === other.nominalValue\n    }\n  }\n\n  return false\n}\n\nrdf.BlankNode.prototype.toNT = function () {\n  return '_:' + rdf.encodeString(this.nominalValue)\n}\n\nrdf.BlankNode.prototype.toString = function () {\n  return '_:' + this.nominalValue\n}\n\nrdf.BlankNode.prototype.valueOf = function () {\n  return this.nominalValue\n}\n\nrdf.BlankNode.nextId = 0\n\nrdf.Literal = function (value, language, datatype, native) {\n  this.interfaceName = 'Literal'\n  this.nominalValue = value\n\n  if (language) {\n    this.language = language\n    this.datatype = rdf.Literal.langString\n  } else {\n    this.language = null\n\n    if (datatype) {\n      this.datatype = new rdf.NamedNode(datatype.toString())\n    } else {\n      this.datatype = rdf.Literal.string\n    }\n  }\n\n  this.native = native\n}\n\nrdf.Literal.prototype.equals = function (other) {\n  if (typeof other === 'string') {\n    return this.nominalValue === other\n  }\n\n  if (typeof other === 'object') {\n    if (other.constructor.name === 'RegExp') {\n      return other.test(this.nominalValue)\n    }\n\n    if (other.interfaceName === this.interfaceName) {\n      if (this.nominalValue.toString() !== other.nominalValue.toString()) {\n        return false\n      }\n\n      if (this.language !== other.language) {\n        return false\n      }\n\n      if ((this.datatype && !this.datatype.equals(other.datatype))) {\n        return false\n      }\n\n      return true\n    }\n  }\n\n  return false\n}\n\nrdf.Literal.prototype.toNT = function () {\n  var string = '\"' + rdf.encodeString(this.nominalValue.toString()) + '\"'\n\n  if (this.language) {\n    string += '@' + this.language\n  }\n\n  if (this.datatype && !rdf.Literal.string.equals(this.datatype) && !rdf.Literal.langString.equals(this.datatype)) {\n    string += '^^' + this.datatype.toNT()\n  }\n\n  return string\n}\n\nrdf.Literal.prototype.toString = function () {\n  return this.nominalValue\n}\n\nrdf.Literal.langString = new rdf.NamedNode('http://www.w3.org/1999/02/22-rdf-syntax-ns#langString')\nrdf.Literal.string = new rdf.NamedNode('http://www.w3.org/2001/XMLSchema#string')\n\nrdf.Triple = function (subject, predicate, object) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n}\n\nrdf.Triple.prototype.equals = function (other) {\n  return this.subject.equals(other.subject) && this.predicate.equals(other.predicate) && this.object.equals(other.object)\n}\n\nrdf.Triple.prototype.toNT = function () {\n  return this.toString()\n}\n\nrdf.Triple.prototype.toQuad = function (graph) {\n  return new rdf.Quad(this.subject, this.predicate, this.object, graph)\n}\n\nrdf.Triple.prototype.toString = function () {\n  return this.subject.toNT() + ' ' + this.predicate.toNT() + ' ' + this.object.toNT() + ' .'\n}\n\nrdf.Quad = function (subject, predicate, object, graph) {\n  this.subject = subject\n  this.predicate = predicate\n  this.object = object\n  this.graph = graph\n}\n\nrdf.Quad.prototype.equals = function (other) {\n  return this.subject.equals(other.subject) && this.predicate.equals(other.predicate) && this.object.equals(other.object) && this.graph.equals(other.graph)\n}\n\nrdf.Quad.prototype.toNT = function () {\n  return this.toString()\n}\n\nrdf.Quad.prototype.toString = function () {\n  return this.subject.toNT() + ' ' + this.predicate.toNT() + ' ' + this.object.toNT() + ' ' + this.graph.toNT() + ' .'\n}\n\nrdf.Quad.prototype.toTriple = function () {\n  return new rdf.Triple(this.subject, this.predicate, this.object)\n}\n\nrdf.Graph = function (other) {\n  this.actions = []\n\n  this._graph = []\n  this._gspo = {}\n\n  rdf.AbstractGraph.call(this, rdf.Graph, other)\n}\n\nutil.inherits(rdf.Graph, rdf.AbstractGraph)\n\nrdf.Graph.prototype.add = function (quad) {\n  var i = rdf.Graph.index(quad)\n\n  this._gspo[i.g] = this._gspo[i.g] || {}\n  this._gspo[i.g][i.s] = this._gspo[i.g][i.s] || {}\n  this._gspo[i.g][i.s][i.p] = this._gspo[i.g][i.s][i.p] || {}\n\n  if (!this._gspo[i.g][i.s][i.p][i.o]) {\n    this._gspo[i.g][i.s][i.p][i.o] = quad\n    this._graph.push(quad)\n    this.actions.forEach(function (action) {\n      action.run(quad)\n    })\n  }\n\n  return this\n}\n\nrdf.Graph.prototype.addAction = function (action) {\n  // TODO: implement me\n}\n\nrdf.Graph.prototype.remove = function (quad) {\n  var i = rdf.Graph.index(quad)\n\n  if (this._gspo[i.g][i.s][i.p][i.o]) {\n    delete this._gspo[i.g][i.s][i.p][i.o]\n    this._graph.splice(this._graph.indexOf(quad), 1)\n  }\n}\n\nrdf.Graph.prototype.toArray = function () {\n  return this._graph.slice(0)\n}\n\nrdf.Graph.index = function (quad) {\n  return {\n    g: quad.graph ? quad.graph.toString() : null,\n    s: quad.subject.toString(),\n    p: quad.predicate.toString(),\n    o: quad.object.toString()\n  }\n}\n\nmodule.exports = rdf\n"],"sourceRoot":""}