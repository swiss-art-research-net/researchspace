{"version":3,"sources":["webpack:///./node_modules/asn1.js/lib/asn1.js","webpack:///./node_modules/asn1.js/lib/asn1/base/index.js","webpack:///./node_modules/asn1.js/lib/asn1/base/buffer.js","webpack:///./node_modules/asn1.js/lib/asn1/constants/index.js","webpack:///./node_modules/asn1.js/lib/asn1/decoders/der.js","webpack:///./node_modules/asn1.js/lib/asn1/encoders/der.js","webpack:///./node_modules/asn1.js/lib/asn1/api.js","webpack:///./node_modules/asn1.js/lib/asn1/base/reporter.js","webpack:///./node_modules/asn1.js/lib/asn1/base/node.js","webpack:///./node_modules/asn1.js/lib/asn1/constants/der.js","webpack:///./node_modules/asn1.js/lib/asn1/decoders/index.js","webpack:///./node_modules/asn1.js/lib/asn1/decoders/pem.js","webpack:///./node_modules/asn1.js/lib/asn1/encoders/index.js","webpack:///./node_modules/asn1.js/lib/asn1/encoders/pem.js"],"names":["asn1","exports","bignum","define","base","constants","decoders","encoders","Reporter","DecoderBuffer","EncoderBuffer","Node","inherits","Buffer","options","call","this","isBuffer","offset","length","error","value","reporter","Array","isArray","map","item","byteLength","prototype","save","restore","res","isEmpty","readUInt8","fail","skip","bytes","_reporterState","raw","slice","join","out","forEach","write","copy","_reverse","reverse","Object","keys","key","der","DERDecoder","entity","enc","name","tree","DERNode","_init","body","parent","derDecodeTag","buf","tag","isError","cls","tagClass","primitive","oct","tagStr","derDecodeLen","len","num","i","j","module","decode","data","_decode","_peekTag","peekTag","buffer","any","state","decodedTag","_decodeTag","decodeTag","_skipUntilEnd","skipUntilEnd","_decodeList","decodeList","decoder","result","possibleEnd","push","_decodeStr","decodeStr","unused","str","String","fromCharCode","readUInt16BE","numstr","toString","_isNumstr","printstr","_isPrintstr","test","_decodeObjid","decodeObjid","values","relative","identifiers","ident","subident","first","second","concat","tmp","undefined","_decodeTime","decodeTime","year","mon","day","hour","min","sec","Date","UTC","_decodeNull","decodeNull","_decodeBool","decodeBool","_decodeInt","decodeInt","_use","use","obj","_getDecoder","DEREncoder","two","encode","_encode","_encodeComposite","encodeComposite","content","header","encodedTag","encodeTag","tagByName","hasOwnProperty","tagClassByName","_createEncoderBuffer","lenOctets","_encodeStr","encodeStr","writeUInt16BE","charCodeAt","_encodeObjid","encodeObjid","id","split","JSON","stringify","splice","size","objid","_encodeTime","encodeTime","time","date","getFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","_encodeNull","encodeNull","_encodeInt","encodeInt","numArray","toArray","sign","unshift","_encodeBool","encodeBool","_getEncoder","_skipDefault","skipDefault","dataBuffer","_baseState","defaultBuffer","_encodeValue","Entity","_createNamed","createNamed","named","runInThisContext","e","_initNamed","initnamed","path","errors","ReporterError","msg","rethrow","pathLen","enterKey","exitKey","index","leaveKey","enterObject","prev","leaveObject","now","err","inherited","elem","message","stack","partial","wrapResult","Error","captureStackTrace","assert","tags","methods","children","args","reverseArgs","choice","optional","useDecoder","explicit","implicit","contains","_wrap","stateProps","clone","cstate","prop","constructor","wrap","method","_wrappedMethod","apply","arguments","init","filter","child","equal","_useArgs","useArgs","arg","_overrided","_tagMethod","def","val","newKey","input","prevObj","present","prevKey","_decodeGeneric","_decodeChoice","start","track","decodeChildren","_getUse","decodeGeneric","decodeChoice","match","some","node","type","createEncoderBuffer","_encodeChoice","_encodePrimitive","encodeChoice","encodePrimitive","isNumstr","isPrintstr","0","1","2","3","pem","PEMDecoder","lines","label","toUpperCase","re","end","base64","replace","PEMEncoder","p"],"mappings":"+EAAA,IAAIA,EAAOC,EAEXD,EAAKE,OAAS,EAAQ,MAEtBF,EAAKG,OAAS,EAAQ,MAAcA,OACpCH,EAAKI,KAAO,EAAQ,MACpBJ,EAAKK,UAAY,EAAQ,MACzBL,EAAKM,SAAW,EAAQ,MACxBN,EAAKO,SAAW,EAAQ,O,qBCRxB,IAAIH,EAAOH,EAEXG,EAAKI,SAAW,EAAQ,MAAcA,SACtCJ,EAAKK,cAAgB,EAAQ,MAAYA,cACzCL,EAAKM,cAAgB,EAAQ,MAAYA,cACzCN,EAAKO,KAAO,EAAQ,O,qBCLpB,IAAIC,EAAW,EAAQ,IACnBJ,EAAW,EAAQ,MAAWA,SAC9BK,EAAS,EAAQ,KAAUA,OAE/B,SAASJ,cAAcL,EAAMU,GAC3BN,EAASO,KAAKC,KAAMF,GACfD,EAAOI,SAASb,IAKrBY,KAAKZ,KAAOA,EACZY,KAAKE,OAAS,EACdF,KAAKG,OAASf,EAAKe,QANjBH,KAAKI,MAAM,oBAyDf,SAASV,cAAcW,EAAOC,GAC5B,GAAIC,MAAMC,QAAQH,GAChBL,KAAKG,OAAS,EACdH,KAAKK,MAAQA,EAAMI,KAAI,SAASC,GAI9B,OAHMA,aAAgBhB,gBACpBgB,EAAO,IAAIhB,cAAcgB,EAAMJ,IACjCN,KAAKG,QAAUO,EAAKP,OACbO,IACNV,WACE,GAAqB,iBAAVK,EAAoB,CACpC,KAAM,GAAKA,GAASA,GAAS,KAC3B,OAAOC,EAASF,MAAM,gCACxBJ,KAAKK,MAAQA,EACbL,KAAKG,OAAS,OACT,GAAqB,iBAAVE,EAChBL,KAAKK,MAAQA,EACbL,KAAKG,OAASN,EAAOc,WAAWN,OAC3B,KAAIR,EAAOI,SAASI,GAIzB,OAAOC,EAASF,MAAM,4BAA8BC,GAHpDL,KAAKK,MAAQA,EACbL,KAAKG,OAASE,EAAMF,QApExBP,EAASH,cAAeD,GACxBP,EAAQQ,cAAgBA,cAExBA,cAAcmB,UAAUC,KAAO,SAASA,OACtC,MAAO,CAAEX,OAAQF,KAAKE,OAAQI,SAAUd,EAASoB,UAAUC,KAAKd,KAAKC,QAGvEP,cAAcmB,UAAUE,QAAU,SAASA,QAAQD,GAEjD,IAAIE,EAAM,IAAItB,cAAcO,KAAKZ,MAOjC,OANA2B,EAAIb,OAASW,EAAKX,OAClBa,EAAIZ,OAASH,KAAKE,OAElBF,KAAKE,OAASW,EAAKX,OACnBV,EAASoB,UAAUE,QAAQf,KAAKC,KAAMa,EAAKP,UAEpCS,GAGTtB,cAAcmB,UAAUI,QAAU,SAASA,UACzC,OAAOhB,KAAKE,SAAWF,KAAKG,QAG9BV,cAAcmB,UAAUK,UAAY,SAASA,UAAUC,GACrD,OAAIlB,KAAKE,OAAS,GAAKF,KAAKG,OACnBH,KAAKZ,KAAK6B,UAAUjB,KAAKE,UAAU,GAEnCF,KAAKI,MAAMc,GAAQ,0BAG9BzB,cAAcmB,UAAUO,KAAO,SAASA,KAAKC,EAAOF,GAClD,KAAMlB,KAAKE,OAASkB,GAASpB,KAAKG,QAChC,OAAOH,KAAKI,MAAMc,GAAQ,yBAE5B,IAAIH,EAAM,IAAItB,cAAcO,KAAKZ,MAQjC,OALA2B,EAAIM,eAAiBrB,KAAKqB,eAE1BN,EAAIb,OAASF,KAAKE,OAClBa,EAAIZ,OAASH,KAAKE,OAASkB,EAC3BpB,KAAKE,QAAUkB,EACRL,GAGTtB,cAAcmB,UAAUU,IAAM,SAASA,IAAIT,GACzC,OAAOb,KAAKZ,KAAKmC,MAAMV,EAAOA,EAAKX,OAASF,KAAKE,OAAQF,KAAKG,SA2BhElB,EAAQS,cAAgBA,cAExBA,cAAckB,UAAUY,KAAO,SAASA,KAAKC,EAAKvB,GAMhD,OALKuB,IACHA,EAAM,IAAI5B,EAAOG,KAAKG,SACnBD,IACHA,EAAS,GAES,IAAhBF,KAAKG,SAGLI,MAAMC,QAAQR,KAAKK,OACrBL,KAAKK,MAAMqB,SAAQ,SAAShB,GAC1BA,EAAKc,KAAKC,EAAKvB,GACfA,GAAUQ,EAAKP,WAGS,iBAAfH,KAAKK,MACdoB,EAAIvB,GAAUF,KAAKK,MACU,iBAAfL,KAAKK,MACnBoB,EAAIE,MAAM3B,KAAKK,MAAOH,GACfL,EAAOI,SAASD,KAAKK,QAC5BL,KAAKK,MAAMuB,KAAKH,EAAKvB,GACvBA,GAAUF,KAAKG,SAdRsB,I,qBCjGX,IAAIpC,EAAYJ,EAGhBI,EAAUwC,SAAW,SAASC,QAAQrB,GACpC,IAAIM,EAAM,GAWV,OATAgB,OAAOC,KAAKvB,GAAKiB,SAAQ,SAASO,IAErB,EAANA,IAAYA,IACfA,GAAY,GAEd,IAAI5B,EAAQI,EAAIwB,GAChBlB,EAAIV,GAAS4B,KAGRlB,GAGT1B,EAAU6C,IAAM,EAAQ,O,qBClBxB,IAAItC,EAAW,EAAQ,IAEnBZ,EAAO,EAAQ,MACfI,EAAOJ,EAAKI,KACZF,EAASF,EAAKE,OAGdgD,EAAMlD,EAAKK,UAAU6C,IAEzB,SAASC,WAAWC,GAClBpC,KAAKqC,IAAM,MACXrC,KAAKsC,KAAOF,EAAOE,KACnBtC,KAAKoC,OAASA,EAGdpC,KAAKuC,KAAO,IAAIC,QAChBxC,KAAKuC,KAAKE,MAAML,EAAOM,MAazB,SAASF,QAAQG,GACfvD,EAAKO,KAAKI,KAAKC,KAAM,MAAO2C,GAsO9B,SAASC,aAAaC,EAAK3B,GACzB,IAAI4B,EAAMD,EAAI5B,UAAUC,GACxB,GAAI2B,EAAIE,QAAQD,GACd,OAAOA,EAET,IAAIE,EAAMd,EAAIe,SAASH,GAAO,GAC1BI,EAA6B,IAAV,GAANJ,GAGjB,GAAqB,KAAV,GAANA,GAAsB,CACzB,IAAIK,EAAML,EAEV,IADAA,EAAM,EACkB,MAAV,IAANK,IAAsB,CAE5B,GADAA,EAAMN,EAAI5B,UAAUC,GAChB2B,EAAIE,QAAQI,GACd,OAAOA,EAETL,IAAQ,EACRA,GAAa,IAANK,QAGTL,GAAO,GAIT,MAAO,CACLE,IAAKA,EACLE,UAAWA,EACXJ,IAAKA,EACLM,OANWlB,EAAIY,IAAIA,IAUvB,SAASO,aAAaR,EAAKK,EAAWhC,GACpC,IAAIoC,EAAMT,EAAI5B,UAAUC,GACxB,GAAI2B,EAAIE,QAAQO,GACd,OAAOA,EAGT,IAAKJ,GAAqB,MAARI,EAChB,OAAO,KAGT,GAAqB,IAAV,IAANA,GAEH,OAAOA,EAIT,IAAIC,EAAY,IAAND,EACV,GAAIC,EAAM,EACR,OAAOV,EAAIzC,MAAM,6BAEnBkD,EAAM,EACN,IAAK,IAAIE,EAAI,EAAGA,EAAID,EAAKC,IAAK,CAC5BF,IAAQ,EACR,IAAIG,EAAIZ,EAAI5B,UAAUC,GACtB,GAAI2B,EAAIE,QAAQU,GACd,OAAOA,EACTH,GAAOG,EAGT,OAAOH,EAhTTI,EAAOzE,QAAUkD,WAEjBA,WAAWvB,UAAU+C,OAAS,SAASA,OAAOC,EAAM9D,GAIlD,OAHM8D,aAAgBxE,EAAKK,gBACzBmE,EAAO,IAAIxE,EAAKK,cAAcmE,EAAM9D,IAE/BE,KAAKuC,KAAKsB,QAAQD,EAAM9D,IAQjCF,EAAS4C,QAASpD,EAAKO,MAEvB6C,QAAQ5B,UAAUkD,SAAW,SAASC,QAAQC,EAAQlB,EAAKmB,GACzD,GAAID,EAAOhD,UACT,OAAO,EAET,IAAIkD,EAAQF,EAAOnD,OACfsD,EAAavB,aAAaoB,EAAQ,wBAA0BlB,EAAM,KACtE,OAAIkB,EAAOjB,QAAQoB,GACVA,GAETH,EAAOlD,QAAQoD,GAERC,EAAWrB,MAAQA,GAAOqB,EAAWf,SAAWN,GACpDqB,EAAWf,OAAS,OAAUN,GAAOmB,IAG1CzB,QAAQ5B,UAAUwD,WAAa,SAASC,UAAUL,EAAQlB,EAAKmB,GAC7D,IAAIE,EAAavB,aAAaoB,EACA,4BAA8BlB,EAAM,KAClE,GAAIkB,EAAOjB,QAAQoB,GACjB,OAAOA,EAET,IAAIb,EAAMD,aAAaW,EACAG,EAAWjB,UACX,4BAA8BJ,EAAM,KAG3D,GAAIkB,EAAOjB,QAAQO,GACjB,OAAOA,EAET,IAAKW,GACDE,EAAWrB,MAAQA,GACnBqB,EAAWf,SAAWN,GACtBqB,EAAWf,OAAS,OAASN,EAC/B,OAAOkB,EAAO5D,MAAM,yBAA2B0C,EAAM,KAGvD,GAAIqB,EAAWjB,WAAqB,OAARI,EAC1B,OAAOU,EAAO7C,KAAKmC,EAAK,6BAA+BR,EAAM,KAG/D,IAAIoB,EAAQF,EAAOnD,OACfE,EAAMf,KAAKsE,cACXN,EACA,2CAA6ChE,KAAK8C,IAAM,KAC5D,OAAIkB,EAAOjB,QAAQhC,GACVA,GAETuC,EAAMU,EAAO9D,OAASgE,EAAMhE,OAC5B8D,EAAOlD,QAAQoD,GACRF,EAAO7C,KAAKmC,EAAK,6BAA+BR,EAAM,OAG/DN,QAAQ5B,UAAU0D,cAAgB,SAASC,aAAaP,EAAQ9C,GAC9D,OAAa,CACX,IAAI4B,EAAMF,aAAaoB,EAAQ9C,GAC/B,GAAI8C,EAAOjB,QAAQD,GACjB,OAAOA,EACT,IAII/B,EAJAuC,EAAMD,aAAaW,EAAQlB,EAAII,UAAWhC,GAC9C,GAAI8C,EAAOjB,QAAQO,GACjB,OAAOA,EAST,GALEvC,EADE+B,EAAII,WAAqB,OAARI,EACbU,EAAO7C,KAAKmC,GAEZtD,KAAKsE,cAAcN,EAAQ9C,GAG/B8C,EAAOjB,QAAQhC,GACjB,OAAOA,EAET,GAAmB,QAAf+B,EAAIM,OACN,QAINZ,QAAQ5B,UAAU4D,YAAc,SAASC,WAAWT,EAAQlB,EAAK4B,EACb5E,GAElD,IADA,IAAI6E,EAAS,IACLX,EAAOhD,WAAW,CACxB,IAAI4D,EAAc5E,KAAK8D,SAASE,EAAQ,OACxC,GAAIA,EAAOjB,QAAQ6B,GACjB,OAAOA,EAET,IAAI7D,EAAM2D,EAAQf,OAAOK,EAAQ,MAAOlE,GACxC,GAAIkE,EAAOjB,QAAQhC,IAAQ6D,EACzB,MACFD,EAAOE,KAAK9D,GAEd,OAAO4D,GAGTnC,QAAQ5B,UAAUkE,WAAa,SAASC,UAAUf,EAAQlB,GACxD,GAAY,WAARA,EAAkB,CACpB,IAAIkC,EAAShB,EAAO/C,YACpB,OAAI+C,EAAOjB,QAAQiC,GACVA,EACF,CAAEA,OAAQA,EAAQpB,KAAMI,EAAO1C,OACjC,GAAY,WAARwB,EAAkB,CAC3B,IAAIxB,EAAM0C,EAAO1C,MACjB,GAAIA,EAAInB,OAAS,GAAM,EACrB,OAAO6D,EAAO5D,MAAM,mDAGtB,IADA,IAAI6E,EAAM,GACDzB,EAAI,EAAGA,EAAIlC,EAAInB,OAAS,EAAGqD,IAClCyB,GAAOC,OAAOC,aAAa7D,EAAI8D,aAAiB,EAAJ5B,IAE9C,OAAOyB,EACF,GAAY,WAARnC,EAAkB,CAC3B,IAAIuC,EAASrB,EAAO1C,MAAMgE,SAAS,SACnC,OAAKtF,KAAKuF,UAAUF,GAIbA,EAHErB,EAAO5D,MAAM,0DAIjB,GAAY,WAAR0C,EACT,OAAOkB,EAAO1C,MACT,GAAY,YAARwB,EACT,OAAOkB,EAAO1C,MACT,GAAY,aAARwB,EAAoB,CAC7B,IAAI0C,EAAWxB,EAAO1C,MAAMgE,SAAS,SACrC,OAAKtF,KAAKyF,YAAYD,GAIfA,EAHExB,EAAO5D,MAAM,4DAIjB,MAAI,OAAOsF,KAAK5C,GACdkB,EAAO1C,MAAMgE,WAEbtB,EAAO5D,MAAM,4BAA8B0C,EAAM,iBAI5DN,QAAQ5B,UAAU+E,aAAe,SAASC,YAAY5B,EAAQ6B,EAAQC,GAIpE,IAHA,IAAInB,EACAoB,EAAc,GACdC,EAAQ,GACJhC,EAAOhD,WAAW,CACxB,IAAIiF,EAAWjC,EAAO/C,YACtB+E,IAAU,EACVA,GAAoB,IAAXC,EACiB,IAAV,IAAXA,KACHF,EAAYlB,KAAKmB,GACjBA,EAAQ,GAGG,IAAXC,GACFF,EAAYlB,KAAKmB,GAEnB,IAAIE,EAASH,EAAY,GAAK,GAAM,EAChCI,EAASJ,EAAY,GAAK,GAO9B,GAJEpB,EADEmB,EACOC,EAEA,CAACG,EAAOC,GAAQC,OAAOL,EAAYxE,MAAM,IAEhDsE,EAAQ,CACV,IAAIQ,EAAMR,EAAOlB,EAAOnD,KAAK,WACjB8E,IAARD,IACFA,EAAMR,EAAOlB,EAAOnD,KAAK,YACf8E,IAARD,IACF1B,EAAS0B,GAGb,OAAO1B,GAGTnC,QAAQ5B,UAAU2F,YAAc,SAASC,WAAWxC,EAAQlB,GAC1D,IAAImC,EAAMjB,EAAO1C,MAAMgE,WACvB,GAAY,YAARxC,EACF,IAAI2D,EAAyB,EAAlBxB,EAAI1D,MAAM,EAAG,GACpBmF,EAAwB,EAAlBzB,EAAI1D,MAAM,EAAG,GACnBoF,EAAwB,EAAlB1B,EAAI1D,MAAM,EAAG,GACnBqF,EAA0B,EAAnB3B,EAAI1D,MAAM,EAAG,IACpBsF,EAA0B,EAApB5B,EAAI1D,MAAM,GAAI,IACpBuF,EAA0B,EAApB7B,EAAI1D,MAAM,GAAI,QACnB,IAAY,YAARuB,EAYT,OAAOkB,EAAO5D,MAAM,YAAc0C,EAAM,8BAXpC2D,EAAyB,EAAlBxB,EAAI1D,MAAM,EAAG,GACpBmF,EAAwB,EAAlBzB,EAAI1D,MAAM,EAAG,GACnBoF,EAAwB,EAAlB1B,EAAI1D,MAAM,EAAG,GACnBqF,EAAyB,EAAlB3B,EAAI1D,MAAM,EAAG,GACpBsF,EAAyB,EAAnB5B,EAAI1D,MAAM,EAAG,IACnBuF,EAA0B,EAApB7B,EAAI1D,MAAM,GAAI,IAEtBkF,EADEA,EAAO,GACF,IAAOA,EAEP,KAAOA,EAKlB,OAAOM,KAAKC,IAAIP,EAAMC,EAAM,EAAGC,EAAKC,EAAMC,EAAKC,EAAK,IAGtDtE,QAAQ5B,UAAUqG,YAAc,SAASC,WAAWlD,GAClD,OAAO,MAGTxB,QAAQ5B,UAAUuG,YAAc,SAASC,WAAWpD,GAClD,IAAIjD,EAAMiD,EAAO/C,YACjB,OAAI+C,EAAOjB,QAAQhC,GACVA,EAEQ,IAARA,GAGXyB,QAAQ5B,UAAUyG,WAAa,SAASC,UAAUtD,EAAQ6B,GAExD,IAAIvE,EAAM0C,EAAO1C,MACbP,EAAM,IAAI7B,EAAOoC,GAKrB,OAHIuE,IACF9E,EAAM8E,EAAO9E,EAAIuE,SAAS,MAAQvE,GAE7BA,GAGTyB,QAAQ5B,UAAU2G,KAAO,SAASC,IAAIpF,EAAQqF,GAG5C,MAFsB,mBAAXrF,IACTA,EAASA,EAAOqF,IACXrF,EAAOsF,YAAY,OAAOnF,O,qBC/PnC,IAAI3C,EAAW,EAAQ,IACnBC,EAAS,EAAQ,KAAUA,OAE3Bb,EAAO,EAAQ,MACfI,EAAOJ,EAAKI,KAGZ8C,EAAMlD,EAAKK,UAAU6C,IAEzB,SAASyF,WAAWvF,GAClBpC,KAAKqC,IAAM,MACXrC,KAAKsC,KAAOF,EAAOE,KACnBtC,KAAKoC,OAASA,EAGdpC,KAAKuC,KAAO,IAAIC,QAChBxC,KAAKuC,KAAKE,MAAML,EAAOM,MAUzB,SAASF,QAAQG,GACfvD,EAAKO,KAAKI,KAAKC,KAAM,MAAO2C,GAmH9B,SAASiF,IAAIrE,GACX,OAAIA,EAAM,GACD,IAAMA,EAENA,EAhIXG,EAAOzE,QAAU0I,WAEjBA,WAAW/G,UAAUiH,OAAS,SAASA,OAAOjE,EAAMtD,GAClD,OAAON,KAAKuC,KAAKuF,QAAQlE,EAAMtD,GAAUkB,QAQ3C5B,EAAS4C,QAASpD,EAAKO,MAEvB6C,QAAQ5B,UAAUmH,iBAAmB,SAASC,gBAAgBlF,EACAI,EACAF,EACAiF,GAC5D,IAgBIC,EAhBAC,EA2ON,SAASC,UAAUtF,EAAKI,EAAWF,EAAK1C,GACtC,IAAIS,EAEQ,UAAR+B,EACFA,EAAM,MACS,UAARA,IACPA,EAAM,OAER,GAAIZ,EAAImG,UAAUC,eAAexF,GAC/B/B,EAAMmB,EAAImG,UAAUvF,OACjB,IAAmB,iBAARA,IAA2B,EAANA,KAAaA,EAGhD,OAAOxC,EAASF,MAAM,gBAAkB0C,GAFxC/B,EAAM+B,EAIR,GAAI/B,GAAO,GACT,OAAOT,EAASF,MAAM,wCAEnB8C,IACHnC,GAAO,IAIT,OAFAA,GAAQmB,EAAIqG,eAAevF,GAAO,cAAgB,EAhQjCoF,CAAUtF,EAAKI,EAAWF,EAAKhD,KAAKM,UAGrD,GAAI2H,EAAQ9H,OAAS,IAInB,OAHI+H,EAAS,IAAIrI,EAAO,IACjB,GAAKsI,EACZD,EAAO,GAAKD,EAAQ9H,OACbH,KAAKwI,qBAAqB,CAAEN,EAAQD,IAM7C,IADA,IAAIQ,EAAY,EACPjF,EAAIyE,EAAQ9H,OAAQqD,GAAK,IAAOA,IAAM,EAC7CiF,KAEEP,EAAS,IAAIrI,EAAO,EAAQ4I,IACzB,GAAKN,EACZD,EAAO,GAAK,IAAOO,EAEVjF,EAAI,EAAIiF,EAAjB,IAAK,IAAuBhF,EAAIwE,EAAQ9H,OAAQsD,EAAI,EAAGD,IAAKC,IAAM,EAChEyE,EAAO1E,GAAS,IAAJC,EAEd,OAAOzD,KAAKwI,qBAAqB,CAAEN,EAAQD,KAG7CzF,QAAQ5B,UAAU8H,WAAa,SAASC,UAAU1D,EAAKnC,GACrD,GAAY,WAARA,EACF,OAAO9C,KAAKwI,qBAAqB,CAAe,EAAbvD,EAAID,OAAYC,EAAIrB,OAClD,GAAY,WAARd,EAAkB,CAE3B,IADA,IAAID,EAAM,IAAIhD,EAAoB,EAAboF,EAAI9E,QAChBqD,EAAI,EAAGA,EAAIyB,EAAI9E,OAAQqD,IAC9BX,EAAI+F,cAAc3D,EAAI4D,WAAWrF,GAAQ,EAAJA,GAEvC,OAAOxD,KAAKwI,qBAAqB3F,GAC5B,MAAY,WAARC,EACJ9C,KAAKuF,UAAUN,GAIbjF,KAAKwI,qBAAqBvD,GAHxBjF,KAAKM,SAASF,MAAM,kEAIZ,aAAR0C,EACJ9C,KAAKyF,YAAYR,GAQfjF,KAAKwI,qBAAqBvD,GAPxBjF,KAAKM,SAASF,MAAM,qNAQpB,OAAOsF,KAAK5C,IAEJ,YAARA,EADF9C,KAAKwI,qBAAqBvD,GAI1BjF,KAAKM,SAASF,MAAM,4BAA8B0C,EAC9B,iBAI/BN,QAAQ5B,UAAUkI,aAAe,SAASC,YAAYC,EAAInD,EAAQC,GAChE,GAAkB,iBAAPkD,EAAiB,CAC1B,IAAKnD,EACH,OAAO7F,KAAKM,SAASF,MAAM,+CAC7B,IAAKyF,EAAOyC,eAAeU,GACzB,OAAOhJ,KAAKM,SAASF,MAAM,iCAC7B4I,EAAKnD,EAAOmD,GAAIC,MAAM,YACtB,IAAK,IAAIzF,EAAI,EAAGA,EAAIwF,EAAG7I,OAAQqD,IAC7BwF,EAAGxF,IAAM,OACN,GAAIjD,MAAMC,QAAQwI,GAAK,CAC5BA,EAAKA,EAAGzH,QACR,IAASiC,EAAI,EAAGA,EAAIwF,EAAG7I,OAAQqD,IAC7BwF,EAAGxF,IAAM,EAGb,IAAKjD,MAAMC,QAAQwI,GACjB,OAAOhJ,KAAKM,SAASF,MAAM,kDACU8I,KAAKC,UAAUH,IAGtD,IAAKlD,EAAU,CACb,GAAIkD,EAAG,IAAM,GACX,OAAOhJ,KAAKM,SAASF,MAAM,+BAC7B4I,EAAGI,OAAO,EAAG,EAAW,GAARJ,EAAG,GAAUA,EAAG,IAIlC,IAAIK,EAAO,EACX,IAAS7F,EAAI,EAAGA,EAAIwF,EAAG7I,OAAQqD,IAAK,CAClC,IAAIwC,EAAQgD,EAAGxF,GACf,IAAK6F,IAAQrD,GAAS,IAAMA,IAAU,EACpCqD,IAGJ,IAAIC,EAAQ,IAAIzJ,EAAOwJ,GACnBnJ,EAASoJ,EAAMnJ,OAAS,EAC5B,IAASqD,EAAIwF,EAAG7I,OAAS,EAAGqD,GAAK,EAAGA,IAAK,CACnCwC,EAAQgD,EAAGxF,GAEf,IADA8F,EAAMpJ,KAAoB,IAAR8F,GACVA,IAAU,GAAK,GACrBsD,EAAMpJ,KAAY,IAAgB,IAAR8F,EAG9B,OAAOhG,KAAKwI,qBAAqBc,IAUnC9G,QAAQ5B,UAAU2I,YAAc,SAASC,WAAWC,EAAM3G,GACxD,IAAImC,EACAyE,EAAO,IAAI3C,KAAK0C,GA0BpB,MAxBY,YAAR3G,EACFmC,EAAM,CACJ2C,IAAI8B,EAAKC,eACT/B,IAAI8B,EAAKE,cAAgB,GACzBhC,IAAI8B,EAAKG,cACTjC,IAAI8B,EAAKI,eACTlC,IAAI8B,EAAKK,iBACTnC,IAAI8B,EAAKM,iBACT,KACAxI,KAAK,IACU,YAARsB,EACTmC,EAAM,CACJ2C,IAAI8B,EAAKC,cAAgB,KACzB/B,IAAI8B,EAAKE,cAAgB,GACzBhC,IAAI8B,EAAKG,cACTjC,IAAI8B,EAAKI,eACTlC,IAAI8B,EAAKK,iBACTnC,IAAI8B,EAAKM,iBACT,KACAxI,KAAK,IAEPxB,KAAKM,SAASF,MAAM,YAAc0C,EAAM,8BAGnC9C,KAAK0I,WAAWzD,EAAK,WAG9BzC,QAAQ5B,UAAUqJ,YAAc,SAASC,aACvC,OAAOlK,KAAKwI,qBAAqB,KAGnChG,QAAQ5B,UAAUuJ,WAAa,SAASC,UAAU7G,EAAKsC,GACrD,GAAmB,iBAARtC,EAAkB,CAC3B,IAAKsC,EACH,OAAO7F,KAAKM,SAASF,MAAM,+CAC7B,IAAKyF,EAAOyC,eAAe/E,GACzB,OAAOvD,KAAKM,SAASF,MAAM,+BACA8I,KAAKC,UAAU5F,IAE5CA,EAAMsC,EAAOtC,GAIf,GAAmB,iBAARA,IAAqB1D,EAAOI,SAASsD,GAAM,CACpD,IAAI8G,EAAW9G,EAAI+G,WACd/G,EAAIgH,MAAsB,IAAdF,EAAS,IACxBA,EAASG,QAAQ,GAEnBjH,EAAM,IAAI1D,EAAOwK,GAGnB,GAAIxK,EAAOI,SAASsD,GAAM,CACxB,IAAI8F,EAAO9F,EAAIpD,OACI,IAAfoD,EAAIpD,QACNkJ,IAEF,IAAI5H,EAAM,IAAI5B,EAAOwJ,GAIrB,OAHA9F,EAAI3B,KAAKH,GACU,IAAf8B,EAAIpD,SACNsB,EAAI,GAAK,GACJzB,KAAKwI,qBAAqB/G,GAGnC,GAAI8B,EAAM,IACR,OAAOvD,KAAKwI,qBAAqBjF,GAEnC,GAAIA,EAAM,IACR,OAAOvD,KAAKwI,qBAAqB,CAAC,EAAGjF,IAEnC8F,EAAO,EACX,IADA,IACS7F,EAAID,EAAKC,GAAK,IAAOA,IAAM,EAClC6F,IAGF,IAAS7F,GADL/B,EAAM,IAAIlB,MAAM8I,IACHlJ,OAAS,EAAGqD,GAAK,EAAGA,IACnC/B,EAAI+B,GAAW,IAAND,EACTA,IAAQ,EAMV,OAJY,IAAT9B,EAAI,IACLA,EAAI+I,QAAQ,GAGPxK,KAAKwI,qBAAqB,IAAI3I,EAAO4B,KAG9Ce,QAAQ5B,UAAU6J,YAAc,SAASC,WAAWrK,GAClD,OAAOL,KAAKwI,qBAAqBnI,EAAQ,IAAO,IAGlDmC,QAAQ5B,UAAU2G,KAAO,SAASC,IAAIpF,EAAQqF,GAG5C,MAFsB,mBAAXrF,IACTA,EAASA,EAAOqF,IACXrF,EAAOuI,YAAY,OAAOpI,MAGnCC,QAAQ5B,UAAUgK,aAAe,SAASC,YAAYC,EAAYxK,EAAUqC,GAC1E,IACIa,EADAU,EAAQlE,KAAK+K,WAEjB,GAAyB,OAArB7G,EAAe,QACjB,OAAO,EAET,IAAIN,EAAOkH,EAAWtJ,OAItB,QAH4B8E,IAAxBpC,EAAM8G,gBACR9G,EAAM8G,cAAgBhL,KAAKiL,aAAa/G,EAAe,QAAG5D,EAAUqC,GAAQnB,QAE1EoC,EAAKzD,SAAW+D,EAAM8G,cAAc7K,OACtC,OAAO,EAET,IAAKqD,EAAE,EAAGA,EAAII,EAAKzD,OAAQqD,IACzB,GAAII,EAAKJ,KAAOU,EAAM8G,cAAcxH,GAClC,OAAO,EAEX,OAAO,I,qBCzQT,IAAIxE,EAAO,EAAQ,MACfY,EAAW,EAAQ,IAQvB,SAASsL,OAAO5I,EAAMI,GACpB1C,KAAKsC,KAAOA,EACZtC,KAAK0C,KAAOA,EAEZ1C,KAAKV,SAAW,GAChBU,KAAKT,SAAW,GAXRN,EAENE,OAAS,SAASA,OAAOmD,EAAMI,GACjC,OAAO,IAAIwI,OAAO5I,EAAMI,IAW1BwI,OAAOtK,UAAUuK,aAAe,SAASC,YAAYhM,GACnD,IAAIiM,EACJ,IACEA,EAAQ,EAAQ,MAAMC,iBACpB,aAAetL,KAAKsC,KAApB,8CAIF,MAAOiJ,GACPF,EAAQ,SAAUjJ,GAChBpC,KAAKwL,WAAWpJ,IAQpB,OALAxC,EAASyL,EAAOjM,GAChBiM,EAAMzK,UAAU4K,WAAa,SAASC,UAAUrJ,GAC9ChD,EAAKW,KAAKC,KAAMoC,IAGX,IAAIiJ,EAAMrL,OAGnBkL,OAAOtK,UAAU8G,YAAc,SAASA,YAAYrF,GAKlD,OAJAA,EAAMA,GAAO,MAERrC,KAAKV,SAASgJ,eAAejG,KAChCrC,KAAKV,SAAS+C,GAAOrC,KAAKmL,aAAanM,EAAKM,SAAS+C,KAChDrC,KAAKV,SAAS+C,IAGvB6I,OAAOtK,UAAU+C,OAAS,SAASA,OAAOC,EAAMvB,EAAKvC,GACnD,OAAOE,KAAK0H,YAAYrF,GAAKsB,OAAOC,EAAM9D,IAG5CoL,OAAOtK,UAAU+J,YAAc,SAASA,YAAYtI,GAKlD,OAJAA,EAAMA,GAAO,MAERrC,KAAKT,SAAS+I,eAAejG,KAChCrC,KAAKT,SAAS8C,GAAOrC,KAAKmL,aAAanM,EAAKO,SAAS8C,KAChDrC,KAAKT,SAAS8C,IAGvB6I,OAAOtK,UAAUiH,OAAS,SAASA,OAAOjE,EAAMvB,EAAoB/B,GAClE,OAAON,KAAK2K,YAAYtI,GAAKwF,OAAOjE,EAAMtD,K,qBC3D5C,IAAIV,EAAW,EAAQ,IAEvB,SAASJ,SAASM,GAChBE,KAAKqB,eAAiB,CACpBoG,IAAK,KACLiE,KAAM,GACN5L,QAASA,GAAW,GACpB6L,OAAQ,IA6FZ,SAASC,cAAcF,EAAMG,GAC3B7L,KAAK0L,KAAOA,EACZ1L,KAAK8L,QAAQD,GA5Ff5M,EAAQO,SAAWA,SAEnBA,SAASoB,UAAUmC,QAAU,SAASA,QAAQ0E,GAC5C,OAAOA,aAAemE,eAGxBpM,SAASoB,UAAUC,KAAO,SAASA,OACjC,IAAIqD,EAAQlE,KAAKqB,eAEjB,MAAO,CAAEoG,IAAKvD,EAAMuD,IAAKsE,QAAS7H,EAAMwH,KAAKvL,SAG/CX,SAASoB,UAAUE,QAAU,SAASA,QAAQ8C,GAC5C,IAAIM,EAAQlE,KAAKqB,eAEjB6C,EAAMuD,IAAM7D,EAAK6D,IACjBvD,EAAMwH,KAAOxH,EAAMwH,KAAKnK,MAAM,EAAGqC,EAAKmI,UAGxCvM,SAASoB,UAAUoL,SAAW,SAASA,SAAS/J,GAC9C,OAAOjC,KAAKqB,eAAeqK,KAAK7G,KAAK5C,IAGvCzC,SAASoB,UAAUqL,QAAU,SAASA,QAAQC,GAC5C,IAAIhI,EAAQlE,KAAKqB,eAEjB6C,EAAMwH,KAAOxH,EAAMwH,KAAKnK,MAAM,EAAG2K,EAAQ,IAG3C1M,SAASoB,UAAUuL,SAAW,SAASA,SAASD,EAAOjK,EAAK5B,GAC1D,IAAI6D,EAAQlE,KAAKqB,eAEjBrB,KAAKiM,QAAQC,GACK,OAAdhI,EAAMuD,MACRvD,EAAMuD,IAAIxF,GAAO5B,IAGrBb,SAASoB,UAAU8K,KAAO,SAASA,OACjC,OAAO1L,KAAKqB,eAAeqK,KAAKlK,KAAK,MAGvChC,SAASoB,UAAUwL,YAAc,SAASA,cACxC,IAAIlI,EAAQlE,KAAKqB,eAEbgL,EAAOnI,EAAMuD,IAEjB,OADAvD,EAAMuD,IAAM,GACL4E,GAGT7M,SAASoB,UAAU0L,YAAc,SAASA,YAAYD,GACpD,IAAInI,EAAQlE,KAAKqB,eAEbkL,EAAMrI,EAAMuD,IAEhB,OADAvD,EAAMuD,IAAM4E,EACLE,GAGT/M,SAASoB,UAAUR,MAAQ,SAASA,MAAMyL,GACxC,IAAIW,EACAtI,EAAQlE,KAAKqB,eAEboL,EAAYZ,aAAeD,cAS/B,GAPEY,EADEC,EACIZ,EAEA,IAAID,cAAc1H,EAAMwH,KAAKjL,KAAI,SAASiM,GAC9C,MAAO,IAAMxD,KAAKC,UAAUuD,GAAQ,OACnClL,KAAK,IAAKqK,EAAIc,SAAWd,EAAKA,EAAIe,QAGlC1I,EAAMpE,QAAQ+M,QACjB,MAAML,EAKR,OAHKC,GACHvI,EAAMyH,OAAO9G,KAAK2H,GAEbA,GAGThN,SAASoB,UAAUkM,WAAa,SAASA,WAAWnI,GAClD,IAAIT,EAAQlE,KAAKqB,eACjB,OAAK6C,EAAMpE,QAAQ+M,QAGZ,CACLlI,OAAQ3E,KAAK+C,QAAQ4B,GAAU,KAAOA,EACtCgH,OAAQzH,EAAMyH,QAJPhH,GAYX/E,EAASgM,cAAemB,OAExBnB,cAAchL,UAAUkL,QAAU,SAASA,QAAQD,GAKjD,GAJA7L,KAAK2M,QAAUd,EAAM,SAAW7L,KAAK0L,MAAQ,aACzCqB,MAAMC,mBACRD,MAAMC,kBAAkBhN,KAAM4L,gBAE3B5L,KAAK4M,MACR,IAEE,MAAM,IAAIG,MAAM/M,KAAK2M,SACrB,MAAOpB,GACPvL,KAAK4M,MAAQrB,EAAEqB,MAGnB,OAAO5M,O,qBCvHT,IAAIR,EAAW,EAAQ,MAAWA,SAC9BE,EAAgB,EAAQ,MAAWA,cACnCD,EAAgB,EAAQ,MAAWA,cACnCwN,EAAS,EAAQ,MAGjBC,EAAO,CACT,MAAO,QAAS,MAAO,QAAS,QAAS,OACzC,UAAW,UAAW,QAAS,OAAQ,MAAO,UAC9C,SAAU,SAAU,UAAW,SAAU,WAAY,SAAU,YAC/D,SAAU,SAAU,WAAY,SAAU,SAAU,UAAW,YAI7DC,EAAU,CACZ,MAAO,MAAO,MAAO,WAAY,WAAY,WAAY,MAAO,SAChE,MAAO,YACP/G,OAAO8G,GAYT,SAASvN,KAAK0C,EAAKM,GACjB,IAAIuB,EAAQ,GACZlE,KAAK+K,WAAa7G,EAElBA,EAAM7B,IAAMA,EAEZ6B,EAAMvB,OAASA,GAAU,KACzBuB,EAAMkJ,SAAW,KAGjBlJ,EAAMpB,IAAM,KACZoB,EAAMmJ,KAAO,KACbnJ,EAAMoJ,YAAc,KACpBpJ,EAAMqJ,OAAS,KACfrJ,EAAMsJ,UAAW,EACjBtJ,EAAMD,KAAM,EACZC,EAAMuD,KAAM,EACZvD,EAAMsD,IAAM,KACZtD,EAAMuJ,WAAa,KACnBvJ,EAAMjC,IAAM,KACZiC,EAAe,QAAI,KACnBA,EAAMwJ,SAAW,KACjBxJ,EAAMyJ,SAAW,KACjBzJ,EAAM0J,SAAW,KAGZ1J,EAAMvB,SACTuB,EAAMkJ,SAAW,GACjBpN,KAAK6N,SAGTnK,EAAOzE,QAAUU,KAEjB,IAAImO,EAAa,CACf,MAAO,SAAU,WAAY,MAAO,OAAQ,cAAe,SAC3D,WAAY,MAAO,MAAO,MAAO,aAAc,MAAO,UAAW,WACjE,WAAY,YAGdnO,KAAKiB,UAAUmN,MAAQ,SAASA,QAC9B,IAAI7J,EAAQlE,KAAK+K,WACbiD,EAAS,GACbF,EAAWpM,SAAQ,SAASuM,GAC1BD,EAAOC,GAAQ/J,EAAM+J,MAEvB,IAAIlN,EAAM,IAAIf,KAAKkO,YAAYF,EAAOrL,QAEtC,OADA5B,EAAIgK,WAAaiD,EACVjN,GAGTpB,KAAKiB,UAAUiN,MAAQ,SAASM,OAC9B,IAAIjK,EAAQlE,KAAK+K,WACjBoC,EAAQzL,SAAQ,SAAS0M,GACvBpO,KAAKoO,GAAU,SAASC,iBACtB,IAAIN,EAAQ,IAAI/N,KAAKkO,YAAYlO,MAEjC,OADAkE,EAAMkJ,SAASvI,KAAKkJ,GACbA,EAAMK,GAAQE,MAAMP,EAAOQ,cAEnCvO,OAGLL,KAAKiB,UAAU6B,MAAQ,SAAS+L,KAAK9L,GACnC,IAAIwB,EAAQlE,KAAK+K,WAEjBkC,EAAwB,OAAjB/I,EAAMvB,QACbD,EAAK3C,KAAKC,MAGVkE,EAAMkJ,SAAWlJ,EAAMkJ,SAASqB,QAAO,SAASC,GAC9C,OAAOA,EAAM3D,WAAWpI,SAAW3C,OAClCA,MACHiN,EAAO0B,MAAMzK,EAAMkJ,SAASjN,OAAQ,EAAG,sCAGzCR,KAAKiB,UAAUgO,SAAW,SAASC,QAAQxB,GACzC,IAAInJ,EAAQlE,KAAK+K,WAGbqC,EAAWC,EAAKoB,QAAO,SAASK,GAClC,OAAOA,aAAe9O,KAAKkO,cAC1BlO,MACHqN,EAAOA,EAAKoB,QAAO,SAASK,GAC1B,QAASA,aAAe9O,KAAKkO,eAC5BlO,MAEqB,IAApBoN,EAASjN,SACX8M,EAA0B,OAAnB/I,EAAMkJ,UACblJ,EAAMkJ,SAAWA,EAGjBA,EAAS1L,SAAQ,SAASgN,GACxBA,EAAM3D,WAAWpI,OAAS3C,OACzBA,OAEe,IAAhBqN,EAAKlN,SACP8M,EAAsB,OAAf/I,EAAMmJ,MACbnJ,EAAMmJ,KAAOA,EACbnJ,EAAMoJ,YAAcD,EAAK5M,KAAI,SAASqO,GACpC,GAAmB,iBAARA,GAAoBA,EAAIZ,cAAgBnM,OACjD,OAAO+M,EAET,IAAI/N,EAAM,GAOV,OANAgB,OAAOC,KAAK8M,GAAKpN,SAAQ,SAASO,GAC5BA,IAAc,EAANA,KACVA,GAAO,GACT,IAAI5B,EAAQyO,EAAI7M,GAChBlB,EAAIV,GAAS4B,KAERlB,OArHG,CACd,WAAY,aAAc,OAC1B,aAAc,eAAgB,cAC9B,cAAe,aAAc,cAAe,cAE5C,mBAAoB,aAAc,eAAgB,cAClD,cAAe,aAAc,eAwHrBW,SAAQ,SAAS0M,GACzBzO,KAAKiB,UAAUwN,GAAU,SAASW,aAChC,IAAI7K,EAAQlE,KAAK+K,WACjB,MAAM,IAAIgC,MAAMqB,EAAS,kCAAoClK,EAAM7B,SAQvE6K,EAAKxL,SAAQ,SAASoB,GACpBnD,KAAKiB,UAAUkC,GAAO,SAASkM,aAC7B,IAAI9K,EAAQlE,KAAK+K,WACbsC,EAAO9M,MAAMK,UAAUW,MAAMxB,KAAKwO,WAOtC,OALAtB,EAAqB,OAAd/I,EAAMpB,KACboB,EAAMpB,IAAMA,EAEZ9C,KAAK4O,SAASvB,GAEPrN,SAIXL,KAAKiB,UAAU4G,IAAM,SAASA,IAAI9G,GAChCuM,EAAOvM,GACP,IAAIwD,EAAQlE,KAAK+K,WAKjB,OAHAkC,EAAqB,OAAd/I,EAAMsD,KACbtD,EAAMsD,IAAM9G,EAELV,MAGTL,KAAKiB,UAAU4M,SAAW,SAASA,WAKjC,OAJYxN,KAAK+K,WAEXyC,UAAW,EAEVxN,MAGTL,KAAKiB,UAAUqO,IAAM,SAASA,IAAIC,GAChC,IAAIhL,EAAQlE,KAAK+K,WAMjB,OAJAkC,EAA4B,OAArB/I,EAAe,SACtBA,EAAe,QAAIgL,EACnBhL,EAAMsJ,UAAW,EAEVxN,MAGTL,KAAKiB,UAAU8M,SAAW,SAASA,SAASnK,GAC1C,IAAIW,EAAQlE,KAAK+K,WAKjB,OAHAkC,EAA0B,OAAnB/I,EAAMwJ,UAAwC,OAAnBxJ,EAAMyJ,UACxCzJ,EAAMwJ,SAAWnK,EAEVvD,MAGTL,KAAKiB,UAAU+M,SAAW,SAASA,SAASpK,GAC1C,IAAIW,EAAQlE,KAAK+K,WAKjB,OAHAkC,EAA0B,OAAnB/I,EAAMwJ,UAAwC,OAAnBxJ,EAAMyJ,UACxCzJ,EAAMyJ,SAAWpK,EAEVvD,MAGTL,KAAKiB,UAAU6G,IAAM,SAASA,MAC5B,IAAIvD,EAAQlE,KAAK+K,WACbsC,EAAO9M,MAAMK,UAAUW,MAAMxB,KAAKwO,WAOtC,OALArK,EAAMuD,KAAM,EAEQ,IAAhB4F,EAAKlN,QACPH,KAAK4O,SAASvB,GAETrN,MAGTL,KAAKiB,UAAUqB,IAAM,SAASA,IAAIkN,GAChC,IAAIjL,EAAQlE,KAAK+K,WAKjB,OAHAkC,EAAqB,OAAd/I,EAAMjC,KACbiC,EAAMjC,IAAMkN,EAELnP,MAGTL,KAAKiB,UAAUqD,IAAM,SAASA,MAK5B,OAJYjE,KAAK+K,WAEX9G,KAAM,EAELjE,MAGTL,KAAKiB,UAAU2M,OAAS,SAASA,OAAO9F,GACtC,IAAIvD,EAAQlE,KAAK+K,WAQjB,OANAkC,EAAwB,OAAjB/I,EAAMqJ,QACbrJ,EAAMqJ,OAAS9F,EACfzH,KAAK4O,SAAS7M,OAAOC,KAAKyF,GAAKhH,KAAI,SAASwB,GAC1C,OAAOwF,EAAIxF,OAGNjC,MAGTL,KAAKiB,UAAUgN,SAAW,SAASA,SAASlN,GAC1C,IAAIwD,EAAQlE,KAAK+K,WAKjB,OAHAkC,EAAqB,OAAd/I,EAAMsD,KACbtD,EAAM0J,SAAWlN,EAEVV,MAOTL,KAAKiB,UAAUiD,QAAU,SAASF,OAAOyL,EAAOtP,GAC9C,IAAIoE,EAAQlE,KAAK+K,WAGjB,GAAqB,OAAjB7G,EAAMvB,OACR,OAAOyM,EAAMtC,WAAW5I,EAAMkJ,SAAS,GAAGvJ,QAAQuL,EAAOtP,IAE3D,IAuCIuP,EAvCA1K,EAAST,EAAe,QACxBoL,GAAU,EAEVC,EAAU,KAKd,GAJkB,OAAdrL,EAAMjC,MACRsN,EAAUH,EAAMpD,SAAS9H,EAAMjC,MAG7BiC,EAAMsJ,SAAU,CAClB,IAAI1K,EAAM,KAQV,GAPuB,OAAnBoB,EAAMwJ,SACR5K,EAAMoB,EAAMwJ,SACc,OAAnBxJ,EAAMyJ,SACb7K,EAAMoB,EAAMyJ,SACS,OAAdzJ,EAAMpB,MACbA,EAAMoB,EAAMpB,KAEF,OAARA,GAAiBoB,EAAMD,KAgBzB,GAFAqL,EAAUtP,KAAK8D,SAASsL,EAAOtM,EAAKoB,EAAMD,KAEtCmL,EAAMrM,QAAQuM,GAChB,OAAOA,MAjBqB,CAE9B,IAAIzO,EAAOuO,EAAMvO,OACjB,IACuB,OAAjBqD,EAAMqJ,OACRvN,KAAKwP,eAAetL,EAAMpB,IAAKsM,EAAOtP,GAEtCE,KAAKyP,cAAcL,EAAOtP,GAC5BwP,GAAU,EACV,MAAO/D,GACP+D,GAAU,EAEZF,EAAMtO,QAAQD,IAclB,GAHIqD,EAAMuD,KAAO6H,IACfD,EAAUD,EAAMhD,eAEdkD,EAAS,CAEX,GAAuB,OAAnBpL,EAAMwJ,SAAmB,CAC3B,IAAIA,EAAW1N,KAAKoE,WAAWgL,EAAOlL,EAAMwJ,UAC5C,GAAI0B,EAAMrM,QAAQ2K,GAChB,OAAOA,EACT0B,EAAQ1B,EAGV,IAAIgC,EAAQN,EAAMlP,OAGlB,GAAkB,OAAdgE,EAAMsD,KAAiC,OAAjBtD,EAAMqJ,OAAiB,CAC/C,GAAIrJ,EAAMD,IACJpD,EAAOuO,EAAMvO,OACnB,IAAI6B,EAAO1C,KAAKoE,WACdgL,EACmB,OAAnBlL,EAAMyJ,SAAoBzJ,EAAMyJ,SAAWzJ,EAAMpB,IACjDoB,EAAMD,KAER,GAAImL,EAAMrM,QAAQL,GAChB,OAAOA,EAELwB,EAAMD,IACRU,EAASyK,EAAM9N,IAAIT,GAEnBuO,EAAQ1M,EAiBZ,GAdI5C,GAAWA,EAAQ6P,OAAuB,OAAdzL,EAAMpB,KACpChD,EAAQ6P,MAAMP,EAAM1D,OAAQgE,EAAON,EAAMjP,OAAQ,UAE/CL,GAAWA,EAAQ6P,OAAuB,OAAdzL,EAAMpB,KACpChD,EAAQ6P,MAAMP,EAAM1D,OAAQ0D,EAAMlP,OAAQkP,EAAMjP,OAAQ,WAIxDwE,EADET,EAAMD,IACCU,EACe,OAAjBT,EAAMqJ,OACJvN,KAAKwP,eAAetL,EAAMpB,IAAKsM,EAAOtP,GAEtCE,KAAKyP,cAAcL,EAAOtP,GAEjCsP,EAAMrM,QAAQ4B,GAChB,OAAOA,EAYT,GATKT,EAAMD,KAAwB,OAAjBC,EAAMqJ,QAAsC,OAAnBrJ,EAAMkJ,UAC/ClJ,EAAMkJ,SAAS1L,SAAQ,SAASkO,eAAelB,GAG7CA,EAAM7K,QAAQuL,EAAOtP,MAKrBoE,EAAM0J,WAA2B,WAAd1J,EAAMpB,KAAkC,WAAdoB,EAAMpB,KAAmB,CACxE,IAAIc,EAAO,IAAInE,EAAckF,GAC7BA,EAAS3E,KAAK6P,QAAQ3L,EAAM0J,SAAUwB,EAAM/N,eAAeoG,KACtD5D,QAAQD,EAAM9D,IAcvB,OATIoE,EAAMuD,KAAO6H,IACf3K,EAASyK,EAAM9C,YAAY+C,IAGX,OAAdnL,EAAMjC,KAA4B,OAAX0C,IAA+B,IAAZ2K,EAEzB,OAAZC,GACPH,EAAMnD,QAAQsD,GAFdH,EAAMjD,SAASoD,EAASrL,EAAMjC,IAAK0C,GAI9BA,GAGThF,KAAKiB,UAAU4O,eAAiB,SAASM,cAAchN,EAAKsM,EAAOtP,GACjE,IAAIoE,EAAQlE,KAAK+K,WAEjB,MAAY,QAARjI,GAAyB,QAARA,EACZ,KACG,UAARA,GAA2B,UAARA,EACd9C,KAAKwE,YAAY4K,EAAOtM,EAAKoB,EAAMmJ,KAAK,GAAIvN,GAC5C,OAAO4F,KAAK5C,GACZ9C,KAAK8E,WAAWsK,EAAOtM,EAAKhD,GACpB,UAARgD,GAAmBoB,EAAMmJ,KACzBrN,KAAK2F,aAAayJ,EAAOlL,EAAMmJ,KAAK,GAAInJ,EAAMmJ,KAAK,GAAIvN,GAC/C,UAARgD,EACA9C,KAAK2F,aAAayJ,EAAO,KAAM,KAAMtP,GAC7B,YAARgD,GAA6B,YAARA,EACrB9C,KAAKuG,YAAY6I,EAAOtM,EAAKhD,GACrB,UAARgD,EACA9C,KAAKiH,YAAYmI,EAAOtP,GAChB,SAARgD,EACA9C,KAAKmH,YAAYiI,EAAOtP,GAChB,YAARgD,EACA9C,KAAK8E,WAAWsK,EAAOtM,EAAKhD,GACpB,QAARgD,GAAyB,SAARA,EACjB9C,KAAKqH,WAAW+H,EAAOlL,EAAMmJ,MAAQnJ,EAAMmJ,KAAK,GAAIvN,GAE3C,OAAdoE,EAAMsD,IACDxH,KAAK6P,QAAQ3L,EAAMsD,IAAK4H,EAAM/N,eAAeoG,KAC/C5D,QAAQuL,EAAOtP,GAEbsP,EAAMhP,MAAM,gBAAkB0C,IAIzCnD,KAAKiB,UAAUiP,QAAU,SAASA,QAAQzN,EAAQqF,GAEhD,IAAIvD,EAAQlE,KAAK+K,WASjB,OAPA7G,EAAMuJ,WAAazN,KAAKuH,KAAKnF,EAAQqF,GACrCwF,EAA8C,OAAvC/I,EAAMuJ,WAAW1C,WAAWpI,QACnCuB,EAAMuJ,WAAavJ,EAAMuJ,WAAW1C,WAAWqC,SAAS,GACpDlJ,EAAMyJ,WAAazJ,EAAMuJ,WAAW1C,WAAW4C,WACjDzJ,EAAMuJ,WAAavJ,EAAMuJ,WAAWM,QACpC7J,EAAMuJ,WAAW1C,WAAW4C,SAAWzJ,EAAMyJ,UAExCzJ,EAAMuJ,YAGf9N,KAAKiB,UAAU6O,cAAgB,SAASM,aAAaX,EAAOtP,GAC1D,IAAIoE,EAAQlE,KAAK+K,WACbpG,EAAS,KACTqL,GAAQ,EAmBZ,OAjBAjO,OAAOC,KAAKkC,EAAMqJ,QAAQ0C,MAAK,SAAShO,GACtC,IAAIpB,EAAOuO,EAAMvO,OACbqP,EAAOhM,EAAMqJ,OAAOtL,GACxB,IACE,IAAI5B,EAAQ6P,EAAKrM,QAAQuL,EAAOtP,GAChC,GAAIsP,EAAMrM,QAAQ1C,GAChB,OAAO,EAETsE,EAAS,CAAEwL,KAAMlO,EAAK5B,MAAOA,GAC7B2P,GAAQ,EACR,MAAOzE,GAEP,OADA6D,EAAMtO,QAAQD,IACP,EAET,OAAO,IACNb,MAEEgQ,EAGErL,EAFEyK,EAAMhP,MAAM,uBASvBT,KAAKiB,UAAU4H,qBAAuB,SAAS4H,oBAAoBxM,GACjE,OAAO,IAAIlE,EAAckE,EAAM5D,KAAKM,WAGtCX,KAAKiB,UAAUkH,QAAU,SAASD,OAAOjE,EAAMtD,EAAUqC,GACvD,IAAIuB,EAAQlE,KAAK+K,WACjB,GAAyB,OAArB7G,EAAe,SAAcA,EAAe,UAAMN,EAAtD,CAGA,IAAIe,EAAS3E,KAAKiL,aAAarH,EAAMtD,EAAUqC,GAC/C,QAAe2D,IAAX3B,IAGA3E,KAAK4K,aAAajG,EAAQrE,EAAUqC,GAGxC,OAAOgC,IAGThF,KAAKiB,UAAUqK,aAAe,SAASpD,OAAOjE,EAAMtD,EAAUqC,GAC5D,IAAIuB,EAAQlE,KAAK+K,WAGjB,GAAqB,OAAjB7G,EAAMvB,OACR,OAAOuB,EAAMkJ,SAAS,GAAGtF,QAAQlE,EAAMtD,GAAY,IAAId,GAEzD,IAAImF,EAAS,KAMb,GAHA3E,KAAKM,SAAWA,EAGZ4D,EAAMsJ,eAAqBlH,IAAT1C,EAAoB,CACxC,GAAyB,OAArBM,EAAe,QAGjB,OAFAN,EAAOM,EAAe,QAM1B,IAAI+D,EAAU,KACV/E,GAAY,EAChB,GAAIgB,EAAMD,IAERU,EAAS3E,KAAKwI,qBAAqB5E,QAC9B,GAAIM,EAAMqJ,OACf5I,EAAS3E,KAAKqQ,cAAczM,EAAMtD,QAC7B,GAAI4D,EAAM0J,SACf3F,EAAUjI,KAAK6P,QAAQ3L,EAAM0J,SAAUjL,GAAQmF,QAAQlE,EAAMtD,GAC7D4C,GAAY,OACP,GAAIgB,EAAMkJ,SACfnF,EAAU/D,EAAMkJ,SAAS3M,KAAI,SAASiO,GACpC,GAA6B,UAAzBA,EAAM3D,WAAWjI,IACnB,OAAO4L,EAAM5G,QAAQ,KAAMxH,EAAUsD,GAEvC,GAA6B,OAAzB8K,EAAM3D,WAAW9I,IACnB,OAAO3B,EAASF,MAAM,2BACxB,IAAImP,EAAUjP,EAAS0L,SAAS0C,EAAM3D,WAAW9I,KAEjD,GAAoB,iBAAT2B,EACT,OAAOtD,EAASF,MAAM,2CAExB,IAAIW,EAAM2N,EAAM5G,QAAQlE,EAAK8K,EAAM3D,WAAW9I,KAAM3B,EAAUsD,GAG9D,OAFAtD,EAAS6L,SAASoD,GAEXxO,IACNf,MAAMyO,QAAO,SAASC,GACvB,OAAOA,KAETzG,EAAUjI,KAAKwI,qBAAqBP,QAEpC,GAAkB,UAAd/D,EAAMpB,KAAiC,UAAdoB,EAAMpB,IAAiB,CAElD,IAAMoB,EAAMmJ,MAA8B,IAAtBnJ,EAAMmJ,KAAKlN,OAC7B,OAAOG,EAASF,MAAM,uBAAyB8D,EAAMpB,KAEvD,IAAKvC,MAAMC,QAAQoD,GACjB,OAAOtD,EAASF,MAAM,sCAExB,IAAIsO,EAAQ1O,KAAK+N,QACjBW,EAAM3D,WAAW4C,SAAW,KAC5B1F,EAAUjI,KAAKwI,qBAAqB5E,EAAKnD,KAAI,SAASC,GACpD,IAAIwD,EAAQlE,KAAK+K,WAEjB,OAAO/K,KAAK6P,QAAQ3L,EAAMmJ,KAAK,GAAIzJ,GAAMkE,QAAQpH,EAAMJ,KACtDoO,SACoB,OAAdxK,EAAMsD,IACf7C,EAAS3E,KAAK6P,QAAQ3L,EAAMsD,IAAK7E,GAAQmF,QAAQlE,EAAMtD,IAEvD2H,EAAUjI,KAAKsQ,iBAAiBpM,EAAMpB,IAAKc,GAC3CV,GAAY,GAMhB,IAAKgB,EAAMD,KAAwB,OAAjBC,EAAMqJ,OAAiB,CACvC,IAAIzK,EAAyB,OAAnBoB,EAAMyJ,SAAoBzJ,EAAMyJ,SAAWzJ,EAAMpB,IACvDE,EAAyB,OAAnBkB,EAAMyJ,SAAoB,YAAc,UAEtC,OAAR7K,EACgB,OAAdoB,EAAMsD,KACRlH,EAASF,MAAM,wCAEC,OAAd8D,EAAMsD,MACR7C,EAAS3E,KAAK+H,iBAAiBjF,EAAKI,EAAWF,EAAKiF,IAQ1D,OAHuB,OAAnB/D,EAAMwJ,WACR/I,EAAS3E,KAAK+H,iBAAiB7D,EAAMwJ,UAAU,EAAO,UAAW/I,IAE5DA,GAGThF,KAAKiB,UAAUyP,cAAgB,SAASE,aAAa3M,EAAMtD,GACzD,IAAI4D,EAAQlE,KAAK+K,WAEbmF,EAAOhM,EAAMqJ,OAAO3J,EAAKuM,MAO7B,OANKD,GACHjD,GACI,EACArJ,EAAKuM,KAAO,iBACRjH,KAAKC,UAAUpH,OAAOC,KAAKkC,EAAMqJ,UAEpC2C,EAAKpI,QAAQlE,EAAKvD,MAAOC,IAGlCX,KAAKiB,UAAU0P,iBAAmB,SAASE,gBAAgB1N,EAAKc,GAC9D,IAAIM,EAAQlE,KAAK+K,WAEjB,GAAI,OAAOrF,KAAK5C,GACd,OAAO9C,KAAK0I,WAAW9E,EAAMd,GAC1B,GAAY,UAARA,GAAmBoB,EAAMmJ,KAChC,OAAOrN,KAAK8I,aAAalF,EAAMM,EAAMoJ,YAAY,GAAIpJ,EAAMmJ,KAAK,IAC7D,GAAY,UAARvK,EACP,OAAO9C,KAAK8I,aAAalF,EAAM,KAAM,MAClC,GAAY,YAARd,GAA6B,YAARA,EAC5B,OAAO9C,KAAKuJ,YAAY3F,EAAMd,GAC3B,GAAY,UAARA,EACP,OAAO9C,KAAKiK,cACT,GAAY,QAARnH,GAAyB,SAARA,EACxB,OAAO9C,KAAKmK,WAAWvG,EAAMM,EAAMmJ,MAAQnJ,EAAMoJ,YAAY,IAC1D,GAAY,SAARxK,EACP,OAAO9C,KAAKyK,YAAY7G,GACrB,GAAY,YAARd,EACP,OAAO9C,KAAK0I,WAAW9E,EAAMd,GAE7B,MAAM,IAAIiK,MAAM,oBAAsBjK,IAG1CnD,KAAKiB,UAAU2E,UAAY,SAASkL,SAASxL,GAC3C,MAAO,YAAYS,KAAKT,IAG1BtF,KAAKiB,UAAU6E,YAAc,SAASiL,WAAWzL,GAC/C,MAAO,oCAAoCS,KAAKT,K,qBCxnBlD,IAAI5F,EAAY,EAAQ,MAExBJ,EAAQgE,SAAW,CACjB0N,EAAG,YACHC,EAAG,cACHC,EAAG,UACHC,EAAG,WAEL7R,EAAQsJ,eAAiBlJ,EAAUwC,SAAS5C,EAAQgE,UAEpDhE,EAAQ6D,IAAM,CACZ6N,EAAM,MACN,EAAM,OACN,EAAM,MACN,EAAM,SACN,EAAM,SACN,EAAM,QACN,EAAM,QACN,EAAM,UACN,EAAM,WACN,EAAM,OACN,GAAM,OACN,GAAM,QACN,GAAM,UACN,GAAM,cACN,GAAM,MACN,GAAM,MACN,GAAM,SACN,GAAM,WACN,GAAM,SACN,GAAM,WACN,GAAM,SACN,GAAM,UACN,GAAM,UACN,GAAM,WACN,GAAM,YACN,GAAM,SACN,GAAM,SACN,GAAM,UACN,GAAM,UAER1R,EAAQoJ,UAAYhJ,EAAUwC,SAAS5C,EAAQ6D,M,qBCzC/C,IAAIxD,EAAWL,EAEfK,EAAS4C,IAAM,EAAQ,MACvB5C,EAASyR,IAAM,EAAQ,O,qBCHvB,IAAInR,EAAW,EAAQ,IACnBC,EAAS,EAAQ,KAAUA,OAE3BsC,EAAa,EAAQ,MAEzB,SAAS6O,WAAW5O,GAClBD,EAAWpC,KAAKC,KAAMoC,GACtBpC,KAAKqC,IAAM,MAEbzC,EAASoR,WAAY7O,GACrBuB,EAAOzE,QAAU+R,WAEjBA,WAAWpQ,UAAU+C,OAAS,SAASA,OAAOC,EAAM9D,GAQlD,IAPA,IAAImR,EAAQrN,EAAK0B,WAAW2D,MAAM,YAE9BiI,EAAQpR,EAAQoR,MAAMC,cAEtBC,EAAK,kCACL1B,GAAS,EACT2B,GAAO,EACF7N,EAAI,EAAGA,EAAIyN,EAAM9Q,OAAQqD,IAAK,CACrC,IAAIwM,EAAQiB,EAAMzN,GAAGwM,MAAMoB,GAC3B,GAAc,OAAVpB,GAGAA,EAAM,KAAOkB,EAAjB,CAGA,IAAe,IAAXxB,EAIG,CACL,GAAiB,QAAbM,EAAM,GACR,MACFqB,EAAM7N,EACN,MAPA,GAAiB,UAAbwM,EAAM,GACR,MACFN,EAAQlM,GAQZ,IAAe,IAAXkM,IAAyB,IAAT2B,EAClB,MAAM,IAAItE,MAAM,8BAAgCmE,GAElD,IAAII,EAASL,EAAM1P,MAAMmO,EAAQ,EAAG2B,GAAK7P,KAAK,IAE9C8P,EAAOC,QAAQ,oBAAqB,IAEpC,IAAInC,EAAQ,IAAIvP,EAAOyR,EAAQ,UAC/B,OAAOnP,EAAWvB,UAAU+C,OAAO5D,KAAKC,KAAMoP,EAAOtP,K,qBC/CvD,IAAIP,EAAWN,EAEfM,EAAS2C,IAAM,EAAQ,MACvB3C,EAASwR,IAAM,EAAQ,O,qBCHvB,IAAInR,EAAW,EAAQ,IAEnB+H,EAAa,EAAQ,MAEzB,SAAS6J,WAAWpP,GAClBuF,EAAW5H,KAAKC,KAAMoC,GACtBpC,KAAKqC,IAAM,MAEbzC,EAAS4R,WAAY7J,GACrBjE,EAAOzE,QAAUuS,WAEjBA,WAAW5Q,UAAUiH,OAAS,SAASA,OAAOjE,EAAM9D,GAKlD,IAJA,IAEI2R,EAFM9J,EAAW/G,UAAUiH,OAAO9H,KAAKC,KAAM4D,GAErC0B,SAAS,UACjB7D,EAAM,CAAE,cAAgB3B,EAAQoR,MAAQ,SACnC1N,EAAI,EAAGA,EAAIiO,EAAEtR,OAAQqD,GAAK,GACjC/B,EAAIoD,KAAK4M,EAAElQ,MAAMiC,EAAGA,EAAI,KAE1B,OADA/B,EAAIoD,KAAK,YAAc/E,EAAQoR,MAAQ,SAChCzP,EAAID,KAAK","file":"npm.asn1.js-dd72b234b0e9315b0d7e.js","sourcesContent":["var asn1 = exports;\n\nasn1.bignum = require('bn.js');\n\nasn1.define = require('./asn1/api').define;\nasn1.base = require('./asn1/base');\nasn1.constants = require('./asn1/constants');\nasn1.decoders = require('./asn1/decoders');\nasn1.encoders = require('./asn1/encoders');\n","var base = exports;\n\nbase.Reporter = require('./reporter').Reporter;\nbase.DecoderBuffer = require('./buffer').DecoderBuffer;\nbase.EncoderBuffer = require('./buffer').EncoderBuffer;\nbase.Node = require('./node');\n","var inherits = require('inherits');\nvar Reporter = require('../base').Reporter;\nvar Buffer = require('buffer').Buffer;\n\nfunction DecoderBuffer(base, options) {\n  Reporter.call(this, options);\n  if (!Buffer.isBuffer(base)) {\n    this.error('Input not Buffer');\n    return;\n  }\n\n  this.base = base;\n  this.offset = 0;\n  this.length = base.length;\n}\ninherits(DecoderBuffer, Reporter);\nexports.DecoderBuffer = DecoderBuffer;\n\nDecoderBuffer.prototype.save = function save() {\n  return { offset: this.offset, reporter: Reporter.prototype.save.call(this) };\n};\n\nDecoderBuffer.prototype.restore = function restore(save) {\n  // Return skipped data\n  var res = new DecoderBuffer(this.base);\n  res.offset = save.offset;\n  res.length = this.offset;\n\n  this.offset = save.offset;\n  Reporter.prototype.restore.call(this, save.reporter);\n\n  return res;\n};\n\nDecoderBuffer.prototype.isEmpty = function isEmpty() {\n  return this.offset === this.length;\n};\n\nDecoderBuffer.prototype.readUInt8 = function readUInt8(fail) {\n  if (this.offset + 1 <= this.length)\n    return this.base.readUInt8(this.offset++, true);\n  else\n    return this.error(fail || 'DecoderBuffer overrun');\n}\n\nDecoderBuffer.prototype.skip = function skip(bytes, fail) {\n  if (!(this.offset + bytes <= this.length))\n    return this.error(fail || 'DecoderBuffer overrun');\n\n  var res = new DecoderBuffer(this.base);\n\n  // Share reporter state\n  res._reporterState = this._reporterState;\n\n  res.offset = this.offset;\n  res.length = this.offset + bytes;\n  this.offset += bytes;\n  return res;\n}\n\nDecoderBuffer.prototype.raw = function raw(save) {\n  return this.base.slice(save ? save.offset : this.offset, this.length);\n}\n\nfunction EncoderBuffer(value, reporter) {\n  if (Array.isArray(value)) {\n    this.length = 0;\n    this.value = value.map(function(item) {\n      if (!(item instanceof EncoderBuffer))\n        item = new EncoderBuffer(item, reporter);\n      this.length += item.length;\n      return item;\n    }, this);\n  } else if (typeof value === 'number') {\n    if (!(0 <= value && value <= 0xff))\n      return reporter.error('non-byte EncoderBuffer value');\n    this.value = value;\n    this.length = 1;\n  } else if (typeof value === 'string') {\n    this.value = value;\n    this.length = Buffer.byteLength(value);\n  } else if (Buffer.isBuffer(value)) {\n    this.value = value;\n    this.length = value.length;\n  } else {\n    return reporter.error('Unsupported type: ' + typeof value);\n  }\n}\nexports.EncoderBuffer = EncoderBuffer;\n\nEncoderBuffer.prototype.join = function join(out, offset) {\n  if (!out)\n    out = new Buffer(this.length);\n  if (!offset)\n    offset = 0;\n\n  if (this.length === 0)\n    return out;\n\n  if (Array.isArray(this.value)) {\n    this.value.forEach(function(item) {\n      item.join(out, offset);\n      offset += item.length;\n    });\n  } else {\n    if (typeof this.value === 'number')\n      out[offset] = this.value;\n    else if (typeof this.value === 'string')\n      out.write(this.value, offset);\n    else if (Buffer.isBuffer(this.value))\n      this.value.copy(out, offset);\n    offset += this.length;\n  }\n\n  return out;\n};\n","var constants = exports;\n\n// Helper\nconstants._reverse = function reverse(map) {\n  var res = {};\n\n  Object.keys(map).forEach(function(key) {\n    // Convert key to integer if it is stringified\n    if ((key | 0) == key)\n      key = key | 0;\n\n    var value = map[key];\n    res[value] = key;\n  });\n\n  return res;\n};\n\nconstants.der = require('./der');\n","var inherits = require('inherits');\n\nvar asn1 = require('../../asn1');\nvar base = asn1.base;\nvar bignum = asn1.bignum;\n\n// Import DER constants\nvar der = asn1.constants.der;\n\nfunction DERDecoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n};\nmodule.exports = DERDecoder;\n\nDERDecoder.prototype.decode = function decode(data, options) {\n  if (!(data instanceof base.DecoderBuffer))\n    data = new base.DecoderBuffer(data, options);\n\n  return this.tree._decode(data, options);\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  base.Node.call(this, 'der', parent);\n}\ninherits(DERNode, base.Node);\n\nDERNode.prototype._peekTag = function peekTag(buffer, tag, any) {\n  if (buffer.isEmpty())\n    return false;\n\n  var state = buffer.save();\n  var decodedTag = derDecodeTag(buffer, 'Failed to peek tag: \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  buffer.restore(state);\n\n  return decodedTag.tag === tag || decodedTag.tagStr === tag ||\n    (decodedTag.tagStr + 'of') === tag || any;\n};\n\nDERNode.prototype._decodeTag = function decodeTag(buffer, tag, any) {\n  var decodedTag = derDecodeTag(buffer,\n                                'Failed to decode tag of \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  var len = derDecodeLen(buffer,\n                         decodedTag.primitive,\n                         'Failed to get length of \"' + tag + '\"');\n\n  // Failure\n  if (buffer.isError(len))\n    return len;\n\n  if (!any &&\n      decodedTag.tag !== tag &&\n      decodedTag.tagStr !== tag &&\n      decodedTag.tagStr + 'of' !== tag) {\n    return buffer.error('Failed to match tag: \"' + tag + '\"');\n  }\n\n  if (decodedTag.primitive || len !== null)\n    return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n\n  // Indefinite length... find END tag\n  var state = buffer.save();\n  var res = this._skipUntilEnd(\n      buffer,\n      'Failed to skip indefinite length body: \"' + this.tag + '\"');\n  if (buffer.isError(res))\n    return res;\n\n  len = buffer.offset - state.offset;\n  buffer.restore(state);\n  return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n};\n\nDERNode.prototype._skipUntilEnd = function skipUntilEnd(buffer, fail) {\n  while (true) {\n    var tag = derDecodeTag(buffer, fail);\n    if (buffer.isError(tag))\n      return tag;\n    var len = derDecodeLen(buffer, tag.primitive, fail);\n    if (buffer.isError(len))\n      return len;\n\n    var res;\n    if (tag.primitive || len !== null)\n      res = buffer.skip(len)\n    else\n      res = this._skipUntilEnd(buffer, fail);\n\n    // Failure\n    if (buffer.isError(res))\n      return res;\n\n    if (tag.tagStr === 'end')\n      break;\n  }\n};\n\nDERNode.prototype._decodeList = function decodeList(buffer, tag, decoder,\n                                                    options) {\n  var result = [];\n  while (!buffer.isEmpty()) {\n    var possibleEnd = this._peekTag(buffer, 'end');\n    if (buffer.isError(possibleEnd))\n      return possibleEnd;\n\n    var res = decoder.decode(buffer, 'der', options);\n    if (buffer.isError(res) && possibleEnd)\n      break;\n    result.push(res);\n  }\n  return result;\n};\n\nDERNode.prototype._decodeStr = function decodeStr(buffer, tag) {\n  if (tag === 'bitstr') {\n    var unused = buffer.readUInt8();\n    if (buffer.isError(unused))\n      return unused;\n    return { unused: unused, data: buffer.raw() };\n  } else if (tag === 'bmpstr') {\n    var raw = buffer.raw();\n    if (raw.length % 2 === 1)\n      return buffer.error('Decoding of string type: bmpstr length mismatch');\n\n    var str = '';\n    for (var i = 0; i < raw.length / 2; i++) {\n      str += String.fromCharCode(raw.readUInt16BE(i * 2));\n    }\n    return str;\n  } else if (tag === 'numstr') {\n    var numstr = buffer.raw().toString('ascii');\n    if (!this._isNumstr(numstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'numstr unsupported characters');\n    }\n    return numstr;\n  } else if (tag === 'octstr') {\n    return buffer.raw();\n  } else if (tag === 'objDesc') {\n    return buffer.raw();\n  } else if (tag === 'printstr') {\n    var printstr = buffer.raw().toString('ascii');\n    if (!this._isPrintstr(printstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'printstr unsupported characters');\n    }\n    return printstr;\n  } else if (/str$/.test(tag)) {\n    return buffer.raw().toString();\n  } else {\n    return buffer.error('Decoding of string type: ' + tag + ' unsupported');\n  }\n};\n\nDERNode.prototype._decodeObjid = function decodeObjid(buffer, values, relative) {\n  var result;\n  var identifiers = [];\n  var ident = 0;\n  while (!buffer.isEmpty()) {\n    var subident = buffer.readUInt8();\n    ident <<= 7;\n    ident |= subident & 0x7f;\n    if ((subident & 0x80) === 0) {\n      identifiers.push(ident);\n      ident = 0;\n    }\n  }\n  if (subident & 0x80)\n    identifiers.push(ident);\n\n  var first = (identifiers[0] / 40) | 0;\n  var second = identifiers[0] % 40;\n\n  if (relative)\n    result = identifiers;\n  else\n    result = [first, second].concat(identifiers.slice(1));\n\n  if (values) {\n    var tmp = values[result.join(' ')];\n    if (tmp === undefined)\n      tmp = values[result.join('.')];\n    if (tmp !== undefined)\n      result = tmp;\n  }\n\n  return result;\n};\n\nDERNode.prototype._decodeTime = function decodeTime(buffer, tag) {\n  var str = buffer.raw().toString();\n  if (tag === 'gentime') {\n    var year = str.slice(0, 4) | 0;\n    var mon = str.slice(4, 6) | 0;\n    var day = str.slice(6, 8) | 0;\n    var hour = str.slice(8, 10) | 0;\n    var min = str.slice(10, 12) | 0;\n    var sec = str.slice(12, 14) | 0;\n  } else if (tag === 'utctime') {\n    var year = str.slice(0, 2) | 0;\n    var mon = str.slice(2, 4) | 0;\n    var day = str.slice(4, 6) | 0;\n    var hour = str.slice(6, 8) | 0;\n    var min = str.slice(8, 10) | 0;\n    var sec = str.slice(10, 12) | 0;\n    if (year < 70)\n      year = 2000 + year;\n    else\n      year = 1900 + year;\n  } else {\n    return buffer.error('Decoding ' + tag + ' time is not supported yet');\n  }\n\n  return Date.UTC(year, mon - 1, day, hour, min, sec, 0);\n};\n\nDERNode.prototype._decodeNull = function decodeNull(buffer) {\n  return null;\n};\n\nDERNode.prototype._decodeBool = function decodeBool(buffer) {\n  var res = buffer.readUInt8();\n  if (buffer.isError(res))\n    return res;\n  else\n    return res !== 0;\n};\n\nDERNode.prototype._decodeInt = function decodeInt(buffer, values) {\n  // Bigint, return as it is (assume big endian)\n  var raw = buffer.raw();\n  var res = new bignum(raw);\n\n  if (values)\n    res = values[res.toString(10)] || res;\n\n  return res;\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getDecoder('der').tree;\n};\n\n// Utility methods\n\nfunction derDecodeTag(buf, fail) {\n  var tag = buf.readUInt8(fail);\n  if (buf.isError(tag))\n    return tag;\n\n  var cls = der.tagClass[tag >> 6];\n  var primitive = (tag & 0x20) === 0;\n\n  // Multi-octet tag - load\n  if ((tag & 0x1f) === 0x1f) {\n    var oct = tag;\n    tag = 0;\n    while ((oct & 0x80) === 0x80) {\n      oct = buf.readUInt8(fail);\n      if (buf.isError(oct))\n        return oct;\n\n      tag <<= 7;\n      tag |= oct & 0x7f;\n    }\n  } else {\n    tag &= 0x1f;\n  }\n  var tagStr = der.tag[tag];\n\n  return {\n    cls: cls,\n    primitive: primitive,\n    tag: tag,\n    tagStr: tagStr\n  };\n}\n\nfunction derDecodeLen(buf, primitive, fail) {\n  var len = buf.readUInt8(fail);\n  if (buf.isError(len))\n    return len;\n\n  // Indefinite form\n  if (!primitive && len === 0x80)\n    return null;\n\n  // Definite form\n  if ((len & 0x80) === 0) {\n    // Short form\n    return len;\n  }\n\n  // Long form\n  var num = len & 0x7f;\n  if (num > 4)\n    return buf.error('length octect is too long');\n\n  len = 0;\n  for (var i = 0; i < num; i++) {\n    len <<= 8;\n    var j = buf.readUInt8(fail);\n    if (buf.isError(j))\n      return j;\n    len |= j;\n  }\n\n  return len;\n}\n","var inherits = require('inherits');\nvar Buffer = require('buffer').Buffer;\n\nvar asn1 = require('../../asn1');\nvar base = asn1.base;\n\n// Import DER constants\nvar der = asn1.constants.der;\n\nfunction DEREncoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n};\nmodule.exports = DEREncoder;\n\nDEREncoder.prototype.encode = function encode(data, reporter) {\n  return this.tree._encode(data, reporter).join();\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  base.Node.call(this, 'der', parent);\n}\ninherits(DERNode, base.Node);\n\nDERNode.prototype._encodeComposite = function encodeComposite(tag,\n                                                              primitive,\n                                                              cls,\n                                                              content) {\n  var encodedTag = encodeTag(tag, primitive, cls, this.reporter);\n\n  // Short form\n  if (content.length < 0x80) {\n    var header = new Buffer(2);\n    header[0] = encodedTag;\n    header[1] = content.length;\n    return this._createEncoderBuffer([ header, content ]);\n  }\n\n  // Long form\n  // Count octets required to store length\n  var lenOctets = 1;\n  for (var i = content.length; i >= 0x100; i >>= 8)\n    lenOctets++;\n\n  var header = new Buffer(1 + 1 + lenOctets);\n  header[0] = encodedTag;\n  header[1] = 0x80 | lenOctets;\n\n  for (var i = 1 + lenOctets, j = content.length; j > 0; i--, j >>= 8)\n    header[i] = j & 0xff;\n\n  return this._createEncoderBuffer([ header, content ]);\n};\n\nDERNode.prototype._encodeStr = function encodeStr(str, tag) {\n  if (tag === 'bitstr') {\n    return this._createEncoderBuffer([ str.unused | 0, str.data ]);\n  } else if (tag === 'bmpstr') {\n    var buf = new Buffer(str.length * 2);\n    for (var i = 0; i < str.length; i++) {\n      buf.writeUInt16BE(str.charCodeAt(i), i * 2);\n    }\n    return this._createEncoderBuffer(buf);\n  } else if (tag === 'numstr') {\n    if (!this._isNumstr(str)) {\n      return this.reporter.error('Encoding of string type: numstr supports ' +\n                                 'only digits and space');\n    }\n    return this._createEncoderBuffer(str);\n  } else if (tag === 'printstr') {\n    if (!this._isPrintstr(str)) {\n      return this.reporter.error('Encoding of string type: printstr supports ' +\n                                 'only latin upper and lower case letters, ' +\n                                 'digits, space, apostrophe, left and rigth ' +\n                                 'parenthesis, plus sign, comma, hyphen, ' +\n                                 'dot, slash, colon, equal sign, ' +\n                                 'question mark');\n    }\n    return this._createEncoderBuffer(str);\n  } else if (/str$/.test(tag)) {\n    return this._createEncoderBuffer(str);\n  } else if (tag === 'objDesc') {\n    return this._createEncoderBuffer(str);\n  } else {\n    return this.reporter.error('Encoding of string type: ' + tag +\n                               ' unsupported');\n  }\n};\n\nDERNode.prototype._encodeObjid = function encodeObjid(id, values, relative) {\n  if (typeof id === 'string') {\n    if (!values)\n      return this.reporter.error('string objid given, but no values map found');\n    if (!values.hasOwnProperty(id))\n      return this.reporter.error('objid not found in values map');\n    id = values[id].split(/[\\s\\.]+/g);\n    for (var i = 0; i < id.length; i++)\n      id[i] |= 0;\n  } else if (Array.isArray(id)) {\n    id = id.slice();\n    for (var i = 0; i < id.length; i++)\n      id[i] |= 0;\n  }\n\n  if (!Array.isArray(id)) {\n    return this.reporter.error('objid() should be either array or string, ' +\n                               'got: ' + JSON.stringify(id));\n  }\n\n  if (!relative) {\n    if (id[1] >= 40)\n      return this.reporter.error('Second objid identifier OOB');\n    id.splice(0, 2, id[0] * 40 + id[1]);\n  }\n\n  // Count number of octets\n  var size = 0;\n  for (var i = 0; i < id.length; i++) {\n    var ident = id[i];\n    for (size++; ident >= 0x80; ident >>= 7)\n      size++;\n  }\n\n  var objid = new Buffer(size);\n  var offset = objid.length - 1;\n  for (var i = id.length - 1; i >= 0; i--) {\n    var ident = id[i];\n    objid[offset--] = ident & 0x7f;\n    while ((ident >>= 7) > 0)\n      objid[offset--] = 0x80 | (ident & 0x7f);\n  }\n\n  return this._createEncoderBuffer(objid);\n};\n\nfunction two(num) {\n  if (num < 10)\n    return '0' + num;\n  else\n    return num;\n}\n\nDERNode.prototype._encodeTime = function encodeTime(time, tag) {\n  var str;\n  var date = new Date(time);\n\n  if (tag === 'gentime') {\n    str = [\n      two(date.getFullYear()),\n      two(date.getUTCMonth() + 1),\n      two(date.getUTCDate()),\n      two(date.getUTCHours()),\n      two(date.getUTCMinutes()),\n      two(date.getUTCSeconds()),\n      'Z'\n    ].join('');\n  } else if (tag === 'utctime') {\n    str = [\n      two(date.getFullYear() % 100),\n      two(date.getUTCMonth() + 1),\n      two(date.getUTCDate()),\n      two(date.getUTCHours()),\n      two(date.getUTCMinutes()),\n      two(date.getUTCSeconds()),\n      'Z'\n    ].join('');\n  } else {\n    this.reporter.error('Encoding ' + tag + ' time is not supported yet');\n  }\n\n  return this._encodeStr(str, 'octstr');\n};\n\nDERNode.prototype._encodeNull = function encodeNull() {\n  return this._createEncoderBuffer('');\n};\n\nDERNode.prototype._encodeInt = function encodeInt(num, values) {\n  if (typeof num === 'string') {\n    if (!values)\n      return this.reporter.error('String int or enum given, but no values map');\n    if (!values.hasOwnProperty(num)) {\n      return this.reporter.error('Values map doesn\\'t contain: ' +\n                                 JSON.stringify(num));\n    }\n    num = values[num];\n  }\n\n  // Bignum, assume big endian\n  if (typeof num !== 'number' && !Buffer.isBuffer(num)) {\n    var numArray = num.toArray();\n    if (!num.sign && numArray[0] & 0x80) {\n      numArray.unshift(0);\n    }\n    num = new Buffer(numArray);\n  }\n\n  if (Buffer.isBuffer(num)) {\n    var size = num.length;\n    if (num.length === 0)\n      size++;\n\n    var out = new Buffer(size);\n    num.copy(out);\n    if (num.length === 0)\n      out[0] = 0\n    return this._createEncoderBuffer(out);\n  }\n\n  if (num < 0x80)\n    return this._createEncoderBuffer(num);\n\n  if (num < 0x100)\n    return this._createEncoderBuffer([0, num]);\n\n  var size = 1;\n  for (var i = num; i >= 0x100; i >>= 8)\n    size++;\n\n  var out = new Array(size);\n  for (var i = out.length - 1; i >= 0; i--) {\n    out[i] = num & 0xff;\n    num >>= 8;\n  }\n  if(out[0] & 0x80) {\n    out.unshift(0);\n  }\n\n  return this._createEncoderBuffer(new Buffer(out));\n};\n\nDERNode.prototype._encodeBool = function encodeBool(value) {\n  return this._createEncoderBuffer(value ? 0xff : 0);\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getEncoder('der').tree;\n};\n\nDERNode.prototype._skipDefault = function skipDefault(dataBuffer, reporter, parent) {\n  var state = this._baseState;\n  var i;\n  if (state['default'] === null)\n    return false;\n\n  var data = dataBuffer.join();\n  if (state.defaultBuffer === undefined)\n    state.defaultBuffer = this._encodeValue(state['default'], reporter, parent).join();\n\n  if (data.length !== state.defaultBuffer.length)\n    return false;\n\n  for (i=0; i < data.length; i++)\n    if (data[i] !== state.defaultBuffer[i])\n      return false;\n\n  return true;\n};\n\n// Utility methods\n\nfunction encodeTag(tag, primitive, cls, reporter) {\n  var res;\n\n  if (tag === 'seqof')\n    tag = 'seq';\n  else if (tag === 'setof')\n    tag = 'set';\n\n  if (der.tagByName.hasOwnProperty(tag))\n    res = der.tagByName[tag];\n  else if (typeof tag === 'number' && (tag | 0) === tag)\n    res = tag;\n  else\n    return reporter.error('Unknown tag: ' + tag);\n\n  if (res >= 0x1f)\n    return reporter.error('Multi-octet tag encoding unsupported');\n\n  if (!primitive)\n    res |= 0x20;\n\n  res |= (der.tagClassByName[cls || 'universal'] << 6);\n\n  return res;\n}\n","var asn1 = require('../asn1');\nvar inherits = require('inherits');\n\nvar api = exports;\n\napi.define = function define(name, body) {\n  return new Entity(name, body);\n};\n\nfunction Entity(name, body) {\n  this.name = name;\n  this.body = body;\n\n  this.decoders = {};\n  this.encoders = {};\n};\n\nEntity.prototype._createNamed = function createNamed(base) {\n  var named;\n  try {\n    named = require('vm').runInThisContext(\n      '(function ' + this.name + '(entity) {\\n' +\n      '  this._initNamed(entity);\\n' +\n      '})'\n    );\n  } catch (e) {\n    named = function (entity) {\n      this._initNamed(entity);\n    };\n  }\n  inherits(named, base);\n  named.prototype._initNamed = function initnamed(entity) {\n    base.call(this, entity);\n  };\n\n  return new named(this);\n};\n\nEntity.prototype._getDecoder = function _getDecoder(enc) {\n  enc = enc || 'der';\n  // Lazily create decoder\n  if (!this.decoders.hasOwnProperty(enc))\n    this.decoders[enc] = this._createNamed(asn1.decoders[enc]);\n  return this.decoders[enc];\n};\n\nEntity.prototype.decode = function decode(data, enc, options) {\n  return this._getDecoder(enc).decode(data, options);\n};\n\nEntity.prototype._getEncoder = function _getEncoder(enc) {\n  enc = enc || 'der';\n  // Lazily create encoder\n  if (!this.encoders.hasOwnProperty(enc))\n    this.encoders[enc] = this._createNamed(asn1.encoders[enc]);\n  return this.encoders[enc];\n};\n\nEntity.prototype.encode = function encode(data, enc, /* internal */ reporter) {\n  return this._getEncoder(enc).encode(data, reporter);\n};\n","var inherits = require('inherits');\n\nfunction Reporter(options) {\n  this._reporterState = {\n    obj: null,\n    path: [],\n    options: options || {},\n    errors: []\n  };\n}\nexports.Reporter = Reporter;\n\nReporter.prototype.isError = function isError(obj) {\n  return obj instanceof ReporterError;\n};\n\nReporter.prototype.save = function save() {\n  var state = this._reporterState;\n\n  return { obj: state.obj, pathLen: state.path.length };\n};\n\nReporter.prototype.restore = function restore(data) {\n  var state = this._reporterState;\n\n  state.obj = data.obj;\n  state.path = state.path.slice(0, data.pathLen);\n};\n\nReporter.prototype.enterKey = function enterKey(key) {\n  return this._reporterState.path.push(key);\n};\n\nReporter.prototype.exitKey = function exitKey(index) {\n  var state = this._reporterState;\n\n  state.path = state.path.slice(0, index - 1);\n};\n\nReporter.prototype.leaveKey = function leaveKey(index, key, value) {\n  var state = this._reporterState;\n\n  this.exitKey(index);\n  if (state.obj !== null)\n    state.obj[key] = value;\n};\n\nReporter.prototype.path = function path() {\n  return this._reporterState.path.join('/');\n};\n\nReporter.prototype.enterObject = function enterObject() {\n  var state = this._reporterState;\n\n  var prev = state.obj;\n  state.obj = {};\n  return prev;\n};\n\nReporter.prototype.leaveObject = function leaveObject(prev) {\n  var state = this._reporterState;\n\n  var now = state.obj;\n  state.obj = prev;\n  return now;\n};\n\nReporter.prototype.error = function error(msg) {\n  var err;\n  var state = this._reporterState;\n\n  var inherited = msg instanceof ReporterError;\n  if (inherited) {\n    err = msg;\n  } else {\n    err = new ReporterError(state.path.map(function(elem) {\n      return '[' + JSON.stringify(elem) + ']';\n    }).join(''), msg.message || msg, msg.stack);\n  }\n\n  if (!state.options.partial)\n    throw err;\n\n  if (!inherited)\n    state.errors.push(err);\n\n  return err;\n};\n\nReporter.prototype.wrapResult = function wrapResult(result) {\n  var state = this._reporterState;\n  if (!state.options.partial)\n    return result;\n\n  return {\n    result: this.isError(result) ? null : result,\n    errors: state.errors\n  };\n};\n\nfunction ReporterError(path, msg) {\n  this.path = path;\n  this.rethrow(msg);\n};\ninherits(ReporterError, Error);\n\nReporterError.prototype.rethrow = function rethrow(msg) {\n  this.message = msg + ' at: ' + (this.path || '(shallow)');\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, ReporterError);\n\n  if (!this.stack) {\n    try {\n      // IE only adds stack when thrown\n      throw new Error(this.message);\n    } catch (e) {\n      this.stack = e.stack;\n    }\n  }\n  return this;\n};\n","var Reporter = require('../base').Reporter;\nvar EncoderBuffer = require('../base').EncoderBuffer;\nvar DecoderBuffer = require('../base').DecoderBuffer;\nvar assert = require('minimalistic-assert');\n\n// Supported tags\nvar tags = [\n  'seq', 'seqof', 'set', 'setof', 'objid', 'bool',\n  'gentime', 'utctime', 'null_', 'enum', 'int', 'objDesc',\n  'bitstr', 'bmpstr', 'charstr', 'genstr', 'graphstr', 'ia5str', 'iso646str',\n  'numstr', 'octstr', 'printstr', 't61str', 'unistr', 'utf8str', 'videostr'\n];\n\n// Public methods list\nvar methods = [\n  'key', 'obj', 'use', 'optional', 'explicit', 'implicit', 'def', 'choice',\n  'any', 'contains'\n].concat(tags);\n\n// Overrided methods list\nvar overrided = [\n  '_peekTag', '_decodeTag', '_use',\n  '_decodeStr', '_decodeObjid', '_decodeTime',\n  '_decodeNull', '_decodeInt', '_decodeBool', '_decodeList',\n\n  '_encodeComposite', '_encodeStr', '_encodeObjid', '_encodeTime',\n  '_encodeNull', '_encodeInt', '_encodeBool'\n];\n\nfunction Node(enc, parent) {\n  var state = {};\n  this._baseState = state;\n\n  state.enc = enc;\n\n  state.parent = parent || null;\n  state.children = null;\n\n  // State\n  state.tag = null;\n  state.args = null;\n  state.reverseArgs = null;\n  state.choice = null;\n  state.optional = false;\n  state.any = false;\n  state.obj = false;\n  state.use = null;\n  state.useDecoder = null;\n  state.key = null;\n  state['default'] = null;\n  state.explicit = null;\n  state.implicit = null;\n  state.contains = null;\n\n  // Should create new instance on each method\n  if (!state.parent) {\n    state.children = [];\n    this._wrap();\n  }\n}\nmodule.exports = Node;\n\nvar stateProps = [\n  'enc', 'parent', 'children', 'tag', 'args', 'reverseArgs', 'choice',\n  'optional', 'any', 'obj', 'use', 'alteredUse', 'key', 'default', 'explicit',\n  'implicit', 'contains'\n];\n\nNode.prototype.clone = function clone() {\n  var state = this._baseState;\n  var cstate = {};\n  stateProps.forEach(function(prop) {\n    cstate[prop] = state[prop];\n  });\n  var res = new this.constructor(cstate.parent);\n  res._baseState = cstate;\n  return res;\n};\n\nNode.prototype._wrap = function wrap() {\n  var state = this._baseState;\n  methods.forEach(function(method) {\n    this[method] = function _wrappedMethod() {\n      var clone = new this.constructor(this);\n      state.children.push(clone);\n      return clone[method].apply(clone, arguments);\n    };\n  }, this);\n};\n\nNode.prototype._init = function init(body) {\n  var state = this._baseState;\n\n  assert(state.parent === null);\n  body.call(this);\n\n  // Filter children\n  state.children = state.children.filter(function(child) {\n    return child._baseState.parent === this;\n  }, this);\n  assert.equal(state.children.length, 1, 'Root node can have only one child');\n};\n\nNode.prototype._useArgs = function useArgs(args) {\n  var state = this._baseState;\n\n  // Filter children and args\n  var children = args.filter(function(arg) {\n    return arg instanceof this.constructor;\n  }, this);\n  args = args.filter(function(arg) {\n    return !(arg instanceof this.constructor);\n  }, this);\n\n  if (children.length !== 0) {\n    assert(state.children === null);\n    state.children = children;\n\n    // Replace parent to maintain backward link\n    children.forEach(function(child) {\n      child._baseState.parent = this;\n    }, this);\n  }\n  if (args.length !== 0) {\n    assert(state.args === null);\n    state.args = args;\n    state.reverseArgs = args.map(function(arg) {\n      if (typeof arg !== 'object' || arg.constructor !== Object)\n        return arg;\n\n      var res = {};\n      Object.keys(arg).forEach(function(key) {\n        if (key == (key | 0))\n          key |= 0;\n        var value = arg[key];\n        res[value] = key;\n      });\n      return res;\n    });\n  }\n};\n\n//\n// Overrided methods\n//\n\noverrided.forEach(function(method) {\n  Node.prototype[method] = function _overrided() {\n    var state = this._baseState;\n    throw new Error(method + ' not implemented for encoding: ' + state.enc);\n  };\n});\n\n//\n// Public methods\n//\n\ntags.forEach(function(tag) {\n  Node.prototype[tag] = function _tagMethod() {\n    var state = this._baseState;\n    var args = Array.prototype.slice.call(arguments);\n\n    assert(state.tag === null);\n    state.tag = tag;\n\n    this._useArgs(args);\n\n    return this;\n  };\n});\n\nNode.prototype.use = function use(item) {\n  assert(item);\n  var state = this._baseState;\n\n  assert(state.use === null);\n  state.use = item;\n\n  return this;\n};\n\nNode.prototype.optional = function optional() {\n  var state = this._baseState;\n\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.def = function def(val) {\n  var state = this._baseState;\n\n  assert(state['default'] === null);\n  state['default'] = val;\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.explicit = function explicit(num) {\n  var state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.explicit = num;\n\n  return this;\n};\n\nNode.prototype.implicit = function implicit(num) {\n  var state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.implicit = num;\n\n  return this;\n};\n\nNode.prototype.obj = function obj() {\n  var state = this._baseState;\n  var args = Array.prototype.slice.call(arguments);\n\n  state.obj = true;\n\n  if (args.length !== 0)\n    this._useArgs(args);\n\n  return this;\n};\n\nNode.prototype.key = function key(newKey) {\n  var state = this._baseState;\n\n  assert(state.key === null);\n  state.key = newKey;\n\n  return this;\n};\n\nNode.prototype.any = function any() {\n  var state = this._baseState;\n\n  state.any = true;\n\n  return this;\n};\n\nNode.prototype.choice = function choice(obj) {\n  var state = this._baseState;\n\n  assert(state.choice === null);\n  state.choice = obj;\n  this._useArgs(Object.keys(obj).map(function(key) {\n    return obj[key];\n  }));\n\n  return this;\n};\n\nNode.prototype.contains = function contains(item) {\n  var state = this._baseState;\n\n  assert(state.use === null);\n  state.contains = item;\n\n  return this;\n};\n\n//\n// Decoding\n//\n\nNode.prototype._decode = function decode(input, options) {\n  var state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return input.wrapResult(state.children[0]._decode(input, options));\n\n  var result = state['default'];\n  var present = true;\n\n  var prevKey = null;\n  if (state.key !== null)\n    prevKey = input.enterKey(state.key);\n\n  // Check if tag is there\n  if (state.optional) {\n    var tag = null;\n    if (state.explicit !== null)\n      tag = state.explicit;\n    else if (state.implicit !== null)\n      tag = state.implicit;\n    else if (state.tag !== null)\n      tag = state.tag;\n\n    if (tag === null && !state.any) {\n      // Trial and Error\n      var save = input.save();\n      try {\n        if (state.choice === null)\n          this._decodeGeneric(state.tag, input, options);\n        else\n          this._decodeChoice(input, options);\n        present = true;\n      } catch (e) {\n        present = false;\n      }\n      input.restore(save);\n    } else {\n      present = this._peekTag(input, tag, state.any);\n\n      if (input.isError(present))\n        return present;\n    }\n  }\n\n  // Push object on stack\n  var prevObj;\n  if (state.obj && present)\n    prevObj = input.enterObject();\n\n  if (present) {\n    // Unwrap explicit values\n    if (state.explicit !== null) {\n      var explicit = this._decodeTag(input, state.explicit);\n      if (input.isError(explicit))\n        return explicit;\n      input = explicit;\n    }\n\n    var start = input.offset;\n\n    // Unwrap implicit and normal values\n    if (state.use === null && state.choice === null) {\n      if (state.any)\n        var save = input.save();\n      var body = this._decodeTag(\n        input,\n        state.implicit !== null ? state.implicit : state.tag,\n        state.any\n      );\n      if (input.isError(body))\n        return body;\n\n      if (state.any)\n        result = input.raw(save);\n      else\n        input = body;\n    }\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), start, input.length, 'tagged');\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), input.offset, input.length, 'content');\n\n    // Select proper method for tag\n    if (state.any)\n      result = result;\n    else if (state.choice === null)\n      result = this._decodeGeneric(state.tag, input, options);\n    else\n      result = this._decodeChoice(input, options);\n\n    if (input.isError(result))\n      return result;\n\n    // Decode children\n    if (!state.any && state.choice === null && state.children !== null) {\n      state.children.forEach(function decodeChildren(child) {\n        // NOTE: We are ignoring errors here, to let parser continue with other\n        // parts of encoded data\n        child._decode(input, options);\n      });\n    }\n\n    // Decode contained/encoded by schema, only in bit or octet strings\n    if (state.contains && (state.tag === 'octstr' || state.tag === 'bitstr')) {\n      var data = new DecoderBuffer(result);\n      result = this._getUse(state.contains, input._reporterState.obj)\n          ._decode(data, options);\n    }\n  }\n\n  // Pop object\n  if (state.obj && present)\n    result = input.leaveObject(prevObj);\n\n  // Set key\n  if (state.key !== null && (result !== null || present === true))\n    input.leaveKey(prevKey, state.key, result);\n  else if (prevKey !== null)\n    input.exitKey(prevKey);\n\n  return result;\n};\n\nNode.prototype._decodeGeneric = function decodeGeneric(tag, input, options) {\n  var state = this._baseState;\n\n  if (tag === 'seq' || tag === 'set')\n    return null;\n  if (tag === 'seqof' || tag === 'setof')\n    return this._decodeList(input, tag, state.args[0], options);\n  else if (/str$/.test(tag))\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'objid' && state.args)\n    return this._decodeObjid(input, state.args[0], state.args[1], options);\n  else if (tag === 'objid')\n    return this._decodeObjid(input, null, null, options);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._decodeTime(input, tag, options);\n  else if (tag === 'null_')\n    return this._decodeNull(input, options);\n  else if (tag === 'bool')\n    return this._decodeBool(input, options);\n  else if (tag === 'objDesc')\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'int' || tag === 'enum')\n    return this._decodeInt(input, state.args && state.args[0], options);\n\n  if (state.use !== null) {\n    return this._getUse(state.use, input._reporterState.obj)\n        ._decode(input, options);\n  } else {\n    return input.error('unknown tag: ' + tag);\n  }\n};\n\nNode.prototype._getUse = function _getUse(entity, obj) {\n\n  var state = this._baseState;\n  // Create altered use decoder if implicit is set\n  state.useDecoder = this._use(entity, obj);\n  assert(state.useDecoder._baseState.parent === null);\n  state.useDecoder = state.useDecoder._baseState.children[0];\n  if (state.implicit !== state.useDecoder._baseState.implicit) {\n    state.useDecoder = state.useDecoder.clone();\n    state.useDecoder._baseState.implicit = state.implicit;\n  }\n  return state.useDecoder;\n};\n\nNode.prototype._decodeChoice = function decodeChoice(input, options) {\n  var state = this._baseState;\n  var result = null;\n  var match = false;\n\n  Object.keys(state.choice).some(function(key) {\n    var save = input.save();\n    var node = state.choice[key];\n    try {\n      var value = node._decode(input, options);\n      if (input.isError(value))\n        return false;\n\n      result = { type: key, value: value };\n      match = true;\n    } catch (e) {\n      input.restore(save);\n      return false;\n    }\n    return true;\n  }, this);\n\n  if (!match)\n    return input.error('Choice not matched');\n\n  return result;\n};\n\n//\n// Encoding\n//\n\nNode.prototype._createEncoderBuffer = function createEncoderBuffer(data) {\n  return new EncoderBuffer(data, this.reporter);\n};\n\nNode.prototype._encode = function encode(data, reporter, parent) {\n  var state = this._baseState;\n  if (state['default'] !== null && state['default'] === data)\n    return;\n\n  var result = this._encodeValue(data, reporter, parent);\n  if (result === undefined)\n    return;\n\n  if (this._skipDefault(result, reporter, parent))\n    return;\n\n  return result;\n};\n\nNode.prototype._encodeValue = function encode(data, reporter, parent) {\n  var state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return state.children[0]._encode(data, reporter || new Reporter());\n\n  var result = null;\n\n  // Set reporter to share it with a child class\n  this.reporter = reporter;\n\n  // Check if data is there\n  if (state.optional && data === undefined) {\n    if (state['default'] !== null)\n      data = state['default']\n    else\n      return;\n  }\n\n  // Encode children first\n  var content = null;\n  var primitive = false;\n  if (state.any) {\n    // Anything that was given is translated to buffer\n    result = this._createEncoderBuffer(data);\n  } else if (state.choice) {\n    result = this._encodeChoice(data, reporter);\n  } else if (state.contains) {\n    content = this._getUse(state.contains, parent)._encode(data, reporter);\n    primitive = true;\n  } else if (state.children) {\n    content = state.children.map(function(child) {\n      if (child._baseState.tag === 'null_')\n        return child._encode(null, reporter, data);\n\n      if (child._baseState.key === null)\n        return reporter.error('Child should have a key');\n      var prevKey = reporter.enterKey(child._baseState.key);\n\n      if (typeof data !== 'object')\n        return reporter.error('Child expected, but input is not object');\n\n      var res = child._encode(data[child._baseState.key], reporter, data);\n      reporter.leaveKey(prevKey);\n\n      return res;\n    }, this).filter(function(child) {\n      return child;\n    });\n    content = this._createEncoderBuffer(content);\n  } else {\n    if (state.tag === 'seqof' || state.tag === 'setof') {\n      // TODO(indutny): this should be thrown on DSL level\n      if (!(state.args && state.args.length === 1))\n        return reporter.error('Too many args for : ' + state.tag);\n\n      if (!Array.isArray(data))\n        return reporter.error('seqof/setof, but data is not Array');\n\n      var child = this.clone();\n      child._baseState.implicit = null;\n      content = this._createEncoderBuffer(data.map(function(item) {\n        var state = this._baseState;\n\n        return this._getUse(state.args[0], data)._encode(item, reporter);\n      }, child));\n    } else if (state.use !== null) {\n      result = this._getUse(state.use, parent)._encode(data, reporter);\n    } else {\n      content = this._encodePrimitive(state.tag, data);\n      primitive = true;\n    }\n  }\n\n  // Encode data itself\n  var result;\n  if (!state.any && state.choice === null) {\n    var tag = state.implicit !== null ? state.implicit : state.tag;\n    var cls = state.implicit === null ? 'universal' : 'context';\n\n    if (tag === null) {\n      if (state.use === null)\n        reporter.error('Tag could be omitted only for .use()');\n    } else {\n      if (state.use === null)\n        result = this._encodeComposite(tag, primitive, cls, content);\n    }\n  }\n\n  // Wrap in explicit\n  if (state.explicit !== null)\n    result = this._encodeComposite(state.explicit, false, 'context', result);\n\n  return result;\n};\n\nNode.prototype._encodeChoice = function encodeChoice(data, reporter) {\n  var state = this._baseState;\n\n  var node = state.choice[data.type];\n  if (!node) {\n    assert(\n        false,\n        data.type + ' not found in ' +\n            JSON.stringify(Object.keys(state.choice)));\n  }\n  return node._encode(data.value, reporter);\n};\n\nNode.prototype._encodePrimitive = function encodePrimitive(tag, data) {\n  var state = this._baseState;\n\n  if (/str$/.test(tag))\n    return this._encodeStr(data, tag);\n  else if (tag === 'objid' && state.args)\n    return this._encodeObjid(data, state.reverseArgs[0], state.args[1]);\n  else if (tag === 'objid')\n    return this._encodeObjid(data, null, null);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._encodeTime(data, tag);\n  else if (tag === 'null_')\n    return this._encodeNull();\n  else if (tag === 'int' || tag === 'enum')\n    return this._encodeInt(data, state.args && state.reverseArgs[0]);\n  else if (tag === 'bool')\n    return this._encodeBool(data);\n  else if (tag === 'objDesc')\n    return this._encodeStr(data, tag);\n  else\n    throw new Error('Unsupported tag: ' + tag);\n};\n\nNode.prototype._isNumstr = function isNumstr(str) {\n  return /^[0-9 ]*$/.test(str);\n};\n\nNode.prototype._isPrintstr = function isPrintstr(str) {\n  return /^[A-Za-z0-9 '\\(\\)\\+,\\-\\.\\/:=\\?]*$/.test(str);\n};\n","var constants = require('../constants');\n\nexports.tagClass = {\n  0: 'universal',\n  1: 'application',\n  2: 'context',\n  3: 'private'\n};\nexports.tagClassByName = constants._reverse(exports.tagClass);\n\nexports.tag = {\n  0x00: 'end',\n  0x01: 'bool',\n  0x02: 'int',\n  0x03: 'bitstr',\n  0x04: 'octstr',\n  0x05: 'null_',\n  0x06: 'objid',\n  0x07: 'objDesc',\n  0x08: 'external',\n  0x09: 'real',\n  0x0a: 'enum',\n  0x0b: 'embed',\n  0x0c: 'utf8str',\n  0x0d: 'relativeOid',\n  0x10: 'seq',\n  0x11: 'set',\n  0x12: 'numstr',\n  0x13: 'printstr',\n  0x14: 't61str',\n  0x15: 'videostr',\n  0x16: 'ia5str',\n  0x17: 'utctime',\n  0x18: 'gentime',\n  0x19: 'graphstr',\n  0x1a: 'iso646str',\n  0x1b: 'genstr',\n  0x1c: 'unistr',\n  0x1d: 'charstr',\n  0x1e: 'bmpstr'\n};\nexports.tagByName = constants._reverse(exports.tag);\n","var decoders = exports;\n\ndecoders.der = require('./der');\ndecoders.pem = require('./pem');\n","var inherits = require('inherits');\nvar Buffer = require('buffer').Buffer;\n\nvar DERDecoder = require('./der');\n\nfunction PEMDecoder(entity) {\n  DERDecoder.call(this, entity);\n  this.enc = 'pem';\n};\ninherits(PEMDecoder, DERDecoder);\nmodule.exports = PEMDecoder;\n\nPEMDecoder.prototype.decode = function decode(data, options) {\n  var lines = data.toString().split(/[\\r\\n]+/g);\n\n  var label = options.label.toUpperCase();\n\n  var re = /^-----(BEGIN|END) ([^-]+)-----$/;\n  var start = -1;\n  var end = -1;\n  for (var i = 0; i < lines.length; i++) {\n    var match = lines[i].match(re);\n    if (match === null)\n      continue;\n\n    if (match[2] !== label)\n      continue;\n\n    if (start === -1) {\n      if (match[1] !== 'BEGIN')\n        break;\n      start = i;\n    } else {\n      if (match[1] !== 'END')\n        break;\n      end = i;\n      break;\n    }\n  }\n  if (start === -1 || end === -1)\n    throw new Error('PEM section not found for: ' + label);\n\n  var base64 = lines.slice(start + 1, end).join('');\n  // Remove excessive symbols\n  base64.replace(/[^a-z0-9\\+\\/=]+/gi, '');\n\n  var input = new Buffer(base64, 'base64');\n  return DERDecoder.prototype.decode.call(this, input, options);\n};\n","var encoders = exports;\n\nencoders.der = require('./der');\nencoders.pem = require('./pem');\n","var inherits = require('inherits');\n\nvar DEREncoder = require('./der');\n\nfunction PEMEncoder(entity) {\n  DEREncoder.call(this, entity);\n  this.enc = 'pem';\n};\ninherits(PEMEncoder, DEREncoder);\nmodule.exports = PEMEncoder;\n\nPEMEncoder.prototype.encode = function encode(data, options) {\n  var buf = DEREncoder.prototype.encode.call(this, data);\n\n  var p = buf.toString('base64');\n  var out = [ '-----BEGIN ' + options.label + '-----' ];\n  for (var i = 0; i < p.length; i += 64)\n    out.push(p.slice(i, i + 64));\n  out.push('-----END ' + options.label + '-----');\n  return out.join('\\n');\n};\n"],"sourceRoot":""}