(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1619:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),i=a(19),r=a(56),l=a(23),u=a(1553),o=a(1620),d=function(e){function SingleValueInput(t,a){return e.call(this,t,a)||this}return n.__extends(SingleValueInput,e),SingleValueInput.prototype.dataState=function(){return u.DataState.Ready},SingleValueInput.prototype.canEdit=function(){var e=this.props.dataState;return e===u.DataState.Ready||e===u.DataState.Verifying},SingleValueInput.assertStatic=function(e){},SingleValueInput.getHandlerOrDefault=function(e,t){return e&&e.makeHandler?e.makeHandler(t):SingleValueInput.defaultHandler},SingleValueInput.inputKind=o.InputKind.SingleValueInput,SingleValueInput.defaultHandler={validate:function(e){return e},finalize:function(e,t){return i.constant(e)}},SingleValueInput}(r.Component);t.SingleValueInput=d;var p=function(e){function AtomicValueInput(t,a){var n=e.call(this,t,a)||this;return s.assertAtomicOrEmpty(t.value),n}return n.__extends(AtomicValueInput,e),AtomicValueInput.prototype.componentWillReceiveProps=function(e){s.assertAtomicOrEmpty(e.value)},AtomicValueInput.prototype.setAndValidate=function(e){var t=this;this.props.updateValue((function(){return t.props.handler.validate(e)}))},AtomicValueInput.makeAtomicHandler=function(e){return new s(e)},AtomicValueInput}(d);t.AtomicValueInput=p;var s=function(){function AtomicValueHandler(e){this.definition=e.definition}return AtomicValueHandler.prototype.validate=function(e){var t=AtomicValueHandler.assertAtomicOrEmpty(e);if(u.FieldValue.isEmpty(t))return t;var a=validateType(t,this.definition.xsdDatatype);return u.AtomicValue.set(a,{errors:t.errors.filter((function(e){return e.kind!==u.ErrorKind.Input&&e.kind!==u.ErrorKind.Validation})).toList().concat(u.FieldValue.getErrors(a))})},AtomicValueHandler.assertAtomicOrEmpty=function(e){if(u.FieldValue.isEmpty(e)||u.FieldValue.isAtomic(e))return e;throw new Error("Expected atomic or empty value")},AtomicValueHandler.prototype.finalize=function(e,t){return d.defaultHandler.finalize(e,t)},AtomicValueHandler}();function validateType(e,t){if(!e.value)return u.FieldValue.empty;if(!t)return u.FieldValue.fromLabeled(e);if(l.XsdDataTypeValidation.sameXsdDatatype(t,l.vocabularies.xsd.anyURI)){if(e.value.isLiteral()){var a=e.value;return withInputError(e,"Selected value is "+l.XsdDataTypeValidation.datatypeToString(a.datatype)+" where IRI expected")}return(n=l.XsdDataTypeValidation.validate(l.Rdf.literal(e.value.value,l.vocabularies.xsd.anyURI))).success?u.FieldValue.fromLabeled(e):withInputError(e,n.message)}if(e.value.isLiteral()){var n,i=function coerceTo(e,t){return l.XsdDataTypeValidation.sameXsdDatatype(e,t.datatype)?t:l.XsdDataTypeValidation.sameXsdDatatype(e,l.vocabularies.xsd._string)&&l.XsdDataTypeValidation.sameXsdDatatype(t.datatype,l.vocabularies.rdf.langString)?l.Rdf.literal(t.value,e):l.XsdDataTypeValidation.sameXsdDatatype(e,l.vocabularies.rdf.langString)&&l.XsdDataTypeValidation.sameXsdDatatype(t.datatype,l.vocabularies.xsd._string)?t:void 0}(t,a=e.value);return i?(n=l.XsdDataTypeValidation.validate(i)).success?u.FieldValue.fromLabeled({value:i,label:e.label}):withInputError({value:i,label:e.label},n.message):withInputError(e,"XSD datatype of selected value is "+l.XsdDataTypeValidation.datatypeToString(a.datatype)+" where "+l.XsdDataTypeValidation.datatypeToString(t)+" expected")}return withInputError(e,"Selected value is IRI where "+l.XsdDataTypeValidation.datatypeToString(t)+" expected")}function withInputError(e,t){return u.FieldValue.fromLabeled(e,u.FieldError.noErrors.push({kind:u.ErrorKind.Input,message:t}))}t.AtomicValueHandler=s,t.validateType=validateType}}]);
//# sourceMappingURL=default~diagram-search-result~mp-sparql-query-editor~mp-spin-query-template-editor~ontodia~ontodia-e~6f66a20e-0f77e36cdc0abf4ac9a5.js.map