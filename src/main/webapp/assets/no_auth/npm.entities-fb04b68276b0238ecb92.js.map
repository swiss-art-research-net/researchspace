{"version":3,"sources":["webpack:///./node_modules/entities/lib/decode_codepoint.js","webpack:///./node_modules/entities/index.js","webpack:///./node_modules/entities/lib/encode.js","webpack:///./node_modules/entities/lib/decode.js"],"names":["decodeMap","module","exports","decodeCodePoint","codePoint","output","String","fromCharCode","encode","decode","data","level","XML","HTML","decodeStrict","HTMLStrict","encodeXML","encodeHTML4","encodeHTML5","encodeHTML","decodeXML","decodeXMLStrict","decodeHTML4","decodeHTML5","decodeHTML","decodeHTML4Strict","decodeHTML5Strict","decodeHTMLStrict","escape","inverseXML","getInverseObj","xmlReplacer","getInverseReplacer","getInverse","inverseHTML","htmlReplacer","obj","Object","keys","sort","reduce","inverse","name","single","multiple","forEach","k","length","push","unshift","join","RegExp","re_nonASCII","re_astralSymbols","singleCharReplacer","c","charCodeAt","toString","toUpperCase","astralReplacer","re","func","replace","re_xmlChars","escapeXML","entityMap","legacyMap","xmlMap","getStrictDecoder","map","getReplacer","str","legacy","sorter","i","j","replacer","substr","a","b","charAt","parseInt","slice"],"mappings":"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","file":"npm.entities-fb04b68276b0238ecb92.js","sourcesContent":["var decodeMap = require(\"../maps/decode.json\");\n\nmodule.exports = decodeCodePoint;\n\n// modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n\n    if (codePoint in decodeMap) {\n        codePoint = decodeMap[codePoint];\n    }\n\n    var output = \"\";\n\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n\n    output += String.fromCharCode(codePoint);\n    return output;\n}\n","var encode = require(\"./lib/encode.js\"),\n    decode = require(\"./lib/decode.js\");\n\nexports.decode = function(data, level) {\n    return (!level || level <= 0 ? decode.XML : decode.HTML)(data);\n};\n\nexports.decodeStrict = function(data, level) {\n    return (!level || level <= 0 ? decode.XML : decode.HTMLStrict)(data);\n};\n\nexports.encode = function(data, level) {\n    return (!level || level <= 0 ? encode.XML : encode.HTML)(data);\n};\n\nexports.encodeXML = encode.XML;\n\nexports.encodeHTML4 = exports.encodeHTML5 = exports.encodeHTML = encode.HTML;\n\nexports.decodeXML = exports.decodeXMLStrict = decode.XML;\n\nexports.decodeHTML4 = exports.decodeHTML5 = exports.decodeHTML = decode.HTML;\n\nexports.decodeHTML4Strict = exports.decodeHTML5Strict = exports.decodeHTMLStrict = decode.HTMLStrict;\n\nexports.escape = encode.escape;\n","var inverseXML = getInverseObj(require(\"../maps/xml.json\")),\n    xmlReplacer = getInverseReplacer(inverseXML);\n\nexports.XML = getInverse(inverseXML, xmlReplacer);\n\nvar inverseHTML = getInverseObj(require(\"../maps/entities.json\")),\n    htmlReplacer = getInverseReplacer(inverseHTML);\n\nexports.HTML = getInverse(inverseHTML, htmlReplacer);\n\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function(inverse, name) {\n            inverse[obj[name]] = \"&\" + name + \";\";\n            return inverse;\n        }, {});\n}\n\nfunction getInverseReplacer(inverse) {\n    var single = [],\n        multiple = [];\n\n    Object.keys(inverse).forEach(function(k) {\n        if (k.length === 1) {\n            single.push(\"\\\\\" + k);\n        } else {\n            multiple.push(k);\n        }\n    });\n\n    //TODO add ranges\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\n\nvar re_nonASCII = /[^\\0-\\x7F]/g,\n    re_astralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction singleCharReplacer(c) {\n    return (\n        \"&#x\" +\n        c\n            .charCodeAt(0)\n            .toString(16)\n            .toUpperCase() +\n        \";\"\n    );\n}\n\nfunction astralReplacer(c) {\n    // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n    var high = c.charCodeAt(0);\n    var low = c.charCodeAt(1);\n    var codePoint = (high - 0xd800) * 0x400 + low - 0xdc00 + 0x10000;\n    return \"&#x\" + codePoint.toString(16).toUpperCase() + \";\";\n}\n\nfunction getInverse(inverse, re) {\n    function func(name) {\n        return inverse[name];\n    }\n\n    return function(data) {\n        return data\n            .replace(re, func)\n            .replace(re_astralSymbols, astralReplacer)\n            .replace(re_nonASCII, singleCharReplacer);\n    };\n}\n\nvar re_xmlChars = getInverseReplacer(inverseXML);\n\nfunction escapeXML(data) {\n    return data\n        .replace(re_xmlChars, singleCharReplacer)\n        .replace(re_astralSymbols, astralReplacer)\n        .replace(re_nonASCII, singleCharReplacer);\n}\n\nexports.escape = escapeXML;\n","var entityMap = require(\"../maps/entities.json\"),\n    legacyMap = require(\"../maps/legacy.json\"),\n    xmlMap = require(\"../maps/xml.json\"),\n    decodeCodePoint = require(\"./decode_codepoint.js\");\n\nvar decodeXMLStrict = getStrictDecoder(xmlMap),\n    decodeHTMLStrict = getStrictDecoder(entityMap);\n\nfunction getStrictDecoder(map) {\n    var keys = Object.keys(map).join(\"|\"),\n        replace = getReplacer(map);\n\n    keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n\n    var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n\n    return function(str) {\n        return String(str).replace(re, replace);\n    };\n}\n\nvar decodeHTML = (function() {\n    var legacy = Object.keys(legacyMap).sort(sorter);\n\n    var keys = Object.keys(entityMap).sort(sorter);\n\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        } else {\n            keys[i] += \";\";\n        }\n    }\n\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\"),\n        replace = getReplacer(entityMap);\n\n    function replacer(str) {\n        if (str.substr(-1) !== \";\") str += \";\";\n        return replace(str);\n    }\n\n    //TODO consider creating a merged map\n    return function(str) {\n        return String(str).replace(re, replacer);\n    };\n})();\n\nfunction sorter(a, b) {\n    return a < b ? 1 : -1;\n}\n\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            if (str.charAt(2) === \"X\" || str.charAt(2) === \"x\") {\n                return decodeCodePoint(parseInt(str.substr(3), 16));\n            }\n            return decodeCodePoint(parseInt(str.substr(2), 10));\n        }\n        return map[str.slice(1, -1)];\n    };\n}\n\nmodule.exports = {\n    XML: decodeXMLStrict,\n    HTML: decodeHTML,\n    HTMLStrict: decodeHTMLStrict\n};\n"],"sourceRoot":""}