(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{1738:function(e,a,n){Object.defineProperty(a,"__esModule",{value:!0});var r=n(141),t=n(1630);a.DefaultInlineProfile="<http://www.researchspace.org/semantic-search/dummyInlineDefaultProfile>",a.DefaultProfile="<http://www.researchspace.org/resource/system/semantic-search-profile/default-profile>",a.DefaultSearchProfileCategoriesQuery='\n  PREFIX ssp: <http://www.researchspace.org/resource/system/semantic-search-profile/>\n  PREFIX schema: <http://schema.org/>\n\n  SELECT DISTINCT ?profile ?category ?label ?description ?thumbnail WHERE {\n    {\n      SELECT ?category ?label ?profile ?description ?thumbnail {\n        ?profile ssp:hasCategory ?hasCategory.\n        {\n          ?hasCategory ssp:category ?category .\n          ?category rdf:type ssp:Category ;\n            rdfs:label ?label ;\n            rdfs:label ?description ;\n            schema:thumbnail ?thumbnail ;\n            ssp:order ?order .\n        } UNION {\n          BIND(ssp:TextCategory AS ?category) .\n          BIND("text search" AS ?label) .\n          BIND("text search" AS ?description) .\n          BIND("../images/fcs/keywords.svg" AS ?thumbnail) .\n          BIND(10 AS ?order) .\n        }\n      }\n    } UNION {\n      SELECT ?profile ?category ?label ?description ?thumbnail {\n        ?category rdf:type ssp:Category ;\n          rdfs:label ?label ;\n          rdfs:label ?description ;\n          schema:thumbnail ?thumbnail ;\n          ssp:order ?order .\n        BIND(ssp:default-profile as ?profile) .\n      }\n    } UNION {\n      BIND(ssp:TextCategory as ?category) .\n      BIND("text search" as ?label) .\n      BIND("text search" as ?description) .\n      BIND("../images/fcs/keywords.svg" AS ?thumbnail) .\n      BIND(10 AS ?order) .\n      BIND(ssp:default-profile AS ?profile) .\n    }\n  }\n  ORDER BY ?order\n',a.DefaultSearchProfileRelationsQuery='\n  PREFIX ssp: <http://www.researchspace.org/resource/system/semantic-search-profile/>\n\n  SELECT DISTINCT ?profile ?relation ?label ?description ?hasDomain ?hasRange ?order WHERE {\n    {\n      SELECT ?profile ?relation ?label ?hasDomain ?hasRange ?description ?orderLabel ?order {\n        ?profile ssp:hasRelation/ssp:relation ?relation.\n          ?relation rdfs:label ?label ;\n          rdfs:label ?description ;\n          ssp:hasDomain ?hasDomain ;\n          ssp:hasRange ?hasRange .\n        OPTIONAL { ?relation ssp:hasBroaderRelation ?broader }.\n        BIND(IF(BOUND(?broader), CONCAT(STR(?broader), "1"), CONCAT(STR(?relation), "0")) AS ?orderLabel)\n        BIND(IF(BOUND(?broader), 15, 0) AS ?order)\n      }\n    } UNION {\n      SELECT ?profile ?relation ?label ?hasDomain ?hasRange ?description ?orderLabel ?order  {\n        ?relation rdfs:label ?label ;\n          rdfs:label ?description ;\n          ssp:hasDomain ?hasDomain ;\n          ssp:hasRange ?hasRange .\n        BIND(ssp:default-profile as ?profile) .\n        OPTIONAL { ?relation ssp:hasBroaderRelation ?broader }.\n        BIND(IF(BOUND(?broader), CONCAT(STR(?broader), "1"), CONCAT(STR(?relation), "0")) AS ?orderLabel)\n        BIND(IF(BOUND(?broader), 25, 0) AS ?order)\n      }\n    }\n  }\n  ORDER BY ?orderLabel ?label\n',a.DefaultTextPattern=function DefaultTextPattern(){return{"http://www.researchspace.org/resource/system/semantic-search-profile/TextCategory":[{kind:"text",queryPattern:"\n           {\n             $subject a ?__domain__ .\n             $subject "+r.ConfigHolder.getUIConfig().labelPropertyPattern+' ?label .\n             SERVICE <http://www.bigdata.com/rdf/search#search> {\n               ?label bds:search ?__value__ ;\n                      bds:minRelevance "0.3" ;\n                      bds:matchAllTerms "true"  .\n             }\n           }\n      '}]}},a.CategoryViewTemplate='\n  <div style="display: flex; align-items: center;">\n    {{#if thumbnail}}\n      {{#ifCond thumbnail.length \'>\' 0}}\n        <div class="semantic-search__class-selector-item">\n          <img src="{{thumbnail}}" />\n        </div>\n      {{/ifCond}}\n    {{/if}}\n    <span>{{label}}</span>\n  </div>\n',a.RelationViewTemplate="\n  <div>\n    {{label}}\n  </div>\n  ",a.ResultLimit=1e3,function(e){e.forResource=function forResource(){return"\n      SELECT ?value (COUNT(DISTINCT $subject) AS ?count) WHERE {\n        FILTER(?"+t.FACET_VARIABLES.RELATION_PATTERN_VAR+")\n      }\n      GROUP BY ?value\n      ORDER BY ?value\n    "},e.forLiteral=function forLiteral(){return"\n      SELECT ?literal (COUNT(DISTINCT $subject) AS ?count) WHERE {\n        FILTER(?"+t.FACET_VARIABLES.RELATION_PATTERN_VAR+")\n      }\n      GROUP BY ?literal\n      ORDER BY ?literal\n    "},e.forDateRange=function forDateRange(){return"\n      SELECT ?dateBeginValue ?dateEndValue WHERE {\n        FILTER(?"+t.FACET_VARIABLES.RELATION_PATTERN_VAR+")\n      } ORDER BY ?dateBeginValue\n    "},e.forNumericRange=function forNumericRange(){return"\n      SELECT ?numericRangeBeginValue ?numericRangeEndValue WHERE {\n        FILTER(?"+t.FACET_VARIABLES.RELATION_PATTERN_VAR+")\n      } ORDER BY ?numericRangeBeginValue\n    "},e.ResourceRelationPattern="$subject ?"+t.FACET_VARIABLES.RELATION_VAR+" ?value",e.LiteralRelationPattern="$subject ?"+t.FACET_VARIABLES.RELATION_VAR+" ?literal"}(a.DefaultFacetValuesQueries||(a.DefaultFacetValuesQueries={})),a.DefaultFacetValueTemplate={resource:'<span><mp-highlight highlight="{{highlight}}">{{label.value}}</mp-highlight> ({{count.value}})</span>',literal:'<span><mp-highlight highlight="{{highlight}}">{{literal.value}}</mp-highlight> ({{count.value}})</span>'},a.DefaultFacetRelationTupleTemplate='\n <div class="facet-relation__content" title="{{$relation.label.value}}">\n   {{$relation.label.value}}\n   {{#if $range.thumbnail}}\n     {{#ifCond $range.thumbnail.value.length \'>\' 0}}\n       <img class="facet__relation__content__category-image" src="{{$range.thumbnail.value}}"/>\n     {{/ifCond}}\n   {{/if}}\n  </div>\n',a.DefaultFacetCategoriesTupleTemplate="\n  {{#if $category.thumbnail}}\n    {{#ifCond $category.thumbnail.value.length '>' 0}}\n      <div class=\"category-item\" style=\"background-image: url('{{$category.thumbnail.value}}')\"></div>\n    {{else}}\n      <span>{{$category.label.value}}</span>\n    {{/ifCond}}\n  {{else}}\n    <span>{{$category.label.value}}</span>\n  {{/if}}\n",a.DefaultResourceSelectorQuery=function DefaultResourceSelectorQuery(){return'\n    prefix bds: <http://www.bigdata.com/rdf/search#>\n    SELECT DISTINCT ?suggestion ?label WHERE {\n      ?label bds:search ?__token__ ;\n      bds:relevance ?score ;\n      bds:minRelevance "0.5" ;\n      bds:matchAllTerms "true"  .\n\n      ?suggestion '+r.ConfigHolder.getUIConfig().labelPropertyPattern+" ?label .\n      FILTER(EXISTS {\n        { FILTER(?"+t.SEMANTIC_SEARCH_VARIABLES.RELATION_PATTERN_VAR+") }\n      })\n    } ORDER BY DESC(?score)  LIMIT 30\n  "},a.DefaultResourceSelectorRelationPattern="?subject $"+t.SEMANTIC_SEARCH_VARIABLES.RELATION_VAR+" ?suggestion",a.DefaultResourceSelectorSuggestionTemplate='<span title="{{label.value}}">{{label.value}}</span>',a.DefaultResourceSelectorNoSuggestionsTemplate='<div class="suggestion-no-matches">no matches found</div>'}}]);
//# sourceMappingURL=default~semantic-search~semantic-search-facet~semantic-search-query-builder-e392b12b7ecd1a687a51.js.map