{"version":3,"sources":["webpack:///./src/main/web/components/sets/actions/RemoveSetItemAction.ts"],"names":["onClick","item","root","undefined","context","getCurrentSet","element","Rdf","iri","getItem","removeSetItem","render","child","Children","only","this","props","children","cloneElement","contextTypes","SetManagementContextTypes","SetViewContextTypes","SetItemViewContextTypes","Component","RemoveSetItemAction"],"mappings":"6IAkBA,OAEA,QAEA,UAgBA,2F,OAKU,EAAAA,QAAU,WACR,IAAAC,EAAA,QAAAA,KACFC,EAAOD,OAAOE,EAAY,EAAKC,QAAQ,+BAA+BC,gBACtEC,EACJL,EAAO,EAAAM,IAAIC,IAAIP,GAAQ,EAAKG,QAAQ,oCAAoCK,UAC1E,EAAKL,QAAQ,qBAAqBM,cAChCR,EAAMI,I,EASZ,OApByC,mCAehC,8BAAAK,OAAP,WACE,IAAMC,EAAQ,EAAAC,SAASC,KAAKC,KAAKC,MAAMC,UACjCD,EAAQ,CAAChB,QAASe,KAAKf,SAC7B,OAAO,EAAAkB,aAAaN,EAAOI,IAjBf,oBAAAG,aAAY,oCACpB,EAAAC,2BAA8B,EAAAC,qBAAwB,EAAAC,yBAkB9D,oBApBA,CAAyC,EAAAC,WAA5B,EAAAC,sBAqBb,UAAeA","file":"mp-set-management-action-remove-set-item-e28918130dcb72be4d70.js","sourcesContent":["/**\n * ResearchSpace\n * Copyright (C) 2020, Â© Trustees of the British Museum\n * Copyright (C) 2015-2019, metaphacts GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { Component, Children, ReactElement, cloneElement } from 'react';\n\nimport { Rdf } from 'platform/api/rdf';\n\nimport {\n  SetManagementContextTypes, SetManagementContext,\n  SetViewContext, SetViewContextTypes, SetItemViewContext, SetItemViewContextTypes,\n} from '../SetManagementApi';\n\ninterface Props {\n  item?: string;\n}\n\n/**\n * Removes item from the active set.\n *\n * This action can be used only inside <mp-set-management> component template for set item.\n *\n * @example <mp-set-management-action-remove-set-item></mp-set-management-action-remove-set-item>\n */\nexport class RemoveSetItemAction extends Component<Props, {}> {\n  public static contextTypes =\n    {...SetManagementContextTypes, ...SetViewContextTypes, ...SetItemViewContextTypes};\n  context: SetManagementContext & SetViewContext & SetItemViewContext;\n\n  private onClick = () => {\n    const { item } = this.props;\n    const root = item ? undefined : this.context['mp-set-management--set-view'].getCurrentSet();\n    const element =\n      item ? Rdf.iri(item) : this.context['mp-set-management--set-item-view'].getItem();\n    this.context['mp-set-management'].removeSetItem(\n      root, element\n    );\n  }\n\n  public render() {\n    const child = Children.only(this.props.children) as ReactElement<any>;\n    const props = {onClick: this.onClick};\n    return cloneElement(child, props);\n  }\n}\nexport default RemoveSetItemAction;\n"],"sourceRoot":""}