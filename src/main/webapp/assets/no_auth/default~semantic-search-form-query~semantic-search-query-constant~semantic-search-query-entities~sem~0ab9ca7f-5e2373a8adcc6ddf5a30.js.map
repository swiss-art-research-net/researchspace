{"version":3,"sources":["webpack:///./src/main/web/components/semantic/search/commons/Utils.ts"],"names":["setSearchDomain","domain","context","searchProfileStore","chain","profileStore","maybe","fromNullable","map","Rdf","fullIri","iri","categories","get","setDomain"],"mappings":"iIAmBA,YAEA,QAMA,2BAAgBA,gBAAgBC,EAA4BC,GAC1D,OAAOA,EAAQC,mBACZC,OAAM,SAACC,GACN,OAAAC,EACGC,aAAaN,GACbO,IAAI,EAAAC,IAAIC,SACRN,OAAM,SAACO,GAAQ,OAAAL,EAAMC,aAAaF,EAAaO,WAAWC,IAAIF,UAElEH,IAAIN,EAAQY","file":"default~semantic-search-form-query~semantic-search-query-constant~semantic-search-query-entities~sem~0ab9ca7f-5e2373a8adcc6ddf5a30.js","sourcesContent":["/**\n * ResearchSpace\n * Copyright (C) 2020, Â© Trustees of the British Museum\n * Copyright (C) 2015-2019, metaphacts GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport * as maybe from 'data.maybe';\n\nimport { Rdf } from 'platform/api/rdf';\nimport { InitialQueryContext } from '../web-components/SemanticSearchApi';\n\n/**\n * Set base query domain if it is defined\n */\nexport function setSearchDomain(domain: string | undefined, context: InitialQueryContext) {\n  return context.searchProfileStore\n    .chain((profileStore) =>\n      maybe\n        .fromNullable(domain)\n        .map(Rdf.fullIri)\n        .chain((iri) => maybe.fromNullable(profileStore.categories.get(iri)))\n    )\n    .map(context.setDomain);\n}\n"],"sourceRoot":""}