(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1230:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),i=a(16),o=a(1),n=a(35),l=a(2230),d=a(10),u=a(23),s=a(1208),c=a(1553),p=a(1619),m=a(1688);a(1357),t.INPUT_XSD_DATE_FORMAT="YYYY-MM-DDZZ",t.INPUT_XSD_TIME_FORMAT="HH:mm:ssZZ",t.OUTPUT_UTC_DATE_FORMAT="YYYY-MM-DD",t.OUTPUT_UTC_TIME_FORMAT="HH:mm:ss";var f=function(e){function DatePickerInput(){var a=null!==e&&e.apply(this,arguments)||this;return a.onDateSelected=function(e){var r;if("string"==typeof e)r=a.parse(e);else{var i=localMomentAsIfItWasUtc(e),o=getModeFromDatatype(a.datatype),n="date"===o?i.format(t.OUTPUT_UTC_DATE_FORMAT):"time"===o?i.format(t.OUTPUT_UTC_TIME_FORMAT):i.format();r=a.parse(n)}a.setAndValidate(r)},a}return r.__extends(DatePickerInput,e),Object.defineProperty(DatePickerInput.prototype,"datatype",{get:function(){return this.props.definition.xsdDatatype||u.vocabularies.xsd.dateTime},enumerable:!0,configurable:!0}),DatePickerInput.prototype.render=function(){var e=c.FieldValue.asRdfNode(this.props.value),a=function dateLiteralFromRdfNode(e){if(!e||!e.isLiteral())return;var t=e.value,a=[u.vocabularies.xsd.date,u.vocabularies.xsd.time,u.vocabularies.xsd.dateTime];return i.find(a.map((function(e){return u.Rdf.literal(t,e)})),(function(e){return u.XsdDataTypeValidation.validate(e).success}))}(e),r=function utcMomentAsIfItWasLocal(e){if(!e)return;var t=d().utcOffset();return e.clone().subtract(t,"m").local()}(utcMomentFromRdfLiteral(a)),p=this.props.mode||getModeFromDatatype(this.datatype),f=r||(a?a.value:e&&e.isLiteral()?e.value:void 0),T=void 0===this.props.placeholder?function defaultPlaceholder(e,t){var a="time"===t?"time":"date";return"Select or enter "+(s.getPreferredLabel(e.label)||a).toLocaleLowerCase()+" here..."}(this.props.definition,p):this.props.placeholder;return n.div({className:"date-picker-field"},o.createElement(l,{className:"date-picker-field__date-picker",onChange:this.onDateSelected,closeOnSelect:!0,value:f,viewMode:"time"===p?"time":"days",dateFormat:"date"===p||"dateTime"===p?t.OUTPUT_UTC_DATE_FORMAT:null,timeFormat:"time"===p||"dateTime"===p?t.OUTPUT_UTC_TIME_FORMAT:null,inputProps:{placeholder:T}}),o.createElement(m.ValidationMessages,{errors:c.FieldValue.getErrors(this.props.value)}))},DatePickerInput.prototype.parse=function(e){return 0===e.length?c.FieldValue.empty:c.AtomicValue.set(this.props.value,{value:u.Rdf.literal(e,this.datatype)})},DatePickerInput.makeHandler=p.AtomicValueInput.makeAtomicHandler,DatePickerInput}(p.AtomicValueInput);function getModeFromDatatype(e){var t=u.XsdDataTypeValidation.parseXsdDatatype(e);if(t&&"xsd"===t.prefix)switch(t.localName){case"date":return"date";case"time":return"time"}return"dateTime"}function utcMomentFromRdfLiteral(e){if(e){var a=getModeFromDatatype(e.datatype),r="date"===a?d.utc(e.value,t.INPUT_XSD_DATE_FORMAT):"time"===a?d.utc(e.value,t.INPUT_XSD_TIME_FORMAT):d.utc(e.value);return r.isValid()?r:void 0}}function localMomentAsIfItWasUtc(e){var t=d().utcOffset();return e.clone().utc().add(t,"m")}t.DatePickerInput=f,t.getModeFromDatatype=getModeFromDatatype,t.utcMomentFromRdfLiteral=utcMomentFromRdfLiteral,p.SingleValueInput.assertStatic(f),t.default=f}}]);
//# sourceMappingURL=semantic-form-datetime-input-0a9bf5e0a9d08fc1e11c.js.map