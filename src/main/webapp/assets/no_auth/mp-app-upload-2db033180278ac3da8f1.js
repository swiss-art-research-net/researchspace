(window.webpackJsonp=window.webpackJsonp||[]).push([[338],{1388:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),r=n(1),o=n(1654),p=n(1266),l=n(72),s=n(36),i=n(56),c=n(34),u=n(631),d=n(116),m=function(e){function AppUpload(t,n){var a=e.call(this,t,n)||this;return a.cancellation=new c.Cancellation,a.uploadFile=function(e){var t=s.post("/rest/admin/apps/upload-and-install").attach("file",e);return t.send(e),c.requestAsProperty(t).map((function(e){return e.text}))},a.onDrop=function(e){a.setState({messages:[]}),e.map((function(e,t){var n=a.uploadFile(e);return a.cancellation.map(n).observe({value:function(e){return a.appendUploadMessage(e)},error:function(t){a.appendUploadMessage("File: "+e.name+" failed.",t)}}),n}))},a.state={messages:[]},a}return a.__extends(AppUpload,e),AppUpload.prototype.componentWillUnmount=function(){this.cancellation.cancelAll()},AppUpload.prototype.appendUploadMessage=function(e,t){var n=r.createElement(p.RestartWrapper,null,r.createElement(l.Button,{bsStyle:"primary"},"Restart Now"));this.setState((function(o){return{messages:a.__spreadArrays(o.messages,[{alert:t?u.AlertType.WARNING:u.AlertType.SUCCESS,message:e,children:t?r.createElement(d.ErrorPresenter,{error:t}):n}])}}))},AppUpload.prototype.render=function(){var e=this.state.messages.map((function(e,t){return r.createElement(u.Alert,a.__assign({key:t},e))}));return r.createElement("div",{className:"text-center"},r.createElement(o.Dropzone,{multiple:!1,onDrop:this.onDrop,style:{margin:"auto"}},r.createElement("span",null,"Please drag&drop your app zip file here OR click into the field to open the browser's standard file selector.")),e)},AppUpload}(i.Component);t.AppUpload=m,t.default=m}}]);
//# sourceMappingURL=mp-app-upload-2db033180278ac3da8f1.js.map