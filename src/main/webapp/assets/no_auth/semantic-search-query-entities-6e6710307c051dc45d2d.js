(window.webpackJsonp=window.webpackJsonp||[]).push([[501],{1350:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(33),a=n(1),s=n(56),i=n(61),c=n(1249),p=n(1823),u=n(1569),l=function(e){function EntitySearch(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(EntitySearch,e),EntitySearch.prototype.render=function(){var e=this;return a.createElement(u.SemanticSearchContext.Consumer,null,(function(t){return a.createElement(h,r.__assign({},e.props,{context:t}))}))},EntitySearch}(s.Component),h=function(e){function EntitySearchInner(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSelected=function(e){var n;if(t.isEmptySelection(e))return t.props.context.setBaseQuery(o.Nothing());var r,a=t.props.resourceBindingName,s=i.SparqlUtil.parseQuerySync(t.props.query);if(t.props.multi){var c=e.map((function(e){var t;return(t={})[a]=e.resource,t}));r=i.SparqlClient.prepareParsedQuery(c)(s)}else r=i.SparqlClient.setBindings(s,((n={})[a]=e[a],n));t.props.context.setBaseQuery(o.Just(r))},t}return r.__extends(EntitySearchInner,e),EntitySearchInner.prototype.componentDidMount=function(){p.setSearchDomain(this.props.domain,this.props.context)},EntitySearchInner.prototype.componentWillReceiveProps=function(e){var t=e.context;t.searchProfileStore.isJust&&t.domain.isNothing&&p.setSearchDomain(e.domain,t)},EntitySearchInner.prototype.render=function(){if(!this.props.query)throw new Error('The mandatory configuration attribute "query" is not set.');var e=this.props,t=e.placeholder,n=(e.style,e.className,e.multi),r=e.template,o=e.searchQuery,s=e.resourceBindingName,i=e.defaultQuery,p=e.escapeLuceneSyntax;return a.createElement(c.SimpleSearch,{query:o,onSelected:this.onSelected,template:r,multi:n,placeholder:t,resourceBindingName:s,defaultQuery:i,escapeLuceneSyntax:p})},EntitySearchInner.prototype.isEmptySelection=function(e){return Array.isArray(e)&&!e.length||!e},EntitySearchInner.defaultProps={searchQuery:'PREFIX skos: <http://www.w3.org/2004/02/skos/core#>\n            PREFIX bds: <http://www.bigdata.com/rdf/search#>\n            SELECT ?resource WHERE {\n                ?resource rdfs:label|skos:prefLabel ?label .\n                ?label bds:search ?__token__ ;\n                bds:minRelevance "0.5" ;\n                bds:relevance ?score ;\n                bds:matchAllTerms "true" .\n                BIND(STRLEN(?label) as ?length)\n            } ORDER BY DESC(?score) ?length',template:'<span><mp-label iri="{{resource.value}}"></mp-label></span>',resourceBindingName:"resource"},EntitySearchInner}(a.Component);t.default=l}}]);
//# sourceMappingURL=semantic-search-query-entities-6e6710307c051dc45d2d.js.map